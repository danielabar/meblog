<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.541afdf78c4b6ead4b9b.css">a,abbr,acronym,address,applet,article,aside,audio,b,big,blockquote,body,canvas,caption,center,cite,code,dd,del,details,dfn,div,dl,dt,em,embed,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,header,hgroup,html,i,iframe,img,ins,kbd,label,legend,li,mark,menu,nav,object,ol,output,p,pre,q,ruby,s,samp,section,small,span,strike,strong,sub,summary,sup,table,tbody,td,tfoot,th,thead,time,tr,tt,u,ul,var,video{margin:0;padding:0;border:0;font-size:100%;font:inherit;vertical-align:baseline}article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:after,blockquote:before,q:after,q:before{content:"";content:none}table{border-collapse:collapse;border-spacing:0}a{color:inherit;text-decoration:inherit}button,input,textarea{border-radius:0;-webkit-border-radius:0}button,input{-webkit-appearance:none}html{-webkit-text-size-adjust:100%;-moz-text-size-adjust:100%;-ms-text-size-adjust:100%}:root{--brand:#81439c;--brand-lighten-10:#9c5ab8;--brand-lighten-20:#b17ec7;--brand-lighten-30:#c7a1d7;--brand-lighten-40:#dcc5e6;--brand-lighten-50:#f1e9f5;--brand-lighten-55:#fcfafd;--brand-darken-10:#633478;--brand-darken-20:#462455;--brand-darken-30:#281531;--brand-darken-35:#1a0d1f;--brand-darken-40:#0b060d;--brand-saturate-5:#833da2;--brand-desaturate-35:#726a75;--brand-desaturate-35-transp-50:rgba(114,106,117,0.5);--brand-complement:#9c8f43;--brand-complement-lighten-45:#eeead7;--brand-triadic-middle:#5e9c43;--link-color:#5d93ff;--inactive-color:#bbb;--post-link-color:var(--brand-lighten-10);--post-link-color-brighten:var(--brand-saturate-5);--post-link-color-hover:#999;--base-font-color:var(--brand-darken-35);--base-font-family:-apple-system,system-ui,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif}html{box-sizing:border-box}*,:after,:before{box-sizing:inherit}body{background-color:var(--brand-lighten-55);color:var(--base-font-color);color-adjust:exact!important;font-family:var(--base-font-family);font-size:1rem;font-weight:400;line-height:26px;margin:10px;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-print-color-adjust:exact!important}.layout-module--container--zLeA4{margin:0 auto;max-width:900px}@media (max-width:768px){.layout-module--container--zLeA4{margin:0 16px}}@media (max-width:640px){.layout-module--container--zLeA4{margin:0 16px}}.header-module--container--18lpt{align-items:center;display:flex;justify-content:space-between}.header-module--logo--3gu8x{align-items:center;display:flex;margin-left:-5px}.header-module--profile-wrapper--3R-fl{border:1px solid var(--brand-lighten-40);border-radius:50%;height:70px;overflow:hidden;position:relative;width:70px}.header-module--profile-img--wnp-Z{height:100%;left:0;-o-object-fit:cover;object-fit:cover;-o-object-position:center center;object-position:center center;position:absolute;top:0;width:100%}.header-module--header-item--17b7u{color:var(--brand);font-size:22px}.header-module--title--2iLmX{font-weight:600;margin-left:10px}.header-module--nav-list--2ganu{display:flex;flex-direction:row}.header-module--nav-item--2eEcY{font-weight:500;margin-left:15px}.nav-menu-responsive-module--nav-open--2t7ry{align-items:center;background:var(--brand-complement-lighten-45);display:flex;height:100%;justify-content:center;left:0;opacity:.95;position:absolute;top:0;width:100%;z-index:100}.nav-menu-responsive-module--nav-list--hVoy5{display:flex;flex-direction:column;text-align:center;width:100%}.nav-menu-responsive-module--header-item--2yJoY{color:var(--brand-saturate-5)}.nav-menu-responsive-module--nav-item--13nmf{box-shadow:5px 5px 5px 5px var(--brand-desaturate-35-transp-50);font-weight:500;margin-bottom:20px;margin-left:25px;margin-right:45px}.nav-menu-responsive-module--menu-button--3YgxZ{background-color:transparent;border-color:transparent;color:var(--brand-darken-10);cursor:pointer;height:55px;width:55px}.nav-menu-responsive-module--menu-button-close--30tLV{position:absolute;right:10px;top:10px}.nav-menu-responsive-module--nav-link--1vE6I{font-size:20px;font-weight:500;letter-spacing:2.5px;line-height:2.5;padding:15px 40%;text-transform:uppercase}.nav-menu-responsive-module--active--1EDSg{color:var(--brand-darken-10)}.nav-menu-module--nav-list--2gVNM{display:flex;flex-direction:row}.nav-menu-module--header-item--3ofg1{color:var(--brand);font-size:17px;letter-spacing:1.5px;text-transform:uppercase}.nav-menu-module--nav-item--1lKPw{font-weight:500;margin-left:15px}.nav-menu-module--active--31h8g{color:var(--brand-darken-20);cursor:inherit}.footer-module--container--2iXoO{margin-top:50px;text-align:center}.footer-module--sep--1iHNN{margin-bottom:30px;opacity:.2}.footer-module--copy--7yIGn{font-size:1.1rem;opacity:.7}.footer-module--social--3cljd{margin-top:25px}.footer-module--social--3cljd a{display:inline-block;margin-left:15px}.footer-module--social--3cljd a:first-child{margin-left:0}.footer-module--footer-icon--2phyq{color:var(--base-font-color);font-size:1.7em;opacity:.7;transition:all .3s ease}.footer-module--footer-icon--2phyq:hover{color:var(--brand-saturate-5);opacity:1}@media (max-width:768px){.footer-module--social--3cljd a{margin-left:25px}.footer-module--footer-icon--2phyq{font-size:2em}}.about-module--container--1ewHF{margin-top:30px;font-size:1.2em;font-weight:300;line-height:1.6}.about-module--header--2Gxwb{font-size:4rem;font-weight:300;letter-spacing:-1.5px;line-height:60px;margin:20px 0}.about-module--subheader--2z5zZ{font-size:1.8rem;font-weight:400;letter-spacing:-.5px;line-height:2.5rem;margin-bottom:15px}.about-module--para--S2W1Q{margin-top:10px;margin-bottom:25px}.about-module--link--5uLO_{text-decoration:none;background:linear-gradient(180deg,var(--post-link-color-hover) 0,var(--post-link-color-hover));background-position:0 100%;background-repeat:repeat-x;background-size:3px 3px;transition:background-size .4s;color:var(--post-link-color);padding:3px;border-radius:4px}.about-module--link--5uLO_:hover{text-decoration:none;color:var(--post-link-color-brighten);background-size:4px 50px}.intro-module--container--3fIA5{margin-bottom:30px;line-height:1.4;font-weight:300;font-size:1.1em}.article-module--container--1HbcQ{margin-top:25px;padding-right:150px}.article-module--title--2aaH5{font-size:1.5rem;font-weight:600;line-height:40px}.article-module--title--2aaH5:hover{border-bottom:1px solid var(--base-font-color)}.article-module--subheader--6GQfW{display:flex;font-size:.9em;font-weight:600;text-transform:uppercase}.article-module--date--A0OoP{margin-right:10px}.article-module--category--2qtxG{color:var(--brand-lighten-10)}.article-module--read--1fqTc{color:var(--link-color)}.article-module--read--1fqTc:hover{border-bottom:1px solid var(--link-color)}@media (max-width:768px){.article-module--container--1HbcQ{padding-right:50px}}@media (max-width:640px){.article-module--container--1HbcQ{padding-right:0}}.all-link-module--all-link--3uPzS{color:var(--brand-darken-30);display:inline-block;height:35px;padding:0 25px;line-height:35px;text-align:center;border:1px solid var(--brand-lighten-40);border-radius:20px}.all-link-module--all-link--3uPzS:hover{border-color:var(--brand-lighten-30)}._404-module--container---hXYv{align-items:center;display:flex;flex-direction:column;margin:30px 0}._404-module--main--D8CXV{font-size:15rem;font-weight:200;line-height:1.3;opacity:.7}._404-module--submain--3Ekrs{font-size:2.5rem;font-weight:500;line-height:1;margin-bottom:20px;opacity:.7}._404-module--message--2zDzP{font-size:1.5rem;font-weight:300;line-height:1;opacity:.7;text-transform:uppercase}@media (max-width:768px){._404-module--container---hXYv{margin:5px 0}._404-module--main--D8CXV{font-size:9rem;line-height:1.1}._404-module--submain--3Ekrs{font-size:2rem}._404-module--message--2zDzP{font-size:1.3rem}}.pagination-module--container--SLFjv{height:30px;margin:20px 0}.pagination-module--pagination--2HR3A{color:var(--brand-lighten-10);font-size:26px;font-weight:700;line-height:26px;text-transform:uppercase}.pagination-module--pagination--2HR3A:hover{color:var(--link-color)}.pagination-module--inactive--28Bzs{color:var(--inactive-color);pointer-events:none}.pagination-module--prev--1zJqU{float:left}.pagination-module--next--3GNag{float:right}.post-module--title--_4a8P{font-size:4rem;font-weight:300;letter-spacing:-1.5px;line-height:60px;margin:20px 0}.post-module--published--OKKle{font-style:italic;font-weight:300;margin:15px 0}.post-module--feature-image--1GQvY{margin-bottom:20px}.post-module--content--2Opks{font-size:1.2rem;line-height:30px}.post-module--content--2Opks h2{font-size:1.8rem;font-weight:400;letter-spacing:-.5px;line-height:2.5rem;margin-bottom:15px}.post-module--content--2Opks h3{font-size:1.4rem;font-weight:500;margin-bottom:5px}.post-module--content--2Opks p{margin-bottom:20px}.post-module--content--2Opks a{text-decoration:none;background:linear-gradient(180deg,var(--post-link-color-hover) 0,var(--post-link-color-hover));background-position:0 100%;background-repeat:repeat-x;background-size:3px 3px;transition:background-size .4s;color:var(--post-link-color);padding:3px;border-radius:4px}.post-module--content--2Opks a:hover{text-decoration:none;color:var(--post-link-color-brighten);background-size:4px 50px}.post-module--content--2Opks ol{list-style:decimal;margin-bottom:15px;margin-left:20px}.post-module--content--2Opks ul{list-style-type:"\2192";margin-bottom:15px;margin-left:20px}.post-module--content--2Opks li{padding-left:5px}.post-module--content--2Opks blockquote{border-left:3px solid var(--brand-triadic-middle);font-size:.9em;font-style:italic;font-weight:200;padding-left:15px}.post-module--content--2Opks kbd{display:inline-block;margin:0 .1em;padding:.1em .6em;font-family:Arial,Helvetica Neue,Helvetica,sans-serif;font-size:14px;line-height:1.4;color:#000;text-shadow:0 1px 0 #fff;background-color:#e4e6e8;border:1px solid #9fa6ad;border-radius:3px;box-shadow:0 1px 1px rgba(12,13,14,.15),inset 0 1px 0 0 #fff;white-space:nowrap}.post-module--content--2Opks code{background-color:rgba(27,31,35,.05);border-radius:6px;font-size:85%;margin:0;padding:.2em .4em}.post-module--content--2Opks code,.post-module--content--2Opks pre{font-family:SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace}.post-module--content--2Opks pre{font-size:1rem;margin-bottom:20px;padding-top:25px}.post-module--content--2Opks pre[data-language]:before{background:#f7df1e;border-radius:4px;color:#000;font-size:.75rem;font-family:SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;letter-spacing:.075em;line-height:1;position:absolute;text-align:right;text-transform:uppercase;top:0;left:0;padding:3px}.post-module--content--2Opks pre[data-language=bash]:before{content:"bash"}.post-module--content--2Opks pre[data-language=js]:before{content:"js"}.post-module--content--2Opks pre[data-language=ruby]:before{content:"ruby"}.post-module--content--2Opks pre[data-language=yml]:before{content:"yml"}.post-module--content--2Opks pre[data-language=json]:before{content:"json"}.post-module--content--2Opks pre[data-language=html]:before{content:"html"}.post-module--content--2Opks pre[data-language=markdown]:before{content:"markdown"}.post-module--content--2Opks pre[data-language=sql]:before{content:"sql"}.post-module--content--2Opks pre[data-language=python]:before{content:"python"}@media (max-width:1280px){.post-module--content--2Opks ul{list-style-type:disc;list-style-position:inside}}@media (max-width:768px){.post-module--title--_4a8P{font-size:2.3rem;line-height:40px}}@media (max-width:640px){.post-module--title--_4a8P{font-size:2rem;line-height:40px}}</style><meta name="generator" content="Gatsby 2.23.21"/><title data-react-helmet="true">Automate Tabs &amp; Commands in iTerm2 · Daniela Baron</title><link data-react-helmet="true" rel="apple-touch-icon" sizes="57x57" href="/apple-icon-57x57.png"/><link data-react-helmet="true" rel="apple-touch-icon" sizes="60x60" href="/apple-icon-60x60.png"/><link data-react-helmet="true" rel="apple-touch-icon" sizes="72x72" href="/apple-icon-72x72.png"/><link data-react-helmet="true" rel="apple-touch-icon" sizes="76x76" href="/apple-icon-76x76.png"/><link data-react-helmet="true" rel="apple-touch-icon" sizes="114x114" href="/apple-icon-114x114.png"/><link data-react-helmet="true" rel="apple-touch-icon" sizes="120x120" href="/apple-icon-120x120.png"/><link data-react-helmet="true" rel="apple-touch-icon" sizes="144x144" href="/apple-icon-144x144.png"/><link data-react-helmet="true" rel="apple-touch-icon" sizes="152x152" href="/apple-icon-152x152.png"/><link data-react-helmet="true" rel="apple-touch-icon" sizes="180x180" href="/apple-icon-180x180.png"/><link data-react-helmet="true" rel="icon" type="image/png" sizes="192x192" href="/android-icon-192x192.png"/><link data-react-helmet="true" rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"/><link data-react-helmet="true" rel="icon" type="image/png" sizes="96x96" href="/favicon-96x96.png"/><link data-react-helmet="true" rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"/><link data-react-helmet="true" rel="manifest" href="/manifest.json"/><meta data-react-helmet="true" name="description" content="Speed up your daily workflow with iTerm2 automation."/><meta data-react-helmet="true" name="image" content="https://danielabaron.me/static/fb78290dc10d789b9a100d0d2c95c04f/14b42/automation-2-jan-jakub-nanista-UHyrjKPsshk-unsplash.jpg"/><meta data-react-helmet="true" property="og:url" content="https://danielabaron.me/blog/iterm-automation/"/><meta data-react-helmet="true" property="og:type" content="article"/><meta data-react-helmet="true" property="og:title" content="Automate Tabs &amp; Commands in iTerm2"/><meta data-react-helmet="true" property="og:description" content="Speed up your daily workflow with iTerm2 automation."/><meta data-react-helmet="true" property="og:image" content="https://danielabaron.me/static/fb78290dc10d789b9a100d0d2c95c04f/14b42/automation-2-jan-jakub-nanista-UHyrjKPsshk-unsplash.jpg"/><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"/><meta data-react-helmet="true" name="twitter:creator" content="@DanielaMBaron"/><meta data-react-helmet="true" name="twitter:title" content="Automate Tabs &amp; Commands in iTerm2"/><meta data-react-helmet="true" name="twitter:description" content="Speed up your daily workflow with iTerm2 automation."/><meta data-react-helmet="true" name="twitter:image" content="https://danielabaron.me/static/fb78290dc10d789b9a100d0d2c95c04f/14b42/automation-2-jan-jakub-nanista-UHyrjKPsshk-unsplash.jpg"/><meta data-react-helmet="true" name="msapplication-TileColor" content="#ffffff"/><meta data-react-helmet="true" name="msapplication-TileImage" content="/ms-icon-144x144.png"/><meta data-react-helmet="true" name="theme-color" content="#ffffff"/><link as="script" rel="preload" href="/webpack-runtime-e2276ad9f92f4bc89aaa.js"/><link as="script" rel="preload" href="/framework-95b680cb3190aa9bfe59.js"/><link as="script" rel="preload" href="/app-259f8badab9829128140.js"/><link as="script" rel="preload" href="/styles-89fd2ae28bdf06750a71.js"/><link as="script" rel="preload" href="/1bfc9850-5d16e0a00245e09d73c3.js"/><link as="script" rel="preload" href="/252f366e-4b8dd868f7f9c2a7ee52.js"/><link as="script" rel="preload" href="/commons-0e6114030bbaed657548.js"/><link as="script" rel="preload" href="/component---src-templates-post-js-6c8dc3de4250d0615bc4.js"/><link as="fetch" rel="preload" href="/page-data/blog/iterm-automation/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="layout-module--container--zLeA4"><header class="header-module--container--18lpt"><a href="/"><div class="header-module--logo--3gu8x"><div class="header-module--profile-wrapper--3R-fl"><img class="header-module--profile-img--wnp-Z" src="/images/profile.png" alt="Profile"/></div><div class="header-module--header-item--17b7u header-module--title--2iLmX">Daniela Baron</div></div></a><nav><ul class="nav-menu-module--nav-list--2gVNM"><li class="nav-menu-module--header-item--3ofg1 nav-menu-module--nav-item--1lKPw"><a href="/blog">Blog</a></li><li class="nav-menu-module--header-item--3ofg1 nav-menu-module--nav-item--1lKPw"><a href="/about">About</a></li></ul></nav></header><div><div><h1 class="post-module--title--_4a8P">Automate Tabs &amp; Commands in iTerm2</h1><div class="post-module--published--OKKle">Published <!-- -->16 Feb 2021</div><div class="post-module--feature-image--1GQvY gatsby-image-wrapper" style="position:relative;overflow:hidden"><div aria-hidden="true" style="width:100%;padding-bottom:66.39999999999999%"></div><img aria-hidden="true" src="data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAMEAf/EABUBAQEAAAAAAAAAAAAAAAAAAAEC/9oADAMBAAIQAxAAAAGia5ZKjQv/xAAbEAACAgMBAAAAAAAAAAAAAAABAgAyERIhMf/aAAgBAQABBQIoAviJmGuvKz//xAAVEQEBAAAAAAAAAAAAAAAAAAAAAf/aAAgBAwEBPwFH/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAHRAAAQMFAQAAAAAAAAAAAAAAAAExQQIRIVFxkf/aAAgBAQAGPwJX9H1JVmReFhT/xAAcEAEAAwACAwAAAAAAAAAAAAABABEhMUFxgfD/2gAIAQEAAT8hYBwLHsfGQryermq8SAIW4MNDW2+Z/9oADAMBAAIAAwAAABDfz//EABYRAQEBAAAAAAAAAAAAAAAAAAEAEf/aAAgBAwEBPxB20F//xAAWEQEBAQAAAAAAAAAAAAAAAAABABH/2gAIAQIBAT8QMnFv/8QAHhABAQACAQUBAAAAAAAAAAAAAREAITFBYYHB4fD/2gAIAQEAAT8Qo1DKpU38wJo1DWl5fD3hSF21G/2sWgEEYcpmgc0SNN25IGz5iXpn/9k=" alt="" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:500ms"/><noscript><picture><source srcset="/static/fb78290dc10d789b9a100d0d2c95c04f/f836f/automation-2-jan-jakub-nanista-UHyrjKPsshk-unsplash.jpg 200w,
/static/fb78290dc10d789b9a100d0d2c95c04f/2244e/automation-2-jan-jakub-nanista-UHyrjKPsshk-unsplash.jpg 400w,
/static/fb78290dc10d789b9a100d0d2c95c04f/14b42/automation-2-jan-jakub-nanista-UHyrjKPsshk-unsplash.jpg 800w,
/static/fb78290dc10d789b9a100d0d2c95c04f/a7715/automation-2-jan-jakub-nanista-UHyrjKPsshk-unsplash.jpg 1000w" sizes="(max-width: 800px) 100vw, 800px" /><img loading="lazy" sizes="(max-width: 800px) 100vw, 800px" srcset="/static/fb78290dc10d789b9a100d0d2c95c04f/f836f/automation-2-jan-jakub-nanista-UHyrjKPsshk-unsplash.jpg 200w,
/static/fb78290dc10d789b9a100d0d2c95c04f/2244e/automation-2-jan-jakub-nanista-UHyrjKPsshk-unsplash.jpg 400w,
/static/fb78290dc10d789b9a100d0d2c95c04f/14b42/automation-2-jan-jakub-nanista-UHyrjKPsshk-unsplash.jpg 800w,
/static/fb78290dc10d789b9a100d0d2c95c04f/a7715/automation-2-jan-jakub-nanista-UHyrjKPsshk-unsplash.jpg 1000w" src="/static/fb78290dc10d789b9a100d0d2c95c04f/14b42/automation-2-jan-jakub-nanista-UHyrjKPsshk-unsplash.jpg" alt="" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div><div class="post-module--content--2Opks"><p>Do you find yourself opening many iTerm tabs every day to do the same daily routine such as opening editors, running a build, starting up various services etc? If yes, good news, this tedious daily startup routine can be automated, saving you precious minutes each day. This post will walk you through how to achieve this automation using <a href="https://iterm2.com/">iTerm</a> and Python.</p>
<h2>Create Script</h2>
<p>To get started, make sure iTerm is open, then select from the menu: Scripts -> Manage -> New Python Script as shown below:</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 676px;"
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/f6d76417ae3fa8b6bfd758ac3501ebad/9bb7a/iterm-menu-new-script.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 37.1301775147929%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsSAAALEgHS3X78AAABbUlEQVQoz53O3U/TUBiA8SLqsltvCESEKt1a2daP0w9Kuy7rykbdcKWaLCZ8GEn42EQviNfe4pX6Fz8eJxfAFfHid96ck5wnrzJOA0TcQtgmrrDwJFv4NEU817AD1oIDWsNvvOpdsbQ1Rcu/0z76TXTwk/jwF5vFNcs7P3idnqI8i0asFl9ZGU95XsxYHl/ilnsMC53BeJPdosHevk6crtDNlmi0G0SdNpN3bymLIZP3BW8GKd1tgWaaKFW3R7V/QjU7nqv0PvGiP8DLVJyshp1pWFkdMzMQOzXUJCDs5XyezTi/mHJ6ds7s8gsD+We16aAomqyqBsrLW9SWnL7k3SPf1k3sMOLDZMJoNKIvQ7t5TreTsG4KGdTlYbh3LBiCR4Yzt3DL37tSsxBRwsejQ5IkwfM8fN8nDrdQLfcm+BB159/ULJp+SFmWdLopQgZdPyCXW2644X8E5Xxct6nIbZ/WLZ7UzLmKbrOoO/wBN7PdvRdocBQAAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="iterm menu new script"
        title="iterm menu new script"
        src="/static/f6d76417ae3fa8b6bfd758ac3501ebad/9bb7a/iterm-menu-new-script.png"
        srcset="/static/f6d76417ae3fa8b6bfd758ac3501ebad/772e8/iterm-menu-new-script.png 200w,
/static/f6d76417ae3fa8b6bfd758ac3501ebad/e17e5/iterm-menu-new-script.png 400w,
/static/f6d76417ae3fa8b6bfd758ac3501ebad/9bb7a/iterm-menu-new-script.png 676w"
        sizes="(max-width: 676px) 100vw, 676px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></p>
<p>If prompted, go ahead and download the Python runtime:</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 434px;"
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/c6b6fab2ae5ed392a0f1b6faec6db7e8/ade6e/download-runtime.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 40.78341013824885%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsSAAALEgHS3X78AAABeklEQVQoz11RSW7CQBDkCxwTESIQQQSMPbbHC9jIQUICW6xecC4cyCUJ/8gD8oycorywMt0sWQ6l7im7a6prKle6hPCH0FwffXdwge6d+yPvej6C4RBBGCIIgj8If3GV254Oz7YghQWHqkXVhmWasC0TjrS5WoonmOZP/x/0rVLraHAdB9pIoi8dWEosjmMU2y3yosB6s0FBdb1GlmXYKn48HkPXdRYQQjCoZ8Gb+6NgtV1HtVaHMC1MJhNslNBqtcJyueQ+SZILl6Yp5osF5vMFn2fKwMUhCdKqjWYbjdYdDMNQP87ZSVmWDBIi5HnObs98lqXserfbcX40exGUUsJRTsn+dDplUXJCK1M/m83geR5jMBjA91z4vq9mXOYoZ3ZYp5VV8Bw2P4SyfspFqBspKxokF4fDAfv9Ex6iEM34De7zF0YvHxi+fqK1ej8KXnd6PKzpBvrGGQL6CXQW6pJwNOLHiKJIuZLoegmM6BFmVEBEJbr+gnW+Af0pESNQCB0fAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="download runtime"
        title="download runtime"
        src="/static/c6b6fab2ae5ed392a0f1b6faec6db7e8/ade6e/download-runtime.png"
        srcset="/static/c6b6fab2ae5ed392a0f1b6faec6db7e8/772e8/download-runtime.png 200w,
/static/c6b6fab2ae5ed392a0f1b6faec6db7e8/e17e5/download-runtime.png 400w,
/static/c6b6fab2ae5ed392a0f1b6faec6db7e8/ade6e/download-runtime.png 434w"
        sizes="(max-width: 434px) 100vw, 434px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></p>
<p>Next choose the Basic environment (Full Environment is only for more complex scripts that need to install other packages, that won't be necessary for simply opening tabs and running commands):</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 475px;"
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/b2fe08d8a61b87de8b81ac2079fc5a60/466da/choose-python-env.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 69.26315789473684%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsSAAALEgHS3X78AAACJ0lEQVQ4y51USa7TQBD1SWADKyQyKMnPhOMkTuw4sZ04kzLyM1gJGZQvsUAIroE4BRI7JI7BgiOw4ARILB5+9dVR/mdYsHiqruryq65X3dZSqRTyuRxygqzYbPbW5vN5ZDIZxONxJBKJf0LlaPzQ81yYNUvgex7qdQu2bcN1XVSrVbAoiS+RTqfvgDHmaTyFUTYx7HsYDdvQS1U4jhMV8VCr1SLyupD/CY1G47zmN+VyGVoqU8BxVsK3Lzt8/3rEflJE0w2wXi9hWdaZ1DTNO2uiUqlITMUNw4D2NPUM7/cx/Pj0AD8/P8S77RNYbh83pyMOhwN2ux32+72A/mazOceGw6EQkZDFhTCbL6DTKOPD60f4+OYx2raOhuNiMOgjCAJ0Oh1Bt9tFu90WqBj3fyPkhGuWA6NqQzdqMOt2lGDKJjVhW7QcjmrvEiQiqOctYTQUy6LwdQxGE9gNB77vYT6fYzQaYTweCyi60pFQOiqcNSQhExbLELPnKwTtAG6rhevFArPZTLBcLkUv3/fR6/Wk/X6/L1aBUggh70+42WEdbvDy1Vs40QmZcDqdsN1uz4MgKf0wDMUyxsGsViuxLKTrejSUqytcr0KELw4IIqErlbJUY5tseTqdSruX95Ga0Vf6qbjcw6uIUA2gVCrJEOhzrSz3/gbmFAoFFItFeara/bdIe//tqtglGI/FYkI0mUxEazlhMpnE/4Kk/JE0m020okHypL8AQOMFBTh4ei0AAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="choose python environment"
        title="choose python environment"
        src="/static/b2fe08d8a61b87de8b81ac2079fc5a60/466da/choose-python-env.png"
        srcset="/static/b2fe08d8a61b87de8b81ac2079fc5a60/772e8/choose-python-env.png 200w,
/static/b2fe08d8a61b87de8b81ac2079fc5a60/e17e5/choose-python-env.png 400w,
/static/b2fe08d8a61b87de8b81ac2079fc5a60/466da/choose-python-env.png 475w"
        sizes="(max-width: 475px) 100vw, 475px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></p>
<p>Choose Simple script template (because the script we will write will simply run its commands and then exit, it doesn't need to stay open listening for iTerm events):</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 482px;"
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/d021707f4cf4637a49320a48dcf91a52/37e0d/choose-script-template.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 68.04979253112033%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsSAAALEgHS3X78AAACEUlEQVQ4y51UyY7aQBDle1jEIkAwLMbGG9gGbAyGERD2JaBRcsl5znPIIT+Qwyi/EOXvXvwa2fLMIYlyeKrq7upXr6rcTj08PKBWq6Fer8doNBool8soFAooFovC/g2My+VySDmOA01T0TNNWJaFfr+PwWCAZrOJSqWCarX6T6CAbDaLVK/XgzeZwbIH0A1DELquC9u2YYZJkmBscm2E8bS8oygKMpkMUtv9CR9vn/D0+QvGkwCj0Qin0wnj8ThUrsWXdF2P1yRmNQT3eCbL8p3QNA0slx/CQwfdbheTyQSXywWHwwHH4xHX6xXn81n4xO12w3w+x2w2EzZKFhN6rofHYC6GwU32z/d9odTzPKE06dNSJZVF6kgal2z2TGi6du9JqJYBVKqqqrBJPyJ530e2IFZodEMS1YChhVkVXQRwIO/BxpM4mShKxiSdTudO6Jam+Fr7jm+NV7j5AEN/iOPhiN1uh/1+L3pJu1qt3kybCWijQcUKH8tbvA5/4sfwF4LMBo5vY787YL1eh8NaCuLtdovFYoHNZiMGxD2esddU+GYotu7g2X/Bs/eCnmzBdizMZ/cpcuLRRHl5Op0KPwgCoTD5GcVDUVQFUkeCJEtQurI4kCRJgH1J+sk144hWq4V2uy1elngpxUJRvEOBpP8HlEol5PN5QcJWsHySp9NppHj4PyAxfyosnV8Bfygs+Tfd+v4Lahjq7wAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="choose script template"
        title="choose script template"
        src="/static/d021707f4cf4637a49320a48dcf91a52/37e0d/choose-script-template.png"
        srcset="/static/d021707f4cf4637a49320a48dcf91a52/772e8/choose-script-template.png 200w,
/static/d021707f4cf4637a49320a48dcf91a52/e17e5/choose-script-template.png 400w,
/static/d021707f4cf4637a49320a48dcf91a52/37e0d/choose-script-template.png 482w"
        sizes="(max-width: 482px) 100vw, 482px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></p>
<p>Finally, give your script a name to save it, I name mine <code>daily-startup.py</code> but you can choose any name you like:</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 340px;"
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/c036064967a69f688e96b5474c7f2ffa/9f933/save-script.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 52.352941176470594%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAAB2ElEQVQoz22Sy27TUBRF/SFMGAASJbHjx41fSe3aaUnjpHk1VEljQykoNEQqkyKhMOYbmCM+gQkDPm1xr9ugpGWwdK7O0dna++hqQRCwg+8RbhP49E96dLMOgeeW84fc9eW+ZhgGlUqFarVaUjEdnpuCF1adPVkVuvCx/GZZq84uuqpCVQ+jVkOzbZu01eIgjmjECdHpGyYXH+icFfTnl5ycv6U3vaDR7iOSY9w0o552tshwkzbi5RgjTNFM06TRaEjLPnXPJ+i+on32mmQwpTU653A852iSExwPcZIM0eoi0m16kgznaEDNa6LVpE0VNU1T0iRBOA6iXpe4O7h+gB+EePdQ9wvDAE/OLWmuFFSxPc/Ddd1yKZbiiRRXxHFMHEVE/2UfEUvnfsJ+s4FpWWi6rpfDLOsSNUN5u5zi23c+39ywXq9ZLpfMZjOKoiDP83/MJcV8SvDuB3b7inx2iu2I2xsqlxts28GWER0ZfYNKoGbqR6hqSSfCNhGWTsWwZV8v36ZZu42sRDeUwneLm/u25C9YLBasViuulh+ZDDOepp94XPzh4PoX+vvfPBr9xLC9h4L3Ua7CMGQwGDAejxkORxymEXvBmGftr3ijL1S7a54k19Qsh78IvF6yL0incQAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="save script"
        title="save script"
        src="/static/c036064967a69f688e96b5474c7f2ffa/9f933/save-script.png"
        srcset="/static/c036064967a69f688e96b5474c7f2ffa/772e8/save-script.png 200w,
/static/c036064967a69f688e96b5474c7f2ffa/9f933/save-script.png 340w"
        sizes="(max-width: 340px) 100vw, 340px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></p>
<h2>Script Skeleton</h2>
<p>This will open the script in an editor with a basic skeleton already filled in. I've added a few comments to explain what each part does:</p>
<pre class="grvsc-container gatsby-highlight monokai" data-language="python" data-index="0"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source"><span class="mtk3">#!/usr/bin/env python3.7</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk3"># Import the iterm2 python module to provide an interface for communicating with iTerm</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk7">import</span><span class="mtk1"> iterm2</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk3"># All the script logic goes in the main function</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk3"># `connection` holds the link to a running iTerm2 process</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk3"># `async` indicates that this function can be interrupted. This is required because</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk3">#  iTerm2 communicates with the script over a websocket connection,</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk3">#  any time the script sends/receives info from iterm2, it has to wait for a few milliseconds.</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk9 mtki">async</span><span class="mtk1"> </span><span class="mtk9 mtki">def</span><span class="mtk1"> </span><span class="mtk5">main</span><span class="mtk1">(</span><span class="mtk10 mtki">connection</span><span class="mtk1">):</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk3"># Get a reference to the iterm2.App object - a singleton that provides access to iTerm2’s windows,</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk3"># and in turn their tabs and sessions.</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    app </span><span class="mtk7">=</span><span class="mtk1"> </span><span class="mtk7">await</span><span class="mtk1"> iterm2.async_get_app(connection)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk3"># Fetch the “current terminal window” from the app (returns None if there is no current window)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    window </span><span class="mtk7">=</span><span class="mtk1"> app.current_terminal_window</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk7">if</span><span class="mtk1"> window </span><span class="mtk7">is</span><span class="mtk1"> </span><span class="mtk7">not</span><span class="mtk1"> </span><span class="mtk4">None</span><span class="mtk1">:</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk3"># Add a tab to current window using the default profile</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk7">await</span><span class="mtk1"> window.async_create_tab()</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk7">else</span><span class="mtk1">:</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk3"># You can view this message in the script console.</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk9">print</span><span class="mtk1">(</span><span class="mtk6">&quot;No current window&quot;</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk3"># Make a connection to iTerm2 and invoke the main function in an asyncio event loop.</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk3"># When main returns the program terminates.</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">iterm2.run_until_complete(main)</span></span></span></code></pre>
<h2>Run Script</h2>
<p>Currently, all the <code>daily-startup.py</code> script does is to open a new tab in the current terminal window. It doesn't do any real work yet but let's do a quick test and run it just to make sure everything is setup correctly.</p>
<p>There are several different ways to <a href="https://iterm2.com/python-api/tutorial/running.html">run a script</a> but the easiest is to use the "Open Quickly" window. To launch it, enter <kbd>Cmd</kbd> + <kbd>Shift</kbd> + <kbd>O</kbd>, then start typing the name of the script, when its highlighted, hit <kbd>Enter</kbd> to run it. Make sure the focus is in iTerm when you do this:</p>
<p><span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 487px;"
    >
      <a
    class="gatsby-resp-image-link"
    href="/static/66e01a6789f75f70e996318cf158aac2/7b439/open-quickly.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 40.86242299794661%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsSAAALEgHS3X78AAABr0lEQVQoz43Su2/TUBTHcVMkHlOHZukGQ4SEaKo09r3Xr7iJH0mbVGrd4JpCm/KWgsSGhChL/wo2JhYQEisSQ0kZOgFFMADif/ly47RBLIjho3P8s6905XOMy5ZEeHWizgoLtsOVmkXFFMyZ1kRFsywLKeU/OY6D4Xg+V9OUB4MBS+02trKLF57r4nmermOu5ujshHucjXP9je8TBAFG1Q+YFS62Du7dvsVmnrGzfZ2w4eMoE9cWBUdZk/7k2ZbmH6KG7+kbXlIRMwstRLNLZ3WdqJtpOfUkxYvXCFopzeV1XddotFOCZJVwuVfUqmrq3xQWqirErscYc4N3PH3+jdrjIXuvXxLsfUQ8+YXc/YHY/cn0za8Y2RGnr31hKj8qjPqRUxufx9nGJ4z8O7PZK4zyzhsePTvkwt195h++pXx/SGnrgOnNA2ZufOB8NuRM7/3E2d7wr37kXG+fqd4hF/MXGPN+SElELLa69Pt32NruE4YxNT1tSyiUHpKUCvEfRgMyyqaiVNGH/TpL3Y62QpgkLIYRjSimEcc040RP3EUUqyOQQhRViPE6iWNKSX4Duc8nxXFed1MAAAAASUVORK5CYII='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="open quickly"
        title="open quickly"
        src="/static/66e01a6789f75f70e996318cf158aac2/7b439/open-quickly.png"
        srcset="/static/66e01a6789f75f70e996318cf158aac2/772e8/open-quickly.png 200w,
/static/66e01a6789f75f70e996318cf158aac2/e17e5/open-quickly.png 400w,
/static/66e01a6789f75f70e996318cf158aac2/7b439/open-quickly.png 487w"
        sizes="(max-width: 487px) 100vw, 487px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
      />
  </a>
    </span></p>
<p>The script should run and you should see a new tab open.</p>
<h2>Run Commands in Tabs</h2>
<p>Now that we know the script is working, let's go ahead and open another tab, and run some commands in each tab. To do this, we need to get the current session associated with each tab, and then use the <code>async_send_text</code> method to send text through to the tab as if a user had entered it directly into the terminal. The newline character <code>\n</code> must be appended to each command to actually submit it. Edit your script as follows and save it:</p>
<pre class="grvsc-container gatsby-highlight monokai" data-language="python" data-index="1"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source"><span class="mtk3">#!/usr/bin/env python3.7</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk7">import</span><span class="mtk1"> iterm2</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk9 mtki">async</span><span class="mtk1"> </span><span class="mtk9 mtki">def</span><span class="mtk1"> </span><span class="mtk5">main</span><span class="mtk1">(</span><span class="mtk10 mtki">connection</span><span class="mtk1">):</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    app </span><span class="mtk7">=</span><span class="mtk1"> </span><span class="mtk7">await</span><span class="mtk1"> iterm2.async_get_app(connection)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    window </span><span class="mtk7">=</span><span class="mtk1"> app.current_terminal_window</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk7">if</span><span class="mtk1"> window </span><span class="mtk7">is</span><span class="mtk1"> </span><span class="mtk7">not</span><span class="mtk1"> </span><span class="mtk4">None</span><span class="mtk1">:</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk3"># Open a tab</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk7">await</span><span class="mtk1"> window.async_create_tab()</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk3"># Get the active session in this tab</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">        session </span><span class="mtk7">=</span><span class="mtk1"> app.current_terminal_window.current_tab.current_session</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk3"># Send text to the session as though the user had typed it</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk7">await</span><span class="mtk1"> session.async_send_text(</span><span class="mtk6">&#39;echo hello</span><span class="mtk4">\n</span><span class="mtk6">&#39;</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk3"># Open another tab</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk7">await</span><span class="mtk1"> window.async_create_tab()</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">        session </span><span class="mtk7">=</span><span class="mtk1"> app.current_terminal_window.current_tab.current_session</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk7">await</span><span class="mtk1"> session.async_send_text(</span><span class="mtk6">&#39;echo world</span><span class="mtk4">\n</span><span class="mtk6">&#39;</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk7">else</span><span class="mtk1">:</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk9">print</span><span class="mtk1">(</span><span class="mtk6">&quot;No current window&quot;</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">iterm2.run_until_complete(main)</span></span></span></code></pre>
<p>Go ahead and use the Open Quickly window again (<kbd>Cmd</kbd> + <kbd>Shift</kbd> + <kbd>O</kbd>) to run <code>daily-startup.py</code> again.</p>
<p>This time you should get two tabs opened with the first one having run <code>echo hello</code> and the second one having run <code>echo world</code>. Of course, echo-ing various text is not that useful, that was just to demonstrate the concept.</p>
<p>Now that the basic idea is working, the script can be customized to perform all the daily startup tasks you would run. For example, I run two different projects, one of which is started with <code>docker-compose up</code> and another which also uses docker compose but only to start the databases, then runs a rails server in another tab. I also launch a redis gui in another tab. And open VS Code for each project in more tabs. So my script looks something like this. I find it useful to comment each tab section with the task its performing:</p>
<pre class="grvsc-container gatsby-highlight monokai" data-language="python" data-index="2"><code class="grvsc-code"><span class="grvsc-line"><span class="grvsc-source"><span class="mtk3">#!/usr/bin/env python3.7</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk7">import</span><span class="mtk1"> iterm2</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk9 mtki">async</span><span class="mtk1"> </span><span class="mtk9 mtki">def</span><span class="mtk1"> </span><span class="mtk5">main</span><span class="mtk1">(</span><span class="mtk10 mtki">connection</span><span class="mtk1">):</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    app </span><span class="mtk7">=</span><span class="mtk1"> </span><span class="mtk7">await</span><span class="mtk1"> iterm2.async_get_app(connection)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    window </span><span class="mtk7">=</span><span class="mtk1"> app.current_terminal_window</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk7">if</span><span class="mtk1"> window </span><span class="mtk7">is</span><span class="mtk1"> </span><span class="mtk7">not</span><span class="mtk1"> </span><span class="mtk4">None</span><span class="mtk1">:</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk3"># Open VS Code for project A</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk7">await</span><span class="mtk1"> window.async_create_tab()</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">        session </span><span class="mtk7">=</span><span class="mtk1"> app.current_terminal_window.current_tab.current_session</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk7">await</span><span class="mtk1"> session.async_send_text(</span><span class="mtk6">&#39;cd path/to/projectA</span><span class="mtk4">\n</span><span class="mtk6">&#39;</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk7">await</span><span class="mtk1"> session.async_send_text(</span><span class="mtk6">&#39;code .</span><span class="mtk4">\n</span><span class="mtk6">&#39;</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk3"># Run the full stack for project A</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk7">await</span><span class="mtk1"> window.async_create_tab()</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">        session </span><span class="mtk7">=</span><span class="mtk1"> app.current_terminal_window.current_tab.current_session</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk7">await</span><span class="mtk1"> session.async_send_text(</span><span class="mtk6">&#39;cd path/to/projectA</span><span class="mtk4">\n</span><span class="mtk6">&#39;</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk7">await</span><span class="mtk1"> session.async_send_text(</span><span class="mtk6">&#39;docker-compose up</span><span class="mtk4">\n</span><span class="mtk6">&#39;</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk3"># Open VS Code for project B</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk7">await</span><span class="mtk1"> window.async_create_tab()</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">        session </span><span class="mtk7">=</span><span class="mtk1"> app.current_terminal_window.current_tab.current_session</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk7">await</span><span class="mtk1"> session.async_send_text(</span><span class="mtk6">&#39;cd path/to/projectB</span><span class="mtk4">\n</span><span class="mtk6">&#39;</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk7">await</span><span class="mtk1"> session.async_send_text(</span><span class="mtk6">&#39;code .</span><span class="mtk4">\n</span><span class="mtk6">&#39;</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk3"># Run Postgres and Redis for project B</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk7">await</span><span class="mtk1"> window.async_create_tab()</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">        session </span><span class="mtk7">=</span><span class="mtk1"> app.current_terminal_window.current_tab.current_session</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk7">await</span><span class="mtk1"> session.async_send_text(</span><span class="mtk6">&#39;cd path/to/projectB</span><span class="mtk4">\n</span><span class="mtk6">&#39;</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk7">await</span><span class="mtk1"> session.async_send_text(</span><span class="mtk6">&#39;docker-compose up</span><span class="mtk4">\n</span><span class="mtk6">&#39;</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk3"># Run Rails server for project B</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk7">await</span><span class="mtk1"> window.async_create_tab()</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">        session </span><span class="mtk7">=</span><span class="mtk1"> app.current_terminal_window.current_tab.current_session</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk7">await</span><span class="mtk1"> session.async_send_text(</span><span class="mtk6">&#39;cd path/to/projectB</span><span class="mtk4">\n</span><span class="mtk6">&#39;</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk7">await</span><span class="mtk1"> session.async_send_text(</span><span class="mtk6">&#39;bundle exec rails s</span><span class="mtk4">\n</span><span class="mtk6">&#39;</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk3"># Run a Redis GUI</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk7">await</span><span class="mtk1"> window.async_create_tab()</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">        session </span><span class="mtk7">=</span><span class="mtk1"> app.current_terminal_window.current_tab.current_session</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk7">await</span><span class="mtk1"> session.async_send_text(</span><span class="mtk6">&#39;redis-commander --redis-port 6381 --redis-db 0</span><span class="mtk4">\n</span><span class="mtk6">&#39;</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk3"># ...</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">    </span><span class="mtk7">else</span><span class="mtk1">:</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">        </span><span class="mtk9">print</span><span class="mtk1">(</span><span class="mtk6">&quot;No current window&quot;</span><span class="mtk1">)</span></span></span>
<span class="grvsc-line"><span class="grvsc-source"></span></span>
<span class="grvsc-line"><span class="grvsc-source"><span class="mtk1">iterm2.run_until_complete(main)</span></span></span></code></pre>
<p>You can keep customizing until the script is performing all the daily tasks you would otherwise be typing in manually.</p>
<style class="grvsc-styles">
  .grvsc-container {
    overflow: auto;
    position: relative;
    -webkit-overflow-scrolling: touch;
    padding-top: 1rem;
    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));
    padding-bottom: 1rem;
    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));
    border-radius: 8px;
    border-radius: var(--grvsc-border-radius, 8px);
    font-feature-settings: normal;
    line-height: 1.4;
  }
  
  .grvsc-code {
    display: table;
  }
  
  .grvsc-line {
    display: table-row;
    box-sizing: border-box;
    width: 100%;
    position: relative;
  }
  
  .grvsc-line > * {
    position: relative;
  }
  
  .grvsc-gutter-pad {
    display: table-cell;
    padding-left: 0.75rem;
    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);
  }
  
  .grvsc-gutter {
    display: table-cell;
    -webkit-user-select: none;
    -moz-user-select: none;
    user-select: none;
  }
  
  .grvsc-gutter::before {
    content: attr(data-content);
  }
  
  .grvsc-source {
    display: table-cell;
    padding-left: 1.5rem;
    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));
    padding-right: 1.5rem;
    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));
  }
  
  .grvsc-source:empty::after {
    content: ' ';
    -webkit-user-select: none;
    -moz-user-select: none;
    user-select: none;
  }
  
  .grvsc-gutter + .grvsc-source {
    padding-left: 0.75rem;
    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);
  }
  
  /* Line transformer styles */
  
  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {
    content: ' ';
    position: absolute;
    width: 100%;
  }
  
  .grvsc-line-diff-add::before {
    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));
  }
  
  .grvsc-line-diff-del::before {
    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));
  }
  
  .grvsc-line-number {
    padding: 0 2px;
    text-align: right;
    opacity: 0.7;
  }
  
  .monokai {
    background-color: #272822;
    color: #f8f8f2;
  }
  .monokai .mtki { font-style: italic; }
  .monokai .mtk3 { color: #75715E; }
  .monokai .mtk7 { color: #F92672; }
  .monokai .mtk1 { color: #F8F8F2; }
  .monokai .mtk9 { color: #66D9EF; }
  .monokai .mtk5 { color: #A6E22E; }
  .monokai .mtk10 { color: #FD971F; }
  .monokai .mtk4 { color: #AE81FF; }
  .monokai .mtk6 { color: #E6DB74; }
  .monokai .grvsc-line-highlighted::before {
    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));
    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));
  }
</style></div></div><div style="margin-top:30px"><a class="all-link-module--all-link--3uPzS" href="/blog">All Articles</a></div></div><footer class="footer-module--container--2iXoO"><hr class="footer-module--sep--1iHNN"/><p class="footer-module--copy--7yIGn">All materials © Daniela Baron 2020</p><div class="footer-module--social--3cljd"><a href="https://twitter.com/DanielaMBaron" class="footer-module--footer-icon--2phyq"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path></svg></a><a href="https://github.com/danielabar" class="footer-module--footer-icon--2phyq"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 496 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg></a><a href="https://codepen.io/danielabar" class="footer-module--footer-icon--2phyq"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M502.285 159.704l-234-156c-7.987-4.915-16.511-4.96-24.571 0l-234 156C3.714 163.703 0 170.847 0 177.989v155.999c0 7.143 3.714 14.286 9.715 18.286l234 156.022c7.987 4.915 16.511 4.96 24.571 0l234-156.022c6-3.999 9.715-11.143 9.715-18.286V177.989c-.001-7.142-3.715-14.286-9.716-18.285zM278 63.131l172.286 114.858-76.857 51.429L278 165.703V63.131zm-44 0v102.572l-95.429 63.715-76.857-51.429L234 63.131zM44 219.132l55.143 36.857L44 292.846v-73.714zm190 229.715L61.714 333.989l76.857-51.429L234 346.275v102.572zm22-140.858l-77.715-52 77.715-52 77.715 52-77.715 52zm22 140.858V346.275l95.429-63.715 76.857 51.429L278 448.847zm190-156.001l-55.143-36.857L468 219.132v73.714z"></path></svg></a><a href="https://www.linkedin.com/in/danielabaron/" class="footer-module--footer-icon--2phyq"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M100.28 448H7.4V148.9h92.88zM53.79 108.1C24.09 108.1 0 83.5 0 53.8a53.79 53.79 0 0 1 107.58 0c0 29.7-24.1 54.3-53.79 54.3zM447.9 448h-92.68V302.4c0-34.7-.7-79.2-48.29-79.2-48.29 0-55.69 37.7-55.69 76.7V448h-92.78V148.9h89.08v40.8h1.3c12.4-23.5 42.69-48.3 87.88-48.3 94 0 111.28 61.9 111.28 142.3V448z"></path></svg></a></div></footer></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/blog/iterm-automation/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-259f8badab9829128140.js"],"component---src-pages-404-js":["/component---src-pages-404-js-8ca39113c3eed1cf43be.js"],"component---src-pages-about-js":["/component---src-pages-about-js-e5413481af6451153bf0.js"],"component---src-pages-index-js":["/component---src-pages-index-js-d136d8fa61ba2e95f4c2.js"],"component---src-templates-blog-list-js":["/component---src-templates-blog-list-js-0fd517719f7bdebe4c8c.js"],"component---src-templates-post-js":["/component---src-templates-post-js-6c8dc3de4250d0615bc4.js"]};/*]]>*/</script><script src="/component---src-templates-post-js-6c8dc3de4250d0615bc4.js" async=""></script><script src="/commons-0e6114030bbaed657548.js" async=""></script><script src="/252f366e-4b8dd868f7f9c2a7ee52.js" async=""></script><script src="/1bfc9850-5d16e0a00245e09d73c3.js" async=""></script><script src="/styles-89fd2ae28bdf06750a71.js" async=""></script><script src="/app-259f8badab9829128140.js" async=""></script><script src="/framework-95b680cb3190aa9bfe59.js" async=""></script><script src="/webpack-runtime-e2276ad9f92f4bc89aaa.js" async=""></script></body></html>