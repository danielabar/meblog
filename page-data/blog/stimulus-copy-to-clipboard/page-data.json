{"componentChunkName":"component---src-templates-post-js","path":"/blog/stimulus-copy-to-clipboard/","result":{"data":{"markdownRemark":{"html":"<p class=\"markdown-para\">In this post, we'll learn how to implement a Copy to Clipboard feature using Stimulus within a Rails application. Before diving into the specifics, let's take a moment to understand what Stimulus is.</p>\n<p class=\"markdown-para\">Stimulus is a JavaScript library that facilitates adding small, targeted enhancements to web applications. It's part of the <a href=\"https://hotwired.dev/\" class=\"markdown-link\">Hotwire</a> stack, which is an innovative approach to building modern web apps without the complexity typically associated with heavy JavaScript frameworks for building single page apps. While Stimulus can be used as a <a href=\"https://www.npmjs.com/package/@hotwired/stimulus\" class=\"markdown-link\">standalone library</a>, this post will show how it fits into a Rails application, where it enhances server-rendered HTML with just the right amount of interactivity, aka \"JavaScript sprinkles\".</p>\n<p class=\"markdown-para\">Here's what we'll build - given some text and a button:</p>\n<p class=\"markdown-para\"><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 37%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAHABQDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAX/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAG2AD//xAAWEAADAAAAAAAAAAAAAAAAAAAAEBH/2gAIAQEAAQUCIv/EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABYQAQEBAAAAAAAAAAAAAAAAADEAEP/aAAgBAQAGPwJnP//EABUQAQEAAAAAAAAAAAAAAAAAABAR/9oACAEBAAE/IYn/2gAMAwEAAgADAAAAEAPv/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAGxABAQABBQAAAAAAAAAAAAAAAREAIUFRcZH/2gAIAQEAAT8QtV0nEc7PMIEWzdM//9k='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"stimulus copy clipboard demo 1\"\n        title=\"stimulus copy clipboard demo 1\"\n        src=\"/static/cb7c2b0884e6cef73eae462bf922bc20/4b190/stimulus-copy-clipboard-demo-1.jpg\"\n        srcset=\"/static/cb7c2b0884e6cef73eae462bf922bc20/e07e9/stimulus-copy-clipboard-demo-1.jpg 200w,\n/static/cb7c2b0884e6cef73eae462bf922bc20/066f9/stimulus-copy-clipboard-demo-1.jpg 400w,\n/static/cb7c2b0884e6cef73eae462bf922bc20/4b190/stimulus-copy-clipboard-demo-1.jpg 800w,\n/static/cb7c2b0884e6cef73eae462bf922bc20/29b94/stimulus-copy-clipboard-demo-1.jpg 897w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p class=\"markdown-para\">When the Copy button is clicked, the text is copied to the clipboard, and the button text updates to indicate it has been copied:</p>\n<p class=\"markdown-para\"><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 35.50000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAHABQDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAX/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAABtgBP/8QAFhAAAwAAAAAAAAAAAAAAAAAAABAR/9oACAEBAAEFAiL/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAWEAEBAQAAAAAAAAAAAAAAAAAxABD/2gAIAQEABj8CZz//xAAXEAADAQAAAAAAAAAAAAAAAAAAARAR/9oACAEBAAE/IchR/9oADAMBAAIAAwAAABAD/wD/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/ED//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/ED//xAAbEAEBAAEFAAAAAAAAAAAAAAABEQAhMUFRkf/aAAgBAQABPxC1XScGV28xQirHdz//2Q=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"stimulus copy clipboard demo 2\"\n        title=\"stimulus copy clipboard demo 2\"\n        src=\"/static/0c6fda62429bbb82c520dcd4d81f7a96/4b190/stimulus-copy-clipboard-demo-2.jpg\"\n        srcset=\"/static/0c6fda62429bbb82c520dcd4d81f7a96/e07e9/stimulus-copy-clipboard-demo-2.jpg 200w,\n/static/0c6fda62429bbb82c520dcd4d81f7a96/066f9/stimulus-copy-clipboard-demo-2.jpg 400w,\n/static/0c6fda62429bbb82c520dcd4d81f7a96/4b190/stimulus-copy-clipboard-demo-2.jpg 800w,\n/static/0c6fda62429bbb82c520dcd4d81f7a96/3981f/stimulus-copy-clipboard-demo-2.jpg 889w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p class=\"markdown-para\">At this point, the text starting with \"The sun gently peeked..\" can be pasted anywhere. A few seconds later, the button text updates to its original value:</p>\n<p class=\"markdown-para\"><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 37%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAHABQDASIAAhEBAxEB/8QAFQABAQAAAAAAAAAAAAAAAAAAAAX/xAAUAQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIQAxAAAAG2AD//xAAWEAADAAAAAAAAAAAAAAAAAAAAEBH/2gAIAQEAAQUCIv/EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABYQAQEBAAAAAAAAAAAAAAAAADEAEP/aAAgBAQAGPwJnP//EABUQAQEAAAAAAAAAAAAAAAAAABAR/9oACAEBAAE/IYn/2gAMAwEAAgADAAAAEAPv/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAGxABAQABBQAAAAAAAAAAAAAAAREAIUFRcZH/2gAIAQEAAT8QtV0nEc7PMIEWzdM//9k='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"stimulus copy clipboard demo 1\"\n        title=\"stimulus copy clipboard demo 1\"\n        src=\"/static/cb7c2b0884e6cef73eae462bf922bc20/4b190/stimulus-copy-clipboard-demo-1.jpg\"\n        srcset=\"/static/cb7c2b0884e6cef73eae462bf922bc20/e07e9/stimulus-copy-clipboard-demo-1.jpg 200w,\n/static/cb7c2b0884e6cef73eae462bf922bc20/066f9/stimulus-copy-clipboard-demo-1.jpg 400w,\n/static/cb7c2b0884e6cef73eae462bf922bc20/4b190/stimulus-copy-clipboard-demo-1.jpg 800w,\n/static/cb7c2b0884e6cef73eae462bf922bc20/29b94/stimulus-copy-clipboard-demo-1.jpg 897w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p class=\"markdown-para\">The completed project is on <a href=\"https://github.com/danielabar/stimulus_demo\" class=\"markdown-link\">Github</a>.</p>\n<p class=\"markdown-para\">The copy button is an example of a feature that doesn't need server interaction. There's no need to send a request to the server, maintain state in the database and update the url of the application. This is why JavaScript with Stimulus is a perfect solution for this. Let's get started.</p>\n<p class=\"markdown-para\">This post assumes a basic understanding of Rails controllers and views, and JavaScript, including events and DOM manipulation.</p>\n<h2 class=\"markdown-subtitle\" id=\"initial-setup\" style=\"position:relative;\"><a href=\"#initial-setup\" aria-label=\"initial setup permalink\" class=\"markdown-header-link before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Initial Setup</h2>\n<p class=\"markdown-para\">For this project, I'm using Rails 7.1 and generated a controller that makes some data available for a view as follows:</p>\n<pre class=\"grvsc-container gatsby-highlight monokai\" data-language=\"bash\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">bin/rails g controller welcome index</span></span></span></code></pre>\n<pre class=\"grvsc-container gatsby-highlight monokai\" data-language=\"ruby\" data-index=\"1\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\"># app/controllers/welcome_controller.rb</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">class</span><span class=\"mtk1\"> </span><span class=\"mtk5 mtku\">WelcomeController</span><span class=\"mtk5 mtki mtku\"> &lt; ApplicationController</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk7\">def</span><span class=\"mtk1\"> </span><span class=\"mtk5\">index</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    @very_important_content </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&lt;&lt;-CONTENT</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk6\">      The sun gently peeked through the dense foliage, casting dappled shadows on the forest floor.</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk6\">      With a steady hand, the artist meticulously applied strokes of vibrant color to the canvas, bringing the landscape to life.</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk6\">      As the waves crashed against the rugged coastline, a sense of tranquility washed over the solitary figure standing on the cliff&#39;s edge.</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk6\">      Amidst the bustling city streets, the aroma of freshly brewed coffee wafted from the quaint cafe, inviting passersby to linger a little longer.</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk6\">    CONTENT</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk7\">end</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">end</span></span></span></code></pre>\n<p class=\"markdown-para\">Here is the corresponding view that displays this content:</p>\n<pre class=\"grvsc-container gatsby-highlight monokai\" data-language=\"erb\" data-index=\"2\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">&lt;%# app/views/welcome/index.html.erb %&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">&lt;</span><span class=\"mtk7\">div</span><span class=\"mtk1\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk7\">&lt;%=</span><span class=\"mtk1\"> @very_important_content </span><span class=\"mtk7\">%&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">&lt;/</span><span class=\"mtk7\">div</span><span class=\"mtk1\">&gt;</span></span></span></code></pre>\n<p class=\"markdown-para\">Let's make it the default route:</p>\n<pre class=\"grvsc-container gatsby-highlight monokai\" data-language=\"ruby\" data-index=\"3\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\"># config/routes.rb</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk9 mtki\">Rails</span><span class=\"mtk1\">.</span><span class=\"mtk5\">application</span><span class=\"mtk1\">.</span><span class=\"mtk5\">routes</span><span class=\"mtk1\">.</span><span class=\"mtk5\">draw</span><span class=\"mtk1\"> </span><span class=\"mtk7\">do</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  get </span><span class=\"mtk6\">&quot;welcome/index&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  root </span><span class=\"mtk6\">&quot;welcome#index&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">end</span></span></span></code></pre>\n<p class=\"markdown-para\">Now we'd like to add a Copy button that copies the content text to the clipboard. To get started with the copy to clipboard feature, we first need a button that the user can click to start the interaction. Normally buttons would be contained in a form with an action that POSTs to the server. But this is going to be a client-side only interaction, therefore no form or action is needed:</p>\n<pre class=\"grvsc-container gatsby-highlight monokai\" data-language=\"erb\" data-index=\"4\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">&lt;%# app/views/welcome/index.html.erb %&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">&lt;</span><span class=\"mtk7\">div</span><span class=\"mtk1\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk7\">&lt;%=</span><span class=\"mtk1\"> @very_important_content </span><span class=\"mtk7\">%&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">&lt;/</span><span class=\"mtk7\">div</span><span class=\"mtk1\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">&lt;%# === ADD BUTTON HERE === %&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">&lt;</span><span class=\"mtk7\">button</span><span class=\"mtk1\">&gt;Copy&lt;/</span><span class=\"mtk7\">button</span><span class=\"mtk1\">&gt;</span></span></span></code></pre>\n<h2 class=\"markdown-subtitle\" id=\"introduce-stimulus\" style=\"position:relative;\"><a href=\"#introduce-stimulus\" aria-label=\"introduce stimulus permalink\" class=\"markdown-header-link before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Introduce Stimulus</h2>\n<p class=\"markdown-para\">The next step is to generate a Stimulus controller. This is a JavaScript file that will be responsible for:</p>\n<ol class=\"markdown-list-ordered\">\n<li class=\"markdown-list-item\">Handling the Copy button click event</li>\n<li class=\"markdown-list-item\">Using the <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Clipboard_API\" class=\"markdown-link\">Clipboard API</a> to copy the text in the content div to the clipboard</li>\n<li class=\"markdown-list-item\">Updating the text of the Copy button to \"Copied\" for 2 seconds, and then setting it back to \"Copy\" after the 2 seconds have passed.</li>\n</ol>\n<p class=\"markdown-para\">Rails provides a generator for this:</p>\n<pre class=\"grvsc-container gatsby-highlight monokai\" data-language=\"bash\" data-index=\"5\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">bin/rails generate stimulus clipboard</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\"># create  app/javascript/controllers/clipboard_controller.js</span></span></span></code></pre>\n<p class=\"markdown-para\">This creates the following file:</p>\n<pre class=\"grvsc-container gatsby-highlight monokai\" data-language=\"javascript\" data-index=\"6\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// app/javascript/controllers/clipboard_controller.js</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">import</span><span class=\"mtk1\"> { Controller } </span><span class=\"mtk7\">from</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&quot;@hotwired/stimulus&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// Connects to data-controller=&quot;clipboard&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">export</span><span class=\"mtk1\"> </span><span class=\"mtk7\">default</span><span class=\"mtk1\"> </span><span class=\"mtk9 mtki\">class</span><span class=\"mtk1\"> </span><span class=\"mtk7\">extends</span><span class=\"mtk1\"> </span><span class=\"mtk5 mtki mtku\">Controller</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk5\">connect</span><span class=\"mtk1\">() {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<p class=\"markdown-para\">The <code>connect()</code> function is one of several <a href=\"https://stimulus.hotwired.dev/reference/lifecycle-callbacks\" class=\"markdown-link\">lifecycle callbacks</a>. It's called every time the associated element enters the DOM. To associate a DOM element with a Stimulus controller, <code>data-</code> attributes are used. This will make more sense with an example.</p>\n<p class=\"markdown-para\">Let's update the welcome view to wrap both the content and button in a wrapper div, and assign the <code>data-controller</code> attribute to the wrapper div to connect it to our controller:</p>\n<pre class=\"grvsc-container gatsby-highlight monokai\" data-language=\"erb\" data-index=\"7\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">&lt;%# app/views/welcome/index.html.erb %&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">&lt;%# === CONNECT CLIPBOARD STIMULUS CONTROLLER TO DOM === %&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">&lt;</span><span class=\"mtk7\">div</span><span class=\"mtk1\"> </span><span class=\"mtk5\">data-controller</span><span class=\"mtk1\">=</span><span class=\"mtk6\">&quot;clipboard&quot;</span><span class=\"mtk1\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  &lt;</span><span class=\"mtk7\">div</span><span class=\"mtk1\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk7\">&lt;%=</span><span class=\"mtk1\"> @very_important_content </span><span class=\"mtk7\">%&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  &lt;/</span><span class=\"mtk7\">div</span><span class=\"mtk1\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  &lt;</span><span class=\"mtk7\">button</span><span class=\"mtk1\">&gt;Copy&lt;/</span><span class=\"mtk7\">button</span><span class=\"mtk1\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">&lt;/</span><span class=\"mtk7\">div</span><span class=\"mtk1\">&gt;</span></span></span></code></pre>\n<p class=\"markdown-para\">Now update the <code>connect()</code> function in the controller to log that it's been called:</p>\n<pre class=\"grvsc-container gatsby-highlight monokai\" data-language=\"javascript\" data-index=\"8\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// app/javascript/controllers/clipboard_controller.js</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">import</span><span class=\"mtk1\"> { Controller } </span><span class=\"mtk7\">from</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&quot;@hotwired/stimulus&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// Connects to data-controller=&quot;clipboard&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">export</span><span class=\"mtk1\"> </span><span class=\"mtk7\">default</span><span class=\"mtk1\"> </span><span class=\"mtk9 mtki\">class</span><span class=\"mtk1\"> </span><span class=\"mtk7\">extends</span><span class=\"mtk1\"> </span><span class=\"mtk5 mtki mtku\">Controller</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk5\">connect</span><span class=\"mtk1\">() {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk9 mtki\">console</span><span class=\"mtk1\">.</span><span class=\"mtk9\">log</span><span class=\"mtk1\">(</span><span class=\"mtk6\">&quot;=== CLIPBOARD CONTROLLER CONNECTED === &quot;</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<p class=\"markdown-para\">Navigating to <code>http://localhost:3000/</code> with the browser dev tools open to the Console tab should show:</p>\n<pre class=\"grvsc-container gatsby-highlight monokai\" data-language=\"\" data-index=\"9\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\">=== CLIPBOARD CONTROLLER CONNECTED ===</span></span></code></pre>\n<p class=\"markdown-para\">Recall <code>welcome/index</code> is the default route. So when navigating to <code>/</code>, the welcome controller index action renders the <code>app/views/welcome/index.html.erb</code> view, which causes the div with <code>data-controller=\"clipboard\"</code> attribute to enter the DOM, which in turn causes the <code>connect()</code> function in the clipboard Stimulus controller to run.</p>\n<h2 class=\"markdown-subtitle\" id=\"copy-button-action\" style=\"position:relative;\"><a href=\"#copy-button-action\" aria-label=\"copy button action permalink\" class=\"markdown-header-link before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Copy Button Action</h2>\n<p class=\"markdown-para\">Now that the controller is connected, it's time to make it do some actual work.</p>\n<p class=\"markdown-para\">Stimulus uses <a href=\"https://stimulus.hotwired.dev/reference/actions\" class=\"markdown-link\">actions</a> for handling DOM events. An action connects a DOM element and an event listener fired on that element, to a function within the controller. In this case, we need to handle the \"click\" event on the Copy button.</p>\n<p class=\"markdown-para\">Update the markup by adding a <code>data-action</code> attribute on the button element:</p>\n<pre class=\"grvsc-container gatsby-highlight monokai\" data-language=\"erb\" data-index=\"10\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">&lt;%# app/views/welcome/index.html.erb %&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">&lt;</span><span class=\"mtk7\">div</span><span class=\"mtk1\"> </span><span class=\"mtk5\">data-controller</span><span class=\"mtk1\">=</span><span class=\"mtk6\">&quot;clipboard&quot;</span><span class=\"mtk1\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  &lt;</span><span class=\"mtk7\">div</span><span class=\"mtk1\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk7\">&lt;%=</span><span class=\"mtk1\"> @very_important_content </span><span class=\"mtk7\">%&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  &lt;/</span><span class=\"mtk7\">div</span><span class=\"mtk1\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk3\">&lt;%# === CONNECT CLICK EVENT ON BUTTON TO COPY FUNCTION IN CONTROLLER === %&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  &lt;</span><span class=\"mtk7\">button</span><span class=\"mtk1\"> </span><span class=\"mtk5\">data-action</span><span class=\"mtk1\">=</span><span class=\"mtk6\">&quot;click-&gt;clipboard#copy&quot;</span><span class=\"mtk1\">&gt;Copy&lt;/</span><span class=\"mtk7\">button</span><span class=\"mtk1\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">&lt;/</span><span class=\"mtk7\">div</span><span class=\"mtk1\">&gt;</span></span></span></code></pre>\n<p class=\"markdown-para\">The syntax for the <code>data-action</code> value is <code>\"event->controllerName#controllerFunction\"</code>.</p>\n<p class=\"markdown-para\">Then add a <code>copy()</code> function in the controller. For now, it just logs that it was called. The <code>connect()</code> function has been removed as we don't need to run any code when the element enters the DOM.</p>\n<pre class=\"grvsc-container gatsby-highlight monokai\" data-language=\"javascript\" data-index=\"11\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// app/javascript/controllers/clipboard_controller.js</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">import</span><span class=\"mtk1\"> { Controller } </span><span class=\"mtk7\">from</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&quot;@hotwired/stimulus&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">export</span><span class=\"mtk1\"> </span><span class=\"mtk7\">default</span><span class=\"mtk1\"> </span><span class=\"mtk9 mtki\">class</span><span class=\"mtk1\"> </span><span class=\"mtk7\">extends</span><span class=\"mtk1\"> </span><span class=\"mtk5 mtki mtku\">Controller</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk3\">// Executed when a DOM element with `data-action=&quot;click-&gt;clipboard#copy&quot;`</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk3\">// is clicked on.</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk5\">copy</span><span class=\"mtk1\">() {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk9 mtki\">console</span><span class=\"mtk1\">.</span><span class=\"mtk9\">log</span><span class=\"mtk1\">(</span><span class=\"mtk6\">&quot;=== CLIPBOARD COPY CALLED ===&quot;</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<p class=\"markdown-para\">Now if you refresh <code>http://localhost:3000</code> and click the Copy button, the dev tools Console tab should show:</p>\n<pre class=\"grvsc-container gatsby-highlight monokai\" data-language=\"\" data-index=\"12\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\">=== CLIPBOARD COPY CALLED ===</span></span></code></pre>\n<p class=\"markdown-para\">Since the <code>click</code> event is commonly used for button elements, Stimulus provides a shorthand syntax for the <code>data-action</code> attribute, allowing you to leave off the \"click\" event:</p>\n<pre class=\"grvsc-container gatsby-highlight monokai\" data-language=\"erb\" data-index=\"13\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">&lt;</span><span class=\"mtk7\">button</span><span class=\"mtk1\"> </span><span class=\"mtk5\">data-action</span><span class=\"mtk1\">=</span><span class=\"mtk6\">&quot;clipboard#copy&quot;</span><span class=\"mtk1\">&gt;Copy&lt;/</span><span class=\"mtk7\">button</span><span class=\"mtk1\">&gt;</span></span></span></code></pre>\n<p class=\"markdown-para\">The full list of shorthands can be found <a href=\"https://stimulus.hotwired.dev/reference/actions#event-shorthand\" class=\"markdown-link\">here</a>.</p>\n<p class=\"markdown-para\">Now that the click event handler is hooked up to the Stimulus clipboard controller, the next step is to update the <code>copy()</code> function to use the <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Clipboard\" class=\"markdown-link\">Clipboard API</a> to copy the text in the content div. The structure will be as follows:</p>\n<pre class=\"grvsc-container gatsby-highlight monokai\" data-language=\"javascript\" data-index=\"14\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// app/javascript/controllers/clipboard_controller.js</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">import</span><span class=\"mtk1\"> { Controller } </span><span class=\"mtk7\">from</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&quot;@hotwired/stimulus&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">export</span><span class=\"mtk1\"> </span><span class=\"mtk7\">default</span><span class=\"mtk1\"> </span><span class=\"mtk9 mtki\">class</span><span class=\"mtk1\"> </span><span class=\"mtk7\">extends</span><span class=\"mtk1\"> </span><span class=\"mtk5 mtki mtku\">Controller</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk5\">copy</span><span class=\"mtk1\">() {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\">// The text to be copied should come from the content div</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk9 mtki\">const</span><span class=\"mtk1\"> text </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&quot;TBD...&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    navigator.clipboard.</span><span class=\"mtk5\">writeText</span><span class=\"mtk1\">(text)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      .</span><span class=\"mtk5\">then</span><span class=\"mtk1\">(() </span><span class=\"mtk9 mtki\">=&gt;</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk3\">// success</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      })</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      .</span><span class=\"mtk5\">catch</span><span class=\"mtk1\">((</span><span class=\"mtk10 mtki\">error</span><span class=\"mtk1\">) </span><span class=\"mtk9 mtki\">=&gt;</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk3\">// fail</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      });</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<aside class=\"markdown-aside\">\nAt the time of this writing (~mid 2024), the Clipboard API is not fully supported in all browsers. See the MDN docs for <a class=\"markdown-link\" href=\"https://developer.mozilla.org/en-US/docs/Web/API/Clipboard#browser_compatibility\">browser compatibility</a>.\n</aside>\n<p class=\"markdown-para\">The controller needs to know what text to copy. The actual text is contained in the content div. This requires getting a reference to the DOM element <code>&#x3C;div>The sun gently peeked through...&#x3C;/div></code>. This is explained in the next section.</p>\n<h2 class=\"markdown-subtitle\" id=\"targets\" style=\"position:relative;\"><a href=\"#targets\" aria-label=\"targets permalink\" class=\"markdown-header-link before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Targets</h2>\n<p class=\"markdown-para\">Stimulus uses <a href=\"https://stimulus.hotwired.dev/reference/targets\" class=\"markdown-link\">targets</a> to get references to specific DOM elements that are within the scope of the controller. This is accomplished by adding a <code>data-clipboard-target=XXX</code> attribute to an element, where <code>XXX</code> will become part of the variable name in the controller. The <code>clipboard</code> part of this data attribute refers to the controller name.</p>\n<p class=\"markdown-para\">For the copy to clipboard functionality, we need a reference to the content div so that we can extract its <code>innerText</code> to pass to the clipboard. We'll name this  <code>content</code> by adding a <code>data-clipboard-target=\"content\"</code> to the content div:</p>\n<pre class=\"grvsc-container gatsby-highlight monokai\" data-language=\"erb\" data-index=\"15\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">&lt;%# app/views/welcome/index.html.erb %&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">&lt;</span><span class=\"mtk7\">div</span><span class=\"mtk1\"> </span><span class=\"mtk5\">data-controller</span><span class=\"mtk1\">=</span><span class=\"mtk6\">&quot;clipboard&quot;</span><span class=\"mtk1\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk3\">&lt;%# === MAKE THIS ELEMENT AVAILABLE IN CONTROLLER === %&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  &lt;</span><span class=\"mtk7\">div</span><span class=\"mtk1\"> </span><span class=\"mtk5\">data-clipboard-target</span><span class=\"mtk1\">=</span><span class=\"mtk6\">&quot;content&quot;</span><span class=\"mtk1\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk7\">&lt;%=</span><span class=\"mtk1\"> @very_important_content </span><span class=\"mtk7\">%&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  &lt;/</span><span class=\"mtk7\">div</span><span class=\"mtk1\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  &lt;</span><span class=\"mtk7\">button</span><span class=\"mtk1\"> </span><span class=\"mtk5\">data-action</span><span class=\"mtk1\">=</span><span class=\"mtk6\">&quot;clipboard#copy&quot;</span><span class=\"mtk1\">&gt;Copy&lt;/</span><span class=\"mtk7\">button</span><span class=\"mtk1\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">&lt;/</span><span class=\"mtk7\">div</span><span class=\"mtk1\">&gt;</span></span></span></code></pre>\n<p class=\"markdown-para\">To get a reference to the <code>content</code> element in the Stimulus controller, add it to the static targets array. Then it can be used in any function as <code>this.contentTarget</code>. The code below logs out the <code>innerText</code> value of the content div:</p>\n<pre class=\"grvsc-container gatsby-highlight monokai\" data-language=\"javascript\" data-index=\"16\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// app/javascript/controllers/clipboard_controller.js</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">import</span><span class=\"mtk1\"> { Controller } </span><span class=\"mtk7\">from</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&quot;@hotwired/stimulus&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">export</span><span class=\"mtk1\"> </span><span class=\"mtk7\">default</span><span class=\"mtk1\"> </span><span class=\"mtk9 mtki\">class</span><span class=\"mtk1\"> </span><span class=\"mtk7\">extends</span><span class=\"mtk1\"> </span><span class=\"mtk5 mtki mtku\">Controller</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk3\">// ADD DOM ELEMENT TARGETS HERE</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk7\">static</span><span class=\"mtk1\"> targets </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> [</span><span class=\"mtk6\">&quot;content&quot;</span><span class=\"mtk1\">]</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk5\">copy</span><span class=\"mtk1\">() {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\">// Now we can reference `this.contentTarget` to get the</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\">// DOM element having data-clipboard-target=&quot;content&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk9 mtki\">const</span><span class=\"mtk1\"> text </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> </span><span class=\"mtk10\">this</span><span class=\"mtk1\">.contentTarget.innerText</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk9 mtki\">console</span><span class=\"mtk1\">.</span><span class=\"mtk9\">log</span><span class=\"mtk1\">(</span><span class=\"mtk6\">`=== TEXT TO BE COPIED: </span><span class=\"mtk7\">${</span><span class=\"mtk1\">text</span><span class=\"mtk7\">}</span><span class=\"mtk6\"> ===`</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<p class=\"markdown-para\">Now if you refresh the browser at <code>http://localhost:3000</code> and click the Copy button, the console tab should display:</p>\n<pre class=\"grvsc-container gatsby-highlight monokai\" data-language=\"\" data-index=\"17\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\">=== TEXT TO BE COPIED: The sun gently peeked through the dense foliage... ===</span></span></code></pre>\n<h2 class=\"markdown-subtitle\" id=\"clipboard-api\" style=\"position:relative;\"><a href=\"#clipboard-api\" aria-label=\"clipboard api permalink\" class=\"markdown-header-link before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Clipboard API</h2>\n<p class=\"markdown-para\">Now that we have a click handler hooked up to the Copy button, and are able to get a reference to the text content to be copied, we can put this all together with the clipboard API. Specifically the <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Clipboard/writeText\" class=\"markdown-link\">writeText</a> function is used to copy the given text to the system clipboard. It returns a promise that resolves after the clipboard has been updated with the text.</p>\n<p class=\"markdown-para\">Update the <code>copy()</code> function in the controller as follows:</p>\n<pre class=\"grvsc-container gatsby-highlight monokai\" data-language=\"javascript\" data-index=\"18\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">import</span><span class=\"mtk1\"> { Controller } </span><span class=\"mtk7\">from</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&quot;@hotwired/stimulus&quot;</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">export</span><span class=\"mtk1\"> </span><span class=\"mtk7\">default</span><span class=\"mtk1\"> </span><span class=\"mtk9 mtki\">class</span><span class=\"mtk1\"> </span><span class=\"mtk7\">extends</span><span class=\"mtk1\"> </span><span class=\"mtk5 mtki mtku\">Controller</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk7\">static</span><span class=\"mtk1\"> targets </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> [</span><span class=\"mtk6\">&quot;content&quot;</span><span class=\"mtk1\">]</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk5\">copy</span><span class=\"mtk1\">() {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk9 mtki\">const</span><span class=\"mtk1\"> text </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> </span><span class=\"mtk10\">this</span><span class=\"mtk1\">.contentTarget.innerText</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\">// === USE THE CLIPBOARD API TO COPY `text`</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    navigator.clipboard.</span><span class=\"mtk5\">writeText</span><span class=\"mtk1\">(text)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      .</span><span class=\"mtk5\">then</span><span class=\"mtk1\">(() </span><span class=\"mtk9 mtki\">=&gt;</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk9 mtki\">console</span><span class=\"mtk1\">.</span><span class=\"mtk9\">log</span><span class=\"mtk1\">(</span><span class=\"mtk6\">&#39;Text copied to clipboard&#39;</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      })</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      .</span><span class=\"mtk5\">catch</span><span class=\"mtk1\">((</span><span class=\"mtk10 mtki\">error</span><span class=\"mtk1\">) </span><span class=\"mtk9 mtki\">=&gt;</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk9 mtki\">console</span><span class=\"mtk1\">.</span><span class=\"mtk9\">error</span><span class=\"mtk1\">(</span><span class=\"mtk6\">&#39;Failed to copy text to clipboard:&#39;</span><span class=\"mtk1\">, error);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      });</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<aside class=\"markdown-aside\">\nThe reason error handling is required is because the clipboard API only works in a secure context, otherwise it will throw a `NotAllowedError`. Localhost is considered a secure context so this should work when running on your laptop. In a deployed environment, the page needs to be served over https. See the MDN <a class=\"markdown-link\" href=\"https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts\">documentation</a> for further details.\n</aside>\n<p class=\"markdown-para\">To test if this is working, refresh the browser at <code>http://localhost:3000</code> and click the Copy button. The dev tools Console tab should show:</p>\n<pre class=\"grvsc-container gatsby-highlight monokai\" data-language=\"\" data-index=\"19\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\">Text copied to clipboard</span></span></code></pre>\n<p class=\"markdown-para\">Then, entering <kbd class=\"markdown-kbd\">Cmd</kbd> + <kbd class=\"markdown-kbd\">V</kbd> in a new text document, or with your cursor anywhere in an existing document, should paste in the content from the page, starting with <code>The sun gently peeked through the dense...</code>.</p>\n<h2 class=\"markdown-subtitle\" id=\"user-feedback\" style=\"position:relative;\"><a href=\"#user-feedback\" aria-label=\"user feedback permalink\" class=\"markdown-header-link before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>User Feedback</h2>\n<p class=\"markdown-para\">Technically, the copy to clipboard feature is working, but there's no visible feedback to the user that the copy was successful. It would be nice to update the text of the Copy button to \"Copied\" for a few seconds, so the user knows it worked, and then change the text back to \"Copy\".</p>\n<p class=\"markdown-para\">In JavaScript, if you have a reference to a button element, it's text can be modified by setting it's <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Node/textContent\" class=\"markdown-link\">textContent</a> property. So if we had a reference to the button element, we could change its text in the <code>copy()</code> function, after the clipboard <code>writeText</code> promise is resolved.</p>\n<p class=\"markdown-para\">To get a reference to a DOM element, we need an additional <a href=\"../stimulus-copy-to-clipboard#targets\" class=\"markdown-link\">target</a>. Let's include one for the button element, naming it <code>button</code>. The button element already has a <code>data-</code> attribute for the <a href=\"../stimulus-copy-to-clipboard#copy-button-action\" class=\"markdown-link\">copy action</a> we implemented earlier, and it's perfectly fine to have multiple <code>data-</code> attributes on the same element:</p>\n<pre class=\"grvsc-container gatsby-highlight monokai\" data-language=\"erb\" data-index=\"20\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">&lt;%# app/views/welcome/index.html.erb %&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">&lt;</span><span class=\"mtk7\">div</span><span class=\"mtk1\"> </span><span class=\"mtk5\">data-controller</span><span class=\"mtk1\">=</span><span class=\"mtk6\">&quot;clipboard&quot;</span><span class=\"mtk1\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  ...</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk3\">&lt;%# === GET A REFERENCE TO THE BUTTON ELEMENT BY NAMING IT `button` === %&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  &lt;</span><span class=\"mtk7\">button</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk5\">data-action</span><span class=\"mtk1\">=</span><span class=\"mtk6\">&quot;clipboard#copy&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk5\">data-clipboard-target</span><span class=\"mtk1\">=</span><span class=\"mtk6\">&quot;button&quot;</span><span class=\"mtk1\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      Copy</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  &lt;/</span><span class=\"mtk7\">button</span><span class=\"mtk1\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">&lt;/</span><span class=\"mtk7\">div</span><span class=\"mtk1\">&gt;</span></span></span></code></pre>\n<p class=\"markdown-para\">Then update the static <code>targets</code> list in the clipboard controller to add <code>button</code>:</p>\n<pre class=\"grvsc-container gatsby-highlight monokai\" data-language=\"javascript\" data-index=\"21\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">import</span><span class=\"mtk1\"> { Controller } </span><span class=\"mtk7\">from</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&quot;@hotwired/stimulus&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">export</span><span class=\"mtk1\"> </span><span class=\"mtk7\">default</span><span class=\"mtk1\"> </span><span class=\"mtk9 mtki\">class</span><span class=\"mtk1\"> </span><span class=\"mtk7\">extends</span><span class=\"mtk1\"> </span><span class=\"mtk5 mtki mtku\">Controller</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk3\">// === ADD BUTTON AS TARGET HERE ===</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk7\">static</span><span class=\"mtk1\"> targets </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> [</span><span class=\"mtk6\">&quot;content&quot;</span><span class=\"mtk1\">, </span><span class=\"mtk6\">&quot;button&quot;</span><span class=\"mtk1\">]</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk5\">copy</span><span class=\"mtk1\">() {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\">// ...</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<p class=\"markdown-para\">Once the button is added as a target, it can be referenced in controller functions as <code>this.buttonTarget</code>. Let's update the <code>copy()</code> function to update the button's text, then use a <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/setTimeout\" class=\"markdown-link\">setTimeout</a> to put the text back to what it was, after a 2 second delay:</p>\n<pre class=\"grvsc-container gatsby-highlight monokai\" data-language=\"javascript\" data-index=\"22\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">import</span><span class=\"mtk1\"> { Controller } </span><span class=\"mtk7\">from</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&quot;@hotwired/stimulus&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">export</span><span class=\"mtk1\"> </span><span class=\"mtk7\">default</span><span class=\"mtk1\"> </span><span class=\"mtk9 mtki\">class</span><span class=\"mtk1\"> </span><span class=\"mtk7\">extends</span><span class=\"mtk1\"> </span><span class=\"mtk5 mtki mtku\">Controller</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk7\">static</span><span class=\"mtk1\"> targets </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> [</span><span class=\"mtk6\">&quot;content&quot;</span><span class=\"mtk1\">, </span><span class=\"mtk6\">&quot;button&quot;</span><span class=\"mtk1\">]</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk5\">copy</span><span class=\"mtk1\">() {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk9 mtki\">const</span><span class=\"mtk1\"> text </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> </span><span class=\"mtk10\">this</span><span class=\"mtk1\">.contentTarget.innerText</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    navigator.clipboard.</span><span class=\"mtk5\">writeText</span><span class=\"mtk1\">(text)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      .</span><span class=\"mtk5\">then</span><span class=\"mtk1\">(() </span><span class=\"mtk9 mtki\">=&gt;</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk3\">// === UPDATE BUTTON TEXT TO COPIED ===</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk10\">this</span><span class=\"mtk1\">.buttonTarget.textContent </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&#39;Copied&#39;</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk3\">// === RESET THE BUTTON TEXT AFTER 2 SECONDS ===</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk9\">setTimeout</span><span class=\"mtk1\">(() </span><span class=\"mtk9 mtki\">=&gt;</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">          </span><span class=\"mtk10\">this</span><span class=\"mtk1\">.buttonTarget.textContent </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&#39;Copy&#39;</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        }, </span><span class=\"mtk4\">2000</span><span class=\"mtk1\">);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      })</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      .</span><span class=\"mtk5\">catch</span><span class=\"mtk1\">((</span><span class=\"mtk10 mtki\">error</span><span class=\"mtk1\">) </span><span class=\"mtk9 mtki\">=&gt;</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk9 mtki\">console</span><span class=\"mtk1\">.</span><span class=\"mtk9\">error</span><span class=\"mtk1\">(</span><span class=\"mtk6\">&#39;Failed to copy text to clipboard:&#39;</span><span class=\"mtk1\">, error);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      });</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<h2 class=\"markdown-subtitle\" id=\"values\" style=\"position:relative;\"><a href=\"#values\" aria-label=\"values permalink\" class=\"markdown-header-link before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Values</h2>\n<p class=\"markdown-para\">At this point, the feature is functional and could be considered complete. But there's a few customizations that could make this more re-usable across your application. For example, there may be some places where the success text should show something else such as \"Done\". You may also want variability in the delay, for example 3 seconds or just 1 second rather than 2 seconds.</p>\n<p class=\"markdown-para\">Currently these values are hard-coded in the controller. It would be nice if the app developer could provide these as inputs to the controller. In Stimulus, this is accomplished with <a href=\"https://stimulus.hotwired.dev/reference/values\" class=\"markdown-link\">values</a>.</p>\n<p class=\"markdown-para\">Start by declaring what inputs the Stimulus controller should accept with the <code>static values</code> declaration. This accepts an object where the keys are the input variable names, and the values are objects specifying the data types that the input will be converted to as it's read from the DOM into a JavaScript variable. You can also specify a default value in case none is provided from the DOM.</p>\n<p class=\"markdown-para\">In the version of the controller below, two input values have been added to customize the behaviour:</p>\n<ol class=\"markdown-list-ordered\">\n<li class=\"markdown-list-item\"><code>confirm</code>, which is a String to indicate what confirmation text the button should show after successful copy.</li>\n<li class=\"markdown-list-item\"><code>delayMs</code>, which is a number in milliseconds before the original button text is displayed again</li>\n</ol>\n<pre class=\"grvsc-container gatsby-highlight monokai\" data-language=\"javascript\" data-index=\"23\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">import</span><span class=\"mtk1\"> { Controller } </span><span class=\"mtk7\">from</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&quot;@hotwired/stimulus&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// Connects to data-controller=&quot;clipboard&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">export</span><span class=\"mtk1\"> </span><span class=\"mtk7\">default</span><span class=\"mtk1\"> </span><span class=\"mtk9 mtki\">class</span><span class=\"mtk1\"> </span><span class=\"mtk7\">extends</span><span class=\"mtk1\"> </span><span class=\"mtk5 mtki mtku\">Controller</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk3\">// ...</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk3\">// === DECLARE INPUT VARIABLES HERE ===</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk7\">static</span><span class=\"mtk1\"> values </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    confirm: { type: </span><span class=\"mtk9 mtki\">String</span><span class=\"mtk1\">, default: </span><span class=\"mtk6\">&#39;Copied&#39;</span><span class=\"mtk1\"> },</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    delayMs: { type: </span><span class=\"mtk9 mtki\">Number</span><span class=\"mtk1\">, default: </span><span class=\"mtk4\">2000</span><span class=\"mtk1\"> }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk5\">copy</span><span class=\"mtk1\">() {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\">// ...</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<p class=\"markdown-para\">Then the view is updated to pass these values in to the controller. Suppose the button text should be updated to <code>Done</code> rather than <code>Copied</code>, and we'd like a <code>3000</code> millisecond delay instead of the default <code>2000</code>:</p>\n<pre class=\"grvsc-container gatsby-highlight monokai\" data-language=\"erb\" data-index=\"24\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">&lt;%# app/views/welcome/index.html.erb %&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">&lt;%# === SPECIFY ADDITIONAL INPUT VALUES ON THE DOM ELEMENT === %&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">&lt;%# === WHERE THE STIMULUS CONTROLLER IS DECLARED === %&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">&lt;</span><span class=\"mtk7\">div</span><span class=\"mtk1\"> </span><span class=\"mtk5\">data-controller</span><span class=\"mtk1\">=</span><span class=\"mtk6\">&quot;clipboard&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk5\">data-clipboard-confirm-value</span><span class=\"mtk1\">=</span><span class=\"mtk6\">&quot;Done&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk5\">data-clipboard-delay-ms-value</span><span class=\"mtk1\">=</span><span class=\"mtk6\">&quot;3000&quot;</span><span class=\"mtk1\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    ...</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">&lt;/</span><span class=\"mtk7\">div</span><span class=\"mtk1\">&gt;</span></span></span></code></pre>\n<p class=\"markdown-para\">Then the Stimulus controller can be updated to use these values instead of the hard-coded <code>Copied</code> and <code>2000</code>:</p>\n<pre class=\"grvsc-container gatsby-highlight monokai\" data-language=\"javascript\" data-index=\"25\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">import</span><span class=\"mtk1\"> { Controller } </span><span class=\"mtk7\">from</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&quot;@hotwired/stimulus&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// Connects to data-controller=&quot;clipboard&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">export</span><span class=\"mtk1\"> </span><span class=\"mtk7\">default</span><span class=\"mtk1\"> </span><span class=\"mtk9 mtki\">class</span><span class=\"mtk1\"> </span><span class=\"mtk7\">extends</span><span class=\"mtk1\"> </span><span class=\"mtk5 mtki mtku\">Controller</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk7\">static</span><span class=\"mtk1\"> targets </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> [</span><span class=\"mtk6\">&quot;content&quot;</span><span class=\"mtk1\">, </span><span class=\"mtk6\">&quot;button&quot;</span><span class=\"mtk1\">]</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk7\">static</span><span class=\"mtk1\"> values </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    confirm: { type: </span><span class=\"mtk9 mtki\">String</span><span class=\"mtk1\">, default: </span><span class=\"mtk6\">&#39;Copied&#39;</span><span class=\"mtk1\"> },</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    delayMs: { type: </span><span class=\"mtk9 mtki\">Number</span><span class=\"mtk1\">, default: </span><span class=\"mtk4\">2000</span><span class=\"mtk1\"> }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk5\">copy</span><span class=\"mtk1\">() {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk9 mtki\">const</span><span class=\"mtk1\"> text </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> </span><span class=\"mtk10\">this</span><span class=\"mtk1\">.contentTarget.innerText</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    navigator.clipboard.</span><span class=\"mtk5\">writeText</span><span class=\"mtk1\">(text)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      .</span><span class=\"mtk5\">then</span><span class=\"mtk1\">(() </span><span class=\"mtk9 mtki\">=&gt;</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk3\">// === USE `confirmValue`</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk10\">this</span><span class=\"mtk1\">.buttonTarget.textContent </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> </span><span class=\"mtk10\">this</span><span class=\"mtk1\">.confirmValue;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk9\">setTimeout</span><span class=\"mtk1\">(() </span><span class=\"mtk9 mtki\">=&gt;</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">          </span><span class=\"mtk10\">this</span><span class=\"mtk1\">.buttonTarget.textContent </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&quot;Copy&quot;</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk3\">// USE `delayMsValue`</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        }, </span><span class=\"mtk10\">this</span><span class=\"mtk1\">.delayMsValue);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      })</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      .</span><span class=\"mtk5\">catch</span><span class=\"mtk1\">((</span><span class=\"mtk10 mtki\">error</span><span class=\"mtk1\">) </span><span class=\"mtk9 mtki\">=&gt;</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk9 mtki\">console</span><span class=\"mtk1\">.</span><span class=\"mtk9\">error</span><span class=\"mtk1\">(</span><span class=\"mtk6\">&#39;Failed to copy text to clipboard:&#39;</span><span class=\"mtk1\">, error);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      });</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<p class=\"markdown-para\"><strong class=\"markdown-strong\">Naming Convention:</strong> <code>camelCase</code> is used in JavaScript, whereas <code>kebab-case</code> is used in the DOM. So <code>data-clipboard-delay-ms-value</code> on a DOM element becomes <code>this.delayMs</code> in the controller.</p>\n<h2 class=\"markdown-subtitle\" id=\"targets-vs-values\" style=\"position:relative;\"><a href=\"#targets-vs-values\" aria-label=\"targets vs values permalink\" class=\"markdown-header-link before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Targets vs Values</h2>\n<p class=\"markdown-para\">Both targets and values end up as <code>this.something</code> in the controller, which can be a little confusing. The distinction is:</p>\n<p class=\"markdown-para\"><strong class=\"markdown-strong\">Targets</strong> are DOM elements that the controller can reference. Use this when you need to perform DOM manipulation. These are specified by adding <code>data-{controllerName}-target=\"foo\"</code> on any DOM element that the controller needs access to.</p>\n<p class=\"markdown-para\"><strong class=\"markdown-strong\">Values</strong> are inputs that can be provided to the controller from the DOM to vary its behaviour. Think of these as arguments provided to a function. These are specified by adding <code>data-{controllerName}-{variableName}=\"{variableValue}\"</code> on the element where the controller is declared.</p>\n<p class=\"markdown-para\">Here is the final version of the controller with comments explaining the mapping from targets and values to the DOM:</p>\n<pre class=\"grvsc-container gatsby-highlight monokai\" data-language=\"javascript\" data-index=\"26\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">import</span><span class=\"mtk1\"> { Controller } </span><span class=\"mtk7\">from</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&quot;@hotwired/stimulus&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// Connects to data-controller=&quot;clipboard&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">export</span><span class=\"mtk1\"> </span><span class=\"mtk7\">default</span><span class=\"mtk1\"> </span><span class=\"mtk9 mtki\">class</span><span class=\"mtk1\"> </span><span class=\"mtk7\">extends</span><span class=\"mtk1\"> </span><span class=\"mtk5 mtki mtku\">Controller</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk3\">// Targets are DOM elements this controller can reference</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk3\">//---------------------------------------------------</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk3\">// DOM                                JavaScript</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk3\">//---------------------------------------------------</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk3\">// data-clipboard-target=&quot;content&quot;    this.contentTarget</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk3\">// data-clipboard-target=&quot;button&quot;     this.buttonTarget</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk7\">static</span><span class=\"mtk1\"> targets </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> [</span><span class=\"mtk6\">&quot;content&quot;</span><span class=\"mtk1\">, </span><span class=\"mtk6\">&quot;button&quot;</span><span class=\"mtk1\">]</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk3\">// Values are inputs provided from the DOM into the controller</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk3\">// DOM                                    JavaScript</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk3\">//---------------------------------------------------</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk3\">// data-clipboard-confirm-value=&quot;foo&quot;     this.confirmValue</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk3\">// data-clipboard-delay-ms-value=&quot;num ms&quot; this.delayMsValue</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk7\">static</span><span class=\"mtk1\"> values </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    confirm: { type: </span><span class=\"mtk9 mtki\">String</span><span class=\"mtk1\">, default: </span><span class=\"mtk6\">&#39;Copied&#39;</span><span class=\"mtk1\"> },</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    delayMs: { type: </span><span class=\"mtk9 mtki\">Number</span><span class=\"mtk1\">, default: </span><span class=\"mtk4\">2000</span><span class=\"mtk1\"> }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk5\">copy</span><span class=\"mtk1\">() {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk9 mtki\">const</span><span class=\"mtk1\"> text </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> </span><span class=\"mtk10\">this</span><span class=\"mtk1\">.contentTarget.innerText</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    navigator.clipboard.</span><span class=\"mtk5\">writeText</span><span class=\"mtk1\">(text)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      .</span><span class=\"mtk5\">then</span><span class=\"mtk1\">(() </span><span class=\"mtk9 mtki\">=&gt;</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk10\">this</span><span class=\"mtk1\">.buttonTarget.textContent </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> </span><span class=\"mtk10\">this</span><span class=\"mtk1\">.confirmValue;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk9\">setTimeout</span><span class=\"mtk1\">(() </span><span class=\"mtk9 mtki\">=&gt;</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">          </span><span class=\"mtk10\">this</span><span class=\"mtk1\">.buttonTarget.textContent </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&quot;Copy&quot;</span><span class=\"mtk1\">;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        }, </span><span class=\"mtk10\">this</span><span class=\"mtk1\">.delayMsValue);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      })</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      .</span><span class=\"mtk5\">catch</span><span class=\"mtk1\">((</span><span class=\"mtk10 mtki\">error</span><span class=\"mtk1\">) </span><span class=\"mtk9 mtki\">=&gt;</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk9 mtki\">console</span><span class=\"mtk1\">.</span><span class=\"mtk9\">error</span><span class=\"mtk1\">(</span><span class=\"mtk6\">&#39;Failed to copy text to clipboard:&#39;</span><span class=\"mtk1\">, error);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      });</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<h2 class=\"markdown-subtitle\" id=\"internationalization\" style=\"position:relative;\"><a href=\"#internationalization\" aria-label=\"internationalization permalink\" class=\"markdown-header-link before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Internationalization</h2>\n<p class=\"markdown-para\">After publishing the original version of this post, a Reddit user raised a great question: <em class=\"markdown-emphasis\">How would you make this work with internationalization?</em> That question brought up an issue I hadnt considered - there are many hard-coded English words throughout the solution, including in the Stimulus controller:</p>\n<pre class=\"grvsc-container gatsby-highlight monokai\" data-language=\"javascript\" data-index=\"27\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk10\">this</span><span class=\"mtk1\">.buttonTarget.textContent </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&quot;Copy&quot;</span><span class=\"mtk1\">;</span></span></span></code></pre>\n<p class=\"markdown-para\">While internationalization (i18n) in Rails is a broad topic, here's how this specific problem can be solved:</p>\n<p class=\"markdown-para\"><strong class=\"markdown-strong\">Step 1: Configure i18n</strong></p>\n<p class=\"markdown-para\">Add the locales that are supported and specify a default. This can go either in <code>config/application.rb</code> as shown below or in <code>config/initializers/locale.rb</code>:</p>\n<pre class=\"grvsc-container gatsby-highlight monokai\" data-language=\"ruby\" data-index=\"28\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">module</span><span class=\"mtk1\"> </span><span class=\"mtk5 mtku\">StimulusDemo</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk7\">class</span><span class=\"mtk1\"> </span><span class=\"mtk5 mtku\">Application</span><span class=\"mtk5 mtki mtku\"> &lt; Rails::Application</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\"># Support English and Spanish</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    config.</span><span class=\"mtk5\">i18n</span><span class=\"mtk1\">.</span><span class=\"mtk5\">available_locales</span><span class=\"mtk1\"> </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> </span><span class=\"mtk4\">%i[en es]</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\"># Default to English</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    config.</span><span class=\"mtk5\">i18n</span><span class=\"mtk1\">.</span><span class=\"mtk5\">default_locale</span><span class=\"mtk1\"> </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> </span><span class=\"mtk4\">:en</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\"># ...</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk7\">end</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">end</span></span></span></code></pre>\n<p class=\"markdown-para\"><strong class=\"markdown-strong\">Step 2: Controller Locale Switching</strong></p>\n<p class=\"markdown-para\">In the main application controller, add a <code>before_action</code> to set the locale from <code>params</code> or the default if not specified:</p>\n<pre class=\"grvsc-container gatsby-highlight monokai\" data-language=\"ruby\" data-index=\"29\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">class</span><span class=\"mtk1\"> </span><span class=\"mtk5 mtku\">ApplicationController</span><span class=\"mtk5 mtki mtku\"> &lt; ActionController::Base</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  before_action </span><span class=\"mtk4\">:set_locale</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk7\">private</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk7\">def</span><span class=\"mtk1\"> </span><span class=\"mtk5\">set_locale</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk9 mtki\">I18n</span><span class=\"mtk1\">.</span><span class=\"mtk5\">locale</span><span class=\"mtk1\"> </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> params[</span><span class=\"mtk4\">:locale</span><span class=\"mtk1\">] </span><span class=\"mtk7\">||</span><span class=\"mtk1\"> </span><span class=\"mtk9 mtki\">I18n</span><span class=\"mtk1\">.</span><span class=\"mtk5\">default_locale</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk7\">end</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk3\"># ensures locale is included in all generated URLs</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk7\">def</span><span class=\"mtk1\"> </span><span class=\"mtk5\">default_url_options</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    { </span><span class=\"mtk4\">locale:</span><span class=\"mtk1\"> </span><span class=\"mtk9 mtki\">I18n</span><span class=\"mtk1\">.</span><span class=\"mtk5\">locale</span><span class=\"mtk1\"> }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk7\">end</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">end</span></span></span></code></pre>\n<p class=\"markdown-para\"><strong class=\"markdown-strong\">Step 3: Modify Routes to Include Locale</strong></p>\n<p class=\"markdown-para\">Wrap routes that need to work with translations with an optional path scope. This allows routes that don't specify a locale to be considered valid and use the default locale:</p>\n<pre class=\"grvsc-container gatsby-highlight monokai\" data-language=\"ruby\" data-index=\"30\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\"># config/routes.rb</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk9 mtki\">Rails</span><span class=\"mtk1\">.</span><span class=\"mtk5\">application</span><span class=\"mtk1\">.</span><span class=\"mtk5\">routes</span><span class=\"mtk1\">.</span><span class=\"mtk5\">draw</span><span class=\"mtk1\"> </span><span class=\"mtk7\">do</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  scope </span><span class=\"mtk6\">&quot;(:locale)&quot;</span><span class=\"mtk1\">, </span><span class=\"mtk4\">locale:</span><span class=\"mtk1\"> </span><span class=\"mtk6\">/en|es/</span><span class=\"mtk1\"> </span><span class=\"mtk7\">do</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    root </span><span class=\"mtk6\">&quot;welcome#index&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    get </span><span class=\"mtk6\">&quot;welcome/index&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk7\">end</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk3\"># ...</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">end</span></span></span></code></pre>\n<p class=\"markdown-para\"><strong class=\"markdown-strong\">Step 4: Create Translation Files</strong></p>\n<p class=\"markdown-para\">Take all the currently hard-coded English content out of controllers, and views and move it to the translation files:</p>\n<pre class=\"grvsc-container gatsby-highlight monokai\" data-language=\"yml\" data-index=\"31\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\"># config/locales/en.yml</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">en</span><span class=\"mtk1\">:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk7\">clipboard</span><span class=\"mtk1\">:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk7\">copy</span><span class=\"mtk1\">: </span><span class=\"mtk6\">&quot;Copy&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk7\">done</span><span class=\"mtk1\">: </span><span class=\"mtk6\">&quot;Done&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk7\">welcome</span><span class=\"mtk1\">:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk7\">index</span><span class=\"mtk1\">:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk7\">very_important_content</span><span class=\"mtk1\">: </span><span class=\"mtk7\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk6\">        The sun gently peeked through the dense foliage, casting dappled shadows on the forest floor.</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk6\">        With a steady hand, the artist meticulously applied strokes of vibrant color to the canvas, bringing the landscape to life.</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk6\">        ...</span></span></span></code></pre>\n<pre class=\"grvsc-container gatsby-highlight monokai\" data-language=\"yml\" data-index=\"32\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\"># config/locales/es.yml</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">es</span><span class=\"mtk1\">:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk7\">clipboard</span><span class=\"mtk1\">:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk7\">copy</span><span class=\"mtk1\">: </span><span class=\"mtk6\">&quot;Copiar&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk7\">done</span><span class=\"mtk1\">: </span><span class=\"mtk6\">&quot;Hecho&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk7\">welcome</span><span class=\"mtk1\">:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk7\">index</span><span class=\"mtk1\">:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk7\">very_important_content</span><span class=\"mtk1\">: </span><span class=\"mtk7\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk6\">        El sol se asom suavemente a travs del denso follaje, proyectando sombras moteadas en el suelo del bosque.</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk6\">        ...</span></span></span></code></pre>\n<aside class=\"markdown-aside\">\nSince I don't speak Spanish, I used Google Translate to generate the above es.yml file. However, please note that literal translations may not capture idioms or nuances of the language.\n</aside>\n<p class=\"markdown-para\"><strong class=\"markdown-strong\">Step 5: Add Language Switcher</strong></p>\n<p class=\"markdown-para\">Update the application layout with links to switch to English or Spanish:</p>\n<pre class=\"grvsc-container gatsby-highlight monokai\" data-language=\"erb\" data-index=\"33\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">&lt;%# app/views/layouts/application.html.erb %&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">&lt;!</span><span class=\"mtk7\">DOCTYPE</span><span class=\"mtk1\"> </span><span class=\"mtk5\">html</span><span class=\"mtk1\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">&lt;</span><span class=\"mtk7\">html</span><span class=\"mtk1\"> </span><span class=\"mtk5\">lang</span><span class=\"mtk1\">=</span><span class=\"mtk6\">&quot;</span><span class=\"mtk7\">&lt;%=</span><span class=\"mtk1\"> </span><span class=\"mtk9 mtki\">I18n</span><span class=\"mtk1\">.</span><span class=\"mtk5\">locale</span><span class=\"mtk1\"> </span><span class=\"mtk7\">%&gt;</span><span class=\"mtk6\">&quot;</span><span class=\"mtk1\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  &lt;</span><span class=\"mtk7\">head</span><span class=\"mtk1\">&gt;...&lt;/</span><span class=\"mtk7\">head</span><span class=\"mtk1\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  &lt;</span><span class=\"mtk7\">body</span><span class=\"mtk1\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\">&lt;%# === NEW: ADD LINKS FOR LANGUAGE SWITCHING === %&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    &lt;</span><span class=\"mtk7\">header</span><span class=\"mtk1\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      &lt;</span><span class=\"mtk7\">div</span><span class=\"mtk1\"> &gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk7\">&lt;%=</span><span class=\"mtk1\"> link_to </span><span class=\"mtk6\">&quot;English&quot;</span><span class=\"mtk1\">, </span><span class=\"mtk5\">url_for</span><span class=\"mtk1\">(</span><span class=\"mtk4\">locale:</span><span class=\"mtk1\"> </span><span class=\"mtk4\">:en</span><span class=\"mtk1\">) </span><span class=\"mtk7\">%&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk7\">&lt;%=</span><span class=\"mtk1\"> link_to </span><span class=\"mtk6\">&quot;Espaol&quot;</span><span class=\"mtk1\">, </span><span class=\"mtk5\">url_for</span><span class=\"mtk1\">(</span><span class=\"mtk4\">locale:</span><span class=\"mtk1\"> </span><span class=\"mtk4\">:es</span><span class=\"mtk1\">) </span><span class=\"mtk7\">%&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      &lt;/</span><span class=\"mtk7\">div</span><span class=\"mtk1\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    &lt;/</span><span class=\"mtk7\">header</span><span class=\"mtk1\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    &lt;</span><span class=\"mtk7\">main</span><span class=\"mtk1\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk7\">&lt;%=</span><span class=\"mtk1\"> </span><span class=\"mtk7\">yield</span><span class=\"mtk1\"> </span><span class=\"mtk7\">%&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    &lt;</span><span class=\"mtk7\">main</span><span class=\"mtk1\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  &lt;/</span><span class=\"mtk7\">body</span><span class=\"mtk1\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">&lt;/</span><span class=\"mtk7\">html</span><span class=\"mtk1\">&gt;</span></span></span></code></pre>\n<p class=\"markdown-para\"><strong class=\"markdown-strong\">Step 6: Update Welcome Controller</strong></p>\n<p class=\"markdown-para\">Set translated content rather than hard-coded:</p>\n<pre class=\"grvsc-container gatsby-highlight monokai\" data-language=\"ruby\" data-index=\"34\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\"># app/controllers/welcome_controller.rb</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">class</span><span class=\"mtk1\"> </span><span class=\"mtk5 mtku\">WelcomeController</span><span class=\"mtk5 mtki mtku\"> &lt; ApplicationController</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk7\">def</span><span class=\"mtk1\"> </span><span class=\"mtk5\">index</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\"># @very_important_content = &quot;The sun gently peeked through...&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    @very_important_content </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> </span><span class=\"mtk9 mtki\">I18n</span><span class=\"mtk1\">.</span><span class=\"mtk5\">t</span><span class=\"mtk1\">(</span><span class=\"mtk6\">&quot;welcome.index.very_important_content&quot;</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk7\">end</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">end</span></span></span></code></pre>\n<p class=\"markdown-para\"><strong class=\"markdown-strong\">Step 7: Update Stimulus Controller</strong></p>\n<p class=\"markdown-para\">Replace the hard-coded English word \"Copy\" with a new input value <code>copyText</code>:</p>\n<pre class=\"grvsc-container gatsby-highlight monokai\" data-language=\"javascript\" data-index=\"35\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// app/javascript/controllers/clipboard_controller.js</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">export</span><span class=\"mtk1\"> </span><span class=\"mtk7\">default</span><span class=\"mtk1\"> </span><span class=\"mtk9 mtki\">class</span><span class=\"mtk1\"> </span><span class=\"mtk7\">extends</span><span class=\"mtk1\"> </span><span class=\"mtk5 mtki mtku\">Controller</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk3\">// === NEW: copyText ADDED HERE ===</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk3\">// === OPTIONALLY REMOVE DEFAULTS SO THESE MUST ALWAYS BE PROVIDED ===</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk7\">static</span><span class=\"mtk1\"> values </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    confirm: { type: </span><span class=\"mtk9 mtki\">String</span><span class=\"mtk1\">, default: </span><span class=\"mtk6\">&#39;Done&#39;</span><span class=\"mtk1\"> },</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    delayMs: { type: </span><span class=\"mtk9 mtki\">Number</span><span class=\"mtk1\">, default: </span><span class=\"mtk4\">2000</span><span class=\"mtk1\"> },</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    copyText: { type: </span><span class=\"mtk9 mtki\">String</span><span class=\"mtk1\">, default: </span><span class=\"mtk6\">&#39;Copy&#39;</span><span class=\"mtk1\"> }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk5\">copy</span><span class=\"mtk1\">() {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk9 mtki\">const</span><span class=\"mtk1\"> text </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> </span><span class=\"mtk10\">this</span><span class=\"mtk1\">.contentTarget.innerText</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    navigator.clipboard.</span><span class=\"mtk5\">writeText</span><span class=\"mtk1\">(text)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      .</span><span class=\"mtk5\">then</span><span class=\"mtk1\">(() </span><span class=\"mtk9 mtki\">=&gt;</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk10\">this</span><span class=\"mtk1\">.buttonTarget.textContent </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> </span><span class=\"mtk10\">this</span><span class=\"mtk1\">.confirmValue;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk9\">setTimeout</span><span class=\"mtk1\">(() </span><span class=\"mtk9 mtki\">=&gt;</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">          </span><span class=\"mtk3\">// === NEW: USE copyTextValue INSTEAD OF HARD-CODED ENGLISH WORD ===</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">          </span><span class=\"mtk3\">// this.buttonTarget.textContent = &quot;Copy&quot;;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">          </span><span class=\"mtk10\">this</span><span class=\"mtk1\">.buttonTarget.textContent </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> </span><span class=\"mtk10\">this</span><span class=\"mtk1\">.copyTextValue;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        }, </span><span class=\"mtk10\">this</span><span class=\"mtk1\">.delayMsValue);</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      })</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk3\">// ...</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<p class=\"markdown-para\"><strong class=\"markdown-strong\">Step 8: Update Welcome View</strong></p>\n<p class=\"markdown-para\">Finally, update the welcome index view to pass in the translation values rather than hard-coded English words into the Stimulus controller via the data attributes:</p>\n<pre class=\"grvsc-container gatsby-highlight monokai\" data-language=\"erb\" data-index=\"36\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">&lt;%# app/views/welcome/index.html.erb %&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">&lt;</span><span class=\"mtk7\">div</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk5\">data-controller</span><span class=\"mtk1\">=</span><span class=\"mtk6\">&quot;clipboard&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk5\">data-clipboard-confirm-value</span><span class=\"mtk1\">=</span><span class=\"mtk6\">&quot;</span><span class=\"mtk7\">&lt;%=</span><span class=\"mtk1\"> </span><span class=\"mtk5\">t</span><span class=\"mtk1\">(</span><span class=\"mtk6\">&#39;clipboard.done&#39;</span><span class=\"mtk1\">) </span><span class=\"mtk7\">%&gt;</span><span class=\"mtk6\">&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk5\">data-clipboard-delay-ms-value</span><span class=\"mtk1\">=</span><span class=\"mtk6\">&quot;3000&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk5\">data-clipboard-copy-text-value</span><span class=\"mtk1\">=</span><span class=\"mtk6\">&quot;</span><span class=\"mtk7\">&lt;%=</span><span class=\"mtk1\"> </span><span class=\"mtk5\">t</span><span class=\"mtk1\">(</span><span class=\"mtk6\">&#39;clipboard.copy&#39;</span><span class=\"mtk1\">) </span><span class=\"mtk7\">%&gt;</span><span class=\"mtk6\">&quot;</span><span class=\"mtk1\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  &lt;</span><span class=\"mtk7\">div</span><span class=\"mtk1\"> </span><span class=\"mtk5\">data-clipboard-target</span><span class=\"mtk1\">=</span><span class=\"mtk6\">&quot;content&quot;</span><span class=\"mtk1\"> </span><span class=\"mtk5\">id</span><span class=\"mtk1\">=</span><span class=\"mtk6\">&quot;content&quot;</span><span class=\"mtk1\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk7\">&lt;%=</span><span class=\"mtk1\"> @very_important_content </span><span class=\"mtk7\">%&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  &lt;/</span><span class=\"mtk7\">div</span><span class=\"mtk1\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  &lt;</span><span class=\"mtk7\">button</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk5\">data-action</span><span class=\"mtk1\">=</span><span class=\"mtk6\">&quot;clipboard#copy&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk5\">data-clipboard-target</span><span class=\"mtk1\">=</span><span class=\"mtk6\">&quot;button&quot;</span><span class=\"mtk1\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk7\">&lt;%=</span><span class=\"mtk1\"> </span><span class=\"mtk5\">t</span><span class=\"mtk1\">(</span><span class=\"mtk6\">&#39;clipboard.copy&#39;</span><span class=\"mtk1\">) </span><span class=\"mtk7\">%&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  &lt;/</span><span class=\"mtk7\">button</span><span class=\"mtk1\">&gt;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">&lt;/</span><span class=\"mtk7\">div</span><span class=\"mtk1\">&gt;</span></span></span></code></pre>\n<p class=\"markdown-para\">Now it defaults to English (added some TailwindCSS styles):</p>\n<p class=\"markdown-para\"><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 66.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAACi0lEQVR42p2Ry08TURTGbyIr3Rk2llZLSqny2JQ2gGmiJC6o7pBWVpgoBTeSuKXhPzOASBkRDDG0nUeRtsyznUcf8+i0dOaQmRIEItF4k1/OI/d+57v3or6++3efBAY+DY8E12OxZ2vT00/T4fBEeiISST/y+9MDPl/aewser9dh7YHHsz4UDK56vb57qL/fM/g8NgUzL2YgHn8F8fhLiMViEI1GYXx8HEZGR2H0Bk5vbGwMwuEJiESiMDk5CVNT0x2/f3AYLSwkAxtb282vO7v2543NswyGdQmS6OIE3iVJoktS5K38ODzs5vK5zlE2C7sYJqVSSyG0uPg2QLO8XhEV4ATRlpS6rRumrbfavXgD7Upea6h2UzMszTCB4yvKx9XVEJqbmw+QhaLOCRJURMV2hPmKdIH8h/x3T6jKwPKixfIi4OQv5d37VAglEm8C1HFJF6U6SLJsMwwDDMsAzdAuvMC7dfm0DBzPQalUcmuWY0GoCKAbhiXKdSALRSW1vBJC84lkT1CuA8dxNkkSQBUowAn8EoqioHBcAIIkIJvLQjZ7BHk8D7l8zhG25FoTCOpESaVuCNIMbTsbSYp0hfL5nCviDHCH4Ljr0HFbKpeApk+h3qhbktzoOXQEExeCVakGZtu0VU0Fo6WDpqug6Rrohg66oV3mV1dT1aCpaZakNK5fmSwUVeexW6bZbXc6ltluW07s0b6G0Wq5tEzTYjne4ivVrmOGoE7kpdTyMEomF4ZKp9yZpKggVJW/UhFrFyggyg2oOp9ZU6FYZvXllQ+P0exs/OHWdiaP7R3wGWyf3v22z/wrGey7A43tHQibX3Z+vp5P+hFCqA8h5EUIBRFCQ/+Jc9aHELpzDsgr2boG3F9uAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"stimulus demo language english\"\n        title=\"stimulus demo language english\"\n        src=\"/static/e1a9c03da4e7ab0120eb18e7c7ec7b01/5a190/stimulus-demo-language-english.png\"\n        srcset=\"/static/e1a9c03da4e7ab0120eb18e7c7ec7b01/772e8/stimulus-demo-language-english.png 200w,\n/static/e1a9c03da4e7ab0120eb18e7c7ec7b01/e17e5/stimulus-demo-language-english.png 400w,\n/static/e1a9c03da4e7ab0120eb18e7c7ec7b01/5a190/stimulus-demo-language-english.png 800w,\n/static/e1a9c03da4e7ab0120eb18e7c7ec7b01/96e86/stimulus-demo-language-english.png 1089w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p class=\"markdown-para\">Clicking Spanish changes the url and content:</p>\n<p class=\"markdown-para\"><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 66.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAACd0lEQVR42p2QTU8TURSGbyIr3Rk2llZLSqlCWUjRAiEBEhdUd0iBFSZKIS4kYUvDPzOAtJ1agyHGtvMFtND5aueznSkUOjPHzJQgGDDGxZPn5Lx33tw7qKvr4f1ngZ71/oHg5sTE5MbY+Hjy+XAkGYmMJJ/4/ckeny/pvQOP1+uw8cjj2ewLBte8Xt8D1N3t6Z2aGIXpV9PwOvYGYrEYTE5OwctoFMJDQzAwOAiDf+DswuEwDA9HYGTkBUSjURgdHbvw+3v70eLifGBrZ7eRSmP2563tdiabNUmKMHECN0mSMEmKvJPv+/tmoVi4+JnPA5bNSonEcggtLb0LVFi+WRUV4ATRlhTNbp627OZZq+O/oNZ1u2GcWsZpCzi+qnxaWwuh2dm5AEmXmpwgQVVUbKeYFyTgqw7ypa8j35hZvmaxvAg4eai8/5AIoXh8IUAdlJs1SQVZlm2GZYDjOXDMMJ2Z5VhgWdZ1hakAw7JubjQNaJttS5Q1IOmSklhZDaG5+Lxb6CxZjrVxAgeSIoG4NEVTrukDGpwsX8h3cpKAQrEAQlWwZLUBBHWkJBK3FBbxonsYx4udIpqG4uXsFDgZRZFuflI5gbPW2R03lDSoiTW7VDpyD5aPy1dPVDUVdEN3cZ7puKE3oHV+DpZtWc7vulFI0iVdqMlgg20CgPWvlI8rVk2UTEmpA0EeysuJlX40v7DYVz7h2rKqg1Y3QGvcQv0aVzsdZLUOitoARTOgdMw2V1Y/PkUzM7HHO7uZIvZ1j09lcpVUJseksBzj+jaw305j35g0lqtkc3vC9pf0j7dzcT9CCHUhhLwIoSBCqO8/cb71IYTu/QLdJNnyUh5JxwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"stimulus demo language spanish\"\n        title=\"stimulus demo language spanish\"\n        src=\"/static/b8b2e8b08eeeb22930bd3e018e4f03c9/5a190/stimulus-demo-language-spanish.png\"\n        srcset=\"/static/b8b2e8b08eeeb22930bd3e018e4f03c9/772e8/stimulus-demo-language-spanish.png 200w,\n/static/b8b2e8b08eeeb22930bd3e018e4f03c9/e17e5/stimulus-demo-language-spanish.png 400w,\n/static/b8b2e8b08eeeb22930bd3e018e4f03c9/5a190/stimulus-demo-language-spanish.png 800w,\n/static/b8b2e8b08eeeb22930bd3e018e4f03c9/96e86/stimulus-demo-language-spanish.png 1089w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p class=\"markdown-para\">Clicking the Copy button while on the <code>/es</code> url, shows that it's functioning in Spanish (and after a few seconds returns to \"Copiar\"):</p>\n<p class=\"markdown-para\"><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 66.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAACe0lEQVR42p2Rz0/TYBjH30ROejNcHJuOjDGFcZChA0ICJB6Y3pABJ0yUQTxI4pWF/8wAMrY5gyHGrT+RjbVv221t120tTNf2Me0IggFjPHzyefJ822/et0U9PXdvPwr0vR8cCm5NTU1vTkxOJh+PRpKRyFjygd+f7PP5kt4b8Hi9Dpv3PJ6tgWBww+v13UG9vZ7+malxmH02C89jLyAWi8H09Aw8jUYhPDICQ8PDMPwHzi4cDsPoaATGxp5ANBqF8fGJn35//yBaXl4MbO/uNVP7GfvD9k4nnc2aNEOZJEWaNE2ZNEPfyJfDQ7NAFH5+y+chk83KicRqCK2svApwWDQqNRUEqWbLqmYbp23bOGt3/RfqjZbd1E8t/bQNglhR321shND8/EKAZouGIMlQqam2UyxKMogVB+Xcl1GuzFisWlisAUl/V1+/SYRQPL4UYI5KRlWug6IoNo95EEQBHPN8d8YCBoyxa47ngMfYzXVDh47ZsWqKBjRbVBNr6yG0EF90C50lFrBNUiTQDA3UuRmWcc0eseBk+UK+m9MUFIgCSBXJUupNoJhjNZG4ppAgCfdhkiS6RSwLxPnsFDgZw9BuznFlaP9o33BCWYNqrWoXi8dQ5spQOildXLGu1aGlt1ycazputppw1m6DaZmW87muFNJssSVVFbDBNgHA+hdsAKtAMhbHC6asNpyfoqwm1gbR4tLyQKksdJR6C7SGDlrzGhqXuNi1QFY0UOoNUDUdiifYWFt/+xDNzcXu7+6licynAzGVznGpdI5PZXK86+vI/HY6+5nfz+S4bO5A2vm4//XlQtyPEEI9CCEvQiiIEBr4T5x3fQihW78Ao2nZuH0Xf9cAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"stimulus demo language spanish done\"\n        title=\"stimulus demo language spanish done\"\n        src=\"/static/24491792e42cf5811d07e77326770607/5a190/stimulus-demo-language-spanish-done.png\"\n        srcset=\"/static/24491792e42cf5811d07e77326770607/772e8/stimulus-demo-language-spanish-done.png 200w,\n/static/24491792e42cf5811d07e77326770607/e17e5/stimulus-demo-language-spanish-done.png 400w,\n/static/24491792e42cf5811d07e77326770607/5a190/stimulus-demo-language-spanish-done.png 800w,\n/static/24491792e42cf5811d07e77326770607/96e86/stimulus-demo-language-spanish-done.png 1089w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p class=\"markdown-para\">The complete changeset to add multi-language support can be viewed <a href=\"https://github.com/danielabar/stimulus_demo/commit/63c2d0cd7166a7bd4f45589f3a61b8a4c56fa000\" class=\"markdown-link\">here</a>.</p>\n<aside class=\"markdown-aside\">\nThis is just one of many ways to implement i18n in Rails. The topic of internationalization is quite extensive. For more in-depth coverage, check out the <a class=\"markdown-link\" href=\"https://guides.rubyonrails.org/i18n.html\">Rails i18n guide</a>.\n</aside>\n<h2 class=\"markdown-subtitle\" id=\"debugging\" style=\"position:relative;\"><a href=\"#debugging\" aria-label=\"debugging permalink\" class=\"markdown-header-link before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Debugging</h2>\n<p class=\"markdown-para\">Stimulus controllers can be debugged using the browser developer tools just like any other JavaScript. For example using Chrome, from the developer tools, click on the \"Sources\" tab:</p>\n<p class=\"markdown-para\"><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 33.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAHABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAEF/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEAMQAAAByqEB/8QAFhABAQEAAAAAAAAAAAAAAAAAEQAQ/9oACAEBAAEFAnG//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPwE//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAFhAAAwAAAAAAAAAAAAAAAAAAABAx/9oACAEBAAY/Air/xAAWEAEBAQAAAAAAAAAAAAAAAAAAEVH/2gAIAQEAAT8hrVK1/9oADAMBAAIAAwAAABDwD//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABsQAAIBBQAAAAAAAAAAAAAAAAABESFRYYGR/9oACAEBAAE/EFdjeKNOzK6f/9k='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"stimulus demo debug sources tab\"\n        title=\"stimulus demo debug sources tab\"\n        src=\"/static/59ef862d5ba60f9dda65e721b42535c8/4b190/stimulus-demo-debug-sources-tab.jpg\"\n        srcset=\"/static/59ef862d5ba60f9dda65e721b42535c8/e07e9/stimulus-demo-debug-sources-tab.jpg 200w,\n/static/59ef862d5ba60f9dda65e721b42535c8/066f9/stimulus-demo-debug-sources-tab.jpg 400w,\n/static/59ef862d5ba60f9dda65e721b42535c8/4b190/stimulus-demo-debug-sources-tab.jpg 800w,\n/static/59ef862d5ba60f9dda65e721b42535c8/67c18/stimulus-demo-debug-sources-tab.jpg 1051w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p class=\"markdown-para\">Enter <kbd class=\"markdown-kbd\">Command</kbd> + <kbd class=\"markdown-kbd\">P</kbd> to bring up the sources fuzzy search (or if using Windows, follow the instructions displayed in the Sources tab for the shortcut), then start typing in \"clipboard\". It should find a match like this:</p>\n<p class=\"markdown-para\"><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 644px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 28.500000000000004%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAGABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAIF/8QAFQEBAQAAAAAAAAAAAAAAAAAAAQD/2gAMAwEAAhADEAAAAc6BAL//xAAXEAADAQAAAAAAAAAAAAAAAAAAEBEh/9oACAEBAAEFAsKv/8QAFREBAQAAAAAAAAAAAAAAAAAAABH/2gAIAQMBAT8BiP/EABURAQEAAAAAAAAAAAAAAAAAAAAR/9oACAECAQE/Aar/xAAWEAEBAQAAAAAAAAAAAAAAAAAxABD/2gAIAQEABj8CIz//xAAYEAADAQEAAAAAAAAAAAAAAAAAARFRkf/aAAgBAQABPyGuIz0qw//aAAwDAQACAAMAAAAQ8D//xAAVEQEBAAAAAAAAAAAAAAAAAAAAEf/aAAgBAwEBPxCEP//EABURAQEAAAAAAAAAAAAAAAAAAAAR/9oACAECAQE/EKU//8QAHBABAAIBBQAAAAAAAAAAAAAAAQAR0SExUXHx/9oACAEBAAE/EGou05cz1GYs6V6Wf//Z'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"stimulus demo debug source fuzzy search\"\n        title=\"stimulus demo debug source fuzzy search\"\n        src=\"/static/e2c76c4896f01663548f757031a9141c/51442/stimulus-demo-debug-source-fuzzy-search.jpg\"\n        srcset=\"/static/e2c76c4896f01663548f757031a9141c/e07e9/stimulus-demo-debug-source-fuzzy-search.jpg 200w,\n/static/e2c76c4896f01663548f757031a9141c/066f9/stimulus-demo-debug-source-fuzzy-search.jpg 400w,\n/static/e2c76c4896f01663548f757031a9141c/51442/stimulus-demo-debug-source-fuzzy-search.jpg 644w\"\n        sizes=\"(max-width: 644px) 100vw, 644px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p class=\"markdown-para\">After hitting <kbd class=\"markdown-kbd\">Enter</kbd> to action the file match, it will load the file in the Sources tab. Then you can add breakpoints as usual. For example, here I've added a breakpoint at the <code>navigator.clipboard</code> line and clicked on the Copy button:</p>\n<p class=\"markdown-para\"><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 36.50000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAHABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAEF/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAH/2gAMAwEAAhADEAAAAcyEBX//xAAUEAEAAAAAAAAAAAAAAAAAAAAQ/9oACAEBAAEFAn//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAUEAEAAAAAAAAAAAAAAAAAAAAQ/9oACAEBAAY/An//xAAYEAACAwAAAAAAAAAAAAAAAAAAARAxQf/aAAgBAQABPyHClH//2gAMAwEAAgADAAAAEP8Az//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8QP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8QP//EABkQAQEAAwEAAAAAAAAAAAAAAAERACExof/aAAgBAQABPxBGW0wYvd9rgXc9z//Z'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"stimulus demo debug breakpoint\"\n        title=\"stimulus demo debug breakpoint\"\n        src=\"/static/9f8b3387e5b6bd478db9275fe121a50e/4b190/stimulus-demo-debug-breakpoint.jpg\"\n        srcset=\"/static/9f8b3387e5b6bd478db9275fe121a50e/e07e9/stimulus-demo-debug-breakpoint.jpg 200w,\n/static/9f8b3387e5b6bd478db9275fe121a50e/066f9/stimulus-demo-debug-breakpoint.jpg 400w,\n/static/9f8b3387e5b6bd478db9275fe121a50e/4b190/stimulus-demo-debug-breakpoint.jpg 800w,\n/static/9f8b3387e5b6bd478db9275fe121a50e/e5166/stimulus-demo-debug-breakpoint.jpg 1200w,\n/static/9f8b3387e5b6bd478db9275fe121a50e/07b2d/stimulus-demo-debug-breakpoint.jpg 1406w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<h2 class=\"markdown-subtitle\" id=\"loading\" style=\"position:relative;\"><a href=\"#loading\" aria-label=\"loading permalink\" class=\"markdown-header-link before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Loading</h2>\n<p class=\"markdown-para\">We didn't have to do anything special like registering or loading the controller. It just \"showed up\" in the app. This is because this project is using <a href=\"https://github.com/WICG/import-maps\" class=\"markdown-link\">import-maps</a>, which is the default for JavaScript when starting a new Rails 7 project. The Rails <a href=\"https://github.com/rails/importmap-rails\" class=\"markdown-link\">integration</a> automatically loads all the Stimulus controller files from <code>app/javascript/controllers</code>. If you're using a different JS bundler such as Webpack or esbuild, it will require a few more steps. See the Stimulus docs on <a href=\"https://stimulus.hotwired.dev/handbook/installing\" class=\"markdown-link\">installing</a> for more details.</p>\n<h2 class=\"markdown-subtitle\" id=\"maintainability\" style=\"position:relative;\"><a href=\"#maintainability\" aria-label=\"maintainability permalink\" class=\"markdown-header-link before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Maintainability</h2>\n<p class=\"markdown-para\">A few caveats about maintainability:</p>\n<p class=\"markdown-para\">On a large app with many Stimulus controllers, the template files will end up full of <code>data-controller</code>, <code>data-somecontroller-target</code> and <code>data-somecontroller-somevariable-value</code>. This could get confusing especially if there are multiple controllers in the same area of the DOM.</p>\n<p class=\"markdown-para\">It would be amazing to have IDE support such as hover/go-to definition from the template to the controller and vice versa. There is <a href=\"https://marketplace.visualstudio.com/items?itemName=marcoroth.stimulus-lsp\" class=\"markdown-link\">Stimulus LSP</a> for VSCode, which provides some support. It has completion support in the template, validation, and using the go-to-definition shortcut on any data- attribute from the template goes to the controller, although always the top of the file, not the specific value or target line. Doesn't work the other way though, from controller to template(s). Free extension idea if anyone's looking for a side project </p>\n<p class=\"markdown-para\">Another aspect of maintainability is automated testing. At the time of this writing, I couldn't find anything in the <a href=\"https://stimulus.hotwired.dev/reference/controllers\" class=\"markdown-link\">Stimulus Reference</a> about unit testing controllers, although there is some discussion <a href=\"https://discuss.hotwired.dev/t/add-a-doc-about-unit-testing-stimulus-controllers/4142\" class=\"markdown-link\">here</a> and <a href=\"https://discuss.hotwired.dev/t/testing-stimulus/90\" class=\"markdown-link\">here</a>.</p>\n<p class=\"markdown-para\">In the meantime, be sure to have system tests that cover any JavaScript interactivity from the Stimulus controllers. If using <a href=\"https://github.com/teamcapybara/capybara\" class=\"markdown-link\">Capybara</a>, this means configuring it with a <a href=\"https://github.com/teamcapybara/capybara?tab=readme-ov-file#drivers\" class=\"markdown-link\">driver</a> capable of executing JavaScript and understanding its <a href=\"https://github.com/teamcapybara/capybara?tab=readme-ov-file#asynchronous-javascript-ajax-and-friends\" class=\"markdown-link\">waiting behaviour</a>.</p>\n<h2 class=\"markdown-subtitle\" id=\"conclusion\" style=\"position:relative;\"><a href=\"#conclusion\" aria-label=\"conclusion permalink\" class=\"markdown-header-link before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Conclusion</h2>\n<p class=\"markdown-para\">This post covered how to implement a Copy to Clipboard feature in a Rails application using Stimulus. It began with an overview of Stimulus and its role in adding interactivity to web apps. Then it explained how to create a new Stimulus <em class=\"markdown-emphasis\">controller</em>, use Stimulus <em class=\"markdown-emphasis\">actions</em> to handle DOM events, <em class=\"markdown-emphasis\">targets</em> to perform DOM manipulation, and <em class=\"markdown-emphasis\">values</em> for customization of the controller's behaviour. Finally it covered some aspects of maintainability to be aware of when using Stimulus.</p>\n<p class=\"markdown-para\">Here's some further reading on Stimulus from the official <a href=\"https://stimulus.hotwired.dev/\" class=\"markdown-link\">documentation</a> site:</p>\n<ul class=\"markdown-list-unordered\">\n<li class=\"markdown-list-item\"><a href=\"https://stimulus.hotwired.dev/handbook/introduction\" class=\"markdown-link\">Intro</a></li>\n<li class=\"markdown-list-item\"><a href=\"https://stimulus.hotwired.dev/handbook/installing\" class=\"markdown-link\">Installation</a> - contains important information about naming conventions!</li>\n<li class=\"markdown-list-item\"><a href=\"https://stimulus.hotwired.dev/reference/lifecycle-callbacks\" class=\"markdown-link\">Lifecycle Callbacks</a></li>\n<li class=\"markdown-list-item\"><a href=\"https://stimulus.hotwired.dev/reference/actions\" class=\"markdown-link\">Actions</a></li>\n<li class=\"markdown-list-item\"><a href=\"https://stimulus.hotwired.dev/reference/targets\" class=\"markdown-link\">Targets</a></li>\n<li class=\"markdown-list-item\"><a href=\"https://stimulus.hotwired.dev/reference/values\" class=\"markdown-link\">Values</a></li>\n</ul>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n  .monokai {\n    background-color: #272822;\n    color: #f8f8f2;\n  }\n  .monokai .mtki { font-style: italic; }\n  .monokai .mtku {\n    text-decoration: underline;\n    text-underline-position: under;\n  }\n  .monokai .mtk1 { color: #F8F8F2; }\n  .monokai .mtk3 { color: #75715E; }\n  .monokai .mtk7 { color: #F92672; }\n  .monokai .mtk5 { color: #A6E22E; }\n  .monokai .mtk6 { color: #E6DB74; }\n  .monokai .mtk9 { color: #66D9EF; }\n  .monokai .mtk10 { color: #FD971F; }\n  .monokai .mtk4 { color: #AE81FF; }\n  .monokai .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));\n  }\n</style>","timeToRead":16,"tableOfContents":"<ul>\n<li><a href=\"#initial-setup\">Initial Setup</a></li>\n<li><a href=\"#introduce-stimulus\">Introduce Stimulus</a></li>\n<li><a href=\"#copy-button-action\">Copy Button Action</a></li>\n<li><a href=\"#targets\">Targets</a></li>\n<li><a href=\"#clipboard-api\">Clipboard API</a></li>\n<li><a href=\"#user-feedback\">User Feedback</a></li>\n<li><a href=\"#values\">Values</a></li>\n<li><a href=\"#targets-vs-values\">Targets vs Values</a></li>\n<li><a href=\"#internationalization\">Internationalization</a></li>\n<li><a href=\"#debugging\">Debugging</a></li>\n<li><a href=\"#loading\">Loading</a></li>\n<li><a href=\"#maintainability\">Maintainability</a></li>\n<li><a href=\"#conclusion\">Conclusion</a></li>\n</ul>","frontmatter":{"title":"Copy to Clipboard with Stimulus & Rails","date":"02 Nov 2024","description":"Learn how to build a configurable copy to clipboard feature with the Stimulus JavaScript library as part of a Rails application","featuredImage":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#b8a898","images":{"fallback":{"src":"/static/1a7b67d9092f00470bd270816224566d/43222/stimulus-copy-clipboard-meg-boulden-7daz5hPdd1c-unsplash.jpg","srcSet":"/static/1a7b67d9092f00470bd270816224566d/b599e/stimulus-copy-clipboard-meg-boulden-7daz5hPdd1c-unsplash.jpg 225w,\n/static/1a7b67d9092f00470bd270816224566d/8b4bc/stimulus-copy-clipboard-meg-boulden-7daz5hPdd1c-unsplash.jpg 450w,\n/static/1a7b67d9092f00470bd270816224566d/43222/stimulus-copy-clipboard-meg-boulden-7daz5hPdd1c-unsplash.jpg 900w","sizes":"(min-width: 900px) 900px, 100vw"},"sources":[{"srcSet":"/static/1a7b67d9092f00470bd270816224566d/1422b/stimulus-copy-clipboard-meg-boulden-7daz5hPdd1c-unsplash.webp 225w,\n/static/1a7b67d9092f00470bd270816224566d/ed679/stimulus-copy-clipboard-meg-boulden-7daz5hPdd1c-unsplash.webp 450w,\n/static/1a7b67d9092f00470bd270816224566d/26c83/stimulus-copy-clipboard-meg-boulden-7daz5hPdd1c-unsplash.webp 900w","type":"image/webp","sizes":"(min-width: 900px) 900px, 100vw"}]},"width":900,"height":596}}}},"fields":{"slug":"/blog/stimulus-copy-to-clipboard/"}},"relatedP":{"edges":[{"node":{"id":"50a20a25-7223-5e5b-b818-72c4b9799868","frontmatter":{"title":"Maximize Learning from Screencasts","featuredImage":{"childImageSharp":{"gatsbyImageData":{"layout":"fixed","backgroundColor":"#d8c8b8","images":{"fallback":{"src":"/static/0e3a7c79c69654f0a6a1fdf3c6f998c9/26528/active-learning-deepmind-ZJKE4XVlKIA-unsplash.jpg","srcSet":"/static/0e3a7c79c69654f0a6a1fdf3c6f998c9/26528/active-learning-deepmind-ZJKE4XVlKIA-unsplash.jpg 300w,\n/static/0e3a7c79c69654f0a6a1fdf3c6f998c9/43429/active-learning-deepmind-ZJKE4XVlKIA-unsplash.jpg 600w","sizes":"300px"},"sources":[{"srcSet":"/static/0e3a7c79c69654f0a6a1fdf3c6f998c9/5d6c3/active-learning-deepmind-ZJKE4XVlKIA-unsplash.webp 300w,\n/static/0e3a7c79c69654f0a6a1fdf3c6f998c9/68dbc/active-learning-deepmind-ZJKE4XVlKIA-unsplash.webp 600w","type":"image/webp","sizes":"300px"}]},"width":300,"height":170}}}},"fields":{"slug":"/blog/learning-from-screencasts/"}}},{"node":{"id":"0c2e1691-4b14-536c-acee-4d0f120de743","frontmatter":{"title":"Rails Strong Params for GET Request","featuredImage":{"childImageSharp":{"gatsbyImageData":{"layout":"fixed","backgroundColor":"#080808","images":{"fallback":{"src":"/static/30de304c73a206886f15aeaf89655663/26528/strong-params-sigmund-f0dJjQMhfXo-unsplash.jpg","srcSet":"/static/30de304c73a206886f15aeaf89655663/26528/strong-params-sigmund-f0dJjQMhfXo-unsplash.jpg 300w,\n/static/30de304c73a206886f15aeaf89655663/43429/strong-params-sigmund-f0dJjQMhfXo-unsplash.jpg 600w","sizes":"300px"},"sources":[{"srcSet":"/static/30de304c73a206886f15aeaf89655663/5d6c3/strong-params-sigmund-f0dJjQMhfXo-unsplash.webp 300w,\n/static/30de304c73a206886f15aeaf89655663/68dbc/strong-params-sigmund-f0dJjQMhfXo-unsplash.webp 600w","type":"image/webp","sizes":"300px"}]},"width":300,"height":170}}}},"fields":{"slug":"/blog/rails-strong-params-get/"}}},{"node":{"id":"e43646a1-6a97-5a2d-8028-55f3716966d4","frontmatter":{"title":"When the Password Field Says No to Paste","featuredImage":{"childImageSharp":{"gatsbyImageData":{"layout":"fixed","backgroundColor":"#180808","images":{"fallback":{"src":"/static/3b38eaa6c3ec192c77aa27d5fc553ff1/26528/password-paste-fly-d-C5pXRFEjq3w-unsplash.jpg","srcSet":"/static/3b38eaa6c3ec192c77aa27d5fc553ff1/26528/password-paste-fly-d-C5pXRFEjq3w-unsplash.jpg 300w,\n/static/3b38eaa6c3ec192c77aa27d5fc553ff1/43429/password-paste-fly-d-C5pXRFEjq3w-unsplash.jpg 600w","sizes":"300px"},"sources":[{"srcSet":"/static/3b38eaa6c3ec192c77aa27d5fc553ff1/5d6c3/password-paste-fly-d-C5pXRFEjq3w-unsplash.webp 300w,\n/static/3b38eaa6c3ec192c77aa27d5fc553ff1/68dbc/password-paste-fly-d-C5pXRFEjq3w-unsplash.webp 600w","type":"image/webp","sizes":"300px"}]},"width":300,"height":170}}}},"fields":{"slug":"/blog/password-field-no-paste/"}}}]}},"pageContext":{"slug":"/blog/stimulus-copy-to-clipboard/","relatedPosts":["When the Password Field Says No to Paste","Maximize Learning from Screencasts","Rails Strong Params for GET Request"]}},"staticQueryHashes":["163244226"],"slicesMap":{}}