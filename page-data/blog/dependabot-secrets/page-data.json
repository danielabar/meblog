{"componentChunkName":"component---src-templates-post-js","path":"/blog/dependabot-secrets/","result":{"data":{"markdownRemark":{"html":"<p class=\"markdown-para\">A few months ago I noticed all the Github Dependabot pull requests were failing the required continuous integration (CI) check on a project I'm working on. This check is implemented as a Github Action workflow that runs the build, linting, unit, and end-to-end tests on every push. It's a required check, which means any pull request to the mainline must pass CI before it can be merged, including the <a href=\"https://docs.github.com/en/code-security/dependabot/dependabot-security-updates/about-dependabot-security-updates\" class=\"markdown-link\">Dependabot</a> PRs. This is critical because sometimes a dependency update to fix a security vulnerability can unintentionally break an existing feature.</p>\n<aside class=\"markdown-aside\">\nForcing all PRs to run a certain check before being allowed to be merged to the mainline in Github, requires configuring a <a class=\"markdown-link\" href=\"https://docs.github.com/en/repositories/configuring-branches-and-merges-in-your-repository/defining-the-mergeability-of-pull-requests/managing-a-branch-protection-rule?ref=hackernoon.com\">Branch Protection Rule</a>. This can specify which branch(es) should be protected and what checks are required to be passing before any code can be merged to said branch.\n</aside>\n<h2 class=\"markdown-subtitle\" id=\"the-failures\" style=\"position:relative;\"><a href=\"#the-failures\" aria-label=\"the failures permalink\" class=\"markdown-header-link before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>The Failures</h2>\n<p class=\"markdown-para\">However, if <em class=\"markdown-emphasis\">all</em> the Dependabot PRs are failing CI, it's unlikely that every single dependency update is breaking something in the project, especially if they're all failing in the same way. Here's the error I was seeing on test failures from these PRs:</p>\n<pre class=\"grvsc-container gatsby-highlight monokai\" data-language=\"\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\">Braintree::ConfigurationError: Braintree::Configuration.merchant_id needs to be set</span></span></code></pre>\n<p class=\"markdown-para\">Indeed, this project does use Braintree to process payments, with a <a href=\"https://developer.paypal.com/braintree/articles/get-started/try-it-out#sandbox-vs.-production\" class=\"markdown-link\">sandbox</a> environment being used for tests. An initializer is used to configure Braintree, and the values are populated from environment variables. Even in test mode, it's good practice to avoid hard-coding 3rd party configuration. Note this is a Rails project:</p>\n<pre class=\"grvsc-container gatsby-highlight monokai\" data-language=\"ruby\" data-index=\"1\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\"># config/initializers/braintree.rb</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk9 mtki\">Braintree</span><span class=\"mtk1\">::</span><span class=\"mtk9 mtki\">Configuration</span><span class=\"mtk1\">.merchant_id </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> ENV[</span><span class=\"mtk6\">&quot;BRAINTREE_MERCHANT_ID&quot;</span><span class=\"mtk1\">]</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\"># populate other Braintree config...</span></span></span></code></pre>\n<h2 class=\"markdown-subtitle\" id=\"populating-environment-variables\" style=\"position:relative;\"><a href=\"#populating-environment-variables\" aria-label=\"populating environment variables permalink\" class=\"markdown-header-link before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Populating Environment Variables</h2>\n<p class=\"markdown-para\">To understand why the tests were complaining about Braintree configuration not being set requires understanding how environment variables are populated on this project.</p>\n<p class=\"markdown-para\">Locally, the values of all environment variables come from a git ignored <code>.env</code> file that developers populate on their laptops during project setup.</p>\n<p class=\"markdown-para\">For the Continuous Integration workflow that runs with Github Actions, environment variables are populated in Github repository secrets. Secrets can be set in Github by anyone with administrator access to the project by going to Settings -> Secrets -> Actions, and then clicking on the \"New repository secret\" button. For example to add a secret named <code>SOME_SECRET</code>:</p>\n<p class=\"markdown-para\"><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 773px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 72.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAABcklEQVR42p2S2U7CQBiFe+FC6exLpxulQKmKRiGKRI2v4L2+gL7/CxwzE1wwuHHx5SQzyZcz/z8RdyPY9hquXcK1l3DTFdx4jm42x3RNN1tA2hJEpKDS/UiUlSPUoyl6CQ8kVIJwjZhu8hdZEApThBZV06EeHyNhBnuHFAcxx37MPuh5aMi9HsVhXwQBEV+EfaZBuIHQOYTJkTCNmEjERK1zO32qQIQF4Z8QFlHZHKE9vUKiChBVgOoK1FTgtoZIa/DvsJ7BRjJdItJlh6OL2yBtT5cYzy5D2qoDs0MI14Cn2/F3Yp08HULmLSKZTaBdDWULGDeATitoV4Erh4SbzSf9gB+Vl0Yim4CoHIk//MRft/qGn59vGoRMF1sF/5H6lr8Kd2oo8wmYKUBlCqrSIN4J//W8kJsGVIyQsBpMNGFTu6KKKSJ1MsDJ0wqzxxsMH85BbAYqMlD5H9x7RvpiiLOXO5w/32P8tACxfsApiNzt6a9sGlu9jpYVPAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Github Add Secret\"\n        title=\"Github Add Secret\"\n        src=\"/static/44498b1287f092ff2d214d11ddacc635/612f7/github-add-secret.png\"\n        srcset=\"/static/44498b1287f092ff2d214d11ddacc635/772e8/github-add-secret.png 200w,\n/static/44498b1287f092ff2d214d11ddacc635/e17e5/github-add-secret.png 400w,\n/static/44498b1287f092ff2d214d11ddacc635/612f7/github-add-secret.png 773w\"\n        sizes=\"(max-width: 773px) 100vw, 773px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p class=\"markdown-para\">After saving it, it will be displayed as follows:</p>\n<p class=\"markdown-para\"><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 18.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAqUlEQVR42n3PaQrDIBAFYA+QEhMToyZqolks6WJLofc/2Ss1FApdfnzMDAPDPDKtV/h9hFtO8OEM3jrUavjpuU/e+2SbSTjcMIaIKVwwLhFN5/8eZMKiEha17FFJi4LrVEthUcoeJGsa5FYh1zLZ0Qa74lNGOWiloMwEoT0K3kFqjzXeIc2I2U6YhwWECgXathupvh57yZlKnzFhkDOZYrvlmOLqzsFojwfQ1WjB7LQM3gAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Github Repo Secret Example\"\n        title=\"Github Repo Secret Example\"\n        src=\"/static/6062ad3c1d32f5a06cc41905c8fc3694/5a190/github-repo-secret-example.png\"\n        srcset=\"/static/6062ad3c1d32f5a06cc41905c8fc3694/772e8/github-repo-secret-example.png 200w,\n/static/6062ad3c1d32f5a06cc41905c8fc3694/e17e5/github-repo-secret-example.png 400w,\n/static/6062ad3c1d32f5a06cc41905c8fc3694/5a190/github-repo-secret-example.png 800w,\n/static/6062ad3c1d32f5a06cc41905c8fc3694/715a3/github-repo-secret-example.png 830w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p class=\"markdown-para\">These secrets can then be used to populate environment variables in Github Action workflows by using the <a href=\"https://docs.github.com/en/enterprise-server@3.3/actions/using-workflows/workflow-syntax-for-github-actions#env\" class=\"markdown-link\">env</a> section, for example:</p>\n<pre class=\"grvsc-container gatsby-highlight monokai\" data-language=\"yml\" data-index=\"2\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\"># .github/workflows/ci.yml</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">name</span><span class=\"mtk1\">: </span><span class=\"mtk6\">CI</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk4\">on</span><span class=\"mtk1\">: </span><span class=\"mtk6\">push</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">env</span><span class=\"mtk1\">:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk7\">SOME_SECRET</span><span class=\"mtk1\">: </span><span class=\"mtk6\">${{ secrets.SOME_SECRET }}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk7\">BRAINTREE_MERCHANT_ID</span><span class=\"mtk1\">: </span><span class=\"mtk6\">${{ secrets.BRAINTREE_MERCHANT_ID }}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk3\"># other env vars...</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">jobs</span><span class=\"mtk1\">:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk3\"># build, lint, test, etc...</span></span></span></code></pre>\n<p class=\"markdown-para\">Given the above, any code that runs as part of the workflow on the Github Action runner will have access to <code>ENV[\"BRAINTREE_MERCHANT_ID\"]</code> and <code>ENV[\"SOME_SECRET\"]</code>, which is the Ruby syntax for accessing environment variables.</p>\n<h2 class=\"markdown-subtitle\" id=\"dependabot-secrets\" style=\"position:relative;\"><a href=\"#dependabot-secrets\" aria-label=\"dependabot secrets permalink\" class=\"markdown-header-link before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Dependabot Secrets</h2>\n<p class=\"markdown-para\">However, it turns out, Dependabot doesn't have permission to read the main repository secrets. This means when any Dependabot PR is running the Continuous Integration check and attempts to run initializers, it's as if the code had the following:</p>\n<pre class=\"grvsc-container gatsby-highlight monokai\" data-language=\"ruby\" data-index=\"3\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk9 mtki\">Braintree</span><span class=\"mtk1\">::</span><span class=\"mtk9 mtki\">Configuration</span><span class=\"mtk1\">.merchant_id </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> </span><span class=\"mtk4\">nil</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\"># other config...</span></span></span></code></pre>\n<p class=\"markdown-para\">Which would cause all tests that need to communicate with the Braintree sandbox to fail. Essentially, anywhere <code>ENV[\"SOMETHING\"]</code> is referenced would return <code>nil</code>.</p>\n<p class=\"markdown-para\">The solution is to specify a set of secrets specifically for Dependabot. This can be done in the Github UI by going to your repository's Settings, then in the Secrets section, selecting Dependabot. Note that the secrets specified in the Actions section are only available to your own PRs. Anything that the Dependabot PRs need to run must be specified in the Dependabot section.</p>\n<p class=\"markdown-para\">The UI to add a secret in the Dependabot section is the same as adding in the Actions section, for example:</p>\n<p class=\"markdown-para\"><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 377px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 34%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsTAAALEwEAmpwYAAAA8klEQVR42o2PW0vDQBSE91VjEpttrtskJrtJmrQ19VJKxYgUESpCRawg/v/fMXL2IfjU5uFjzs4chrPMsF2kskGqGhTNUs+kvshBmTnyT3Jx6cHxJjCdAMywx6jmd1D1EqvNM9aPW3TbHWS1wJnJBxfyIIHNQzAy6BIyLR7CcgL9Hlr2v5RghsVxbo0xcgXa+wfcrjuUsxsdUvFQ+kIvaxEmClFaaPVFplWkRe8NgXbd6Aqs7H6QVwvU7QpvH9/Y7Q94ff/E/usXm6cXZOUcqm4hp9dHoZ04n4JxUcITmSaMJaJEIYilnoNJ3menoJ9xP8YfqKe5/C7T5SYAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Github Dependabot Secrets\"\n        title=\"Github Dependabot Secrets\"\n        src=\"/static/8c3175f71d8342f2dbda2f6de82188b6/6146e/github-dependabot-secrets.png\"\n        srcset=\"/static/8c3175f71d8342f2dbda2f6de82188b6/772e8/github-dependabot-secrets.png 200w,\n/static/8c3175f71d8342f2dbda2f6de82188b6/6146e/github-dependabot-secrets.png 377w\"\n        sizes=\"(max-width: 377px) 100vw, 377px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p class=\"markdown-para\"><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 57.00000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABBUlEQVR42qWQXU+DMBiFe0OyMVo++zUQKpMwFjYTxSWaeGGM/8Tf4N8/puAMF2N+cPG0edu+p+c9JDG30M0z0vYFqn6ErJ+Q1Q/YHTps23s0+w4sUvACARrKHyHrokKiC7i+AI10jxUY8xuhb8FYZkjzG+irEi6N4CwonAUb7QzOcthdlvRN1u1ZrGAkMvjJGl4gsfI5XMYnGy67G2IhZnuHan9EtmmRVwekZYtAmvMIA38Ce2ffkFBvEIkUXBtwXSBW+Z8yO2HdBfIaxC4rFvfjnpjM6EIUXsAHh1bQFsNPomeeoCq/DtUsRiMbhKrsi9mIAiR7a9B9vKJ+P4JyCe8fGY75BGslELgV3bMzAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Github Add Depbot Secret\"\n        title=\"Github Add Depbot Secret\"\n        src=\"/static/ed217a510903a3ad7ced01f4739d86e6/5a190/github-add-depbot-secret.png\"\n        srcset=\"/static/ed217a510903a3ad7ced01f4739d86e6/772e8/github-add-depbot-secret.png 200w,\n/static/ed217a510903a3ad7ced01f4739d86e6/e17e5/github-add-depbot-secret.png 400w,\n/static/ed217a510903a3ad7ced01f4739d86e6/5a190/github-add-depbot-secret.png 800w,\n/static/ed217a510903a3ad7ced01f4739d86e6/d69c4/github-add-depbot-secret.png 1002w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p class=\"markdown-para\"><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 30%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAABC0lEQVR42m1Q2U7DMBDMGxSa00l8xHYc52jrFhqhFiT+/78G2WkiJHgYzR7amd2N2sHBvd9xnj8xuhmHywdkd8AuJnhNqw0vSfkn97Pn+Qvuesfp7QauBkQl0+CqB1M9mnaE0AOYtKh4C98jVAWuhdnytcZkj8ZMkGYKXFCFqJsuuN6+g4uyRwg9BmFtT5uBHzCDC0PenD9q3phKu9RUj6wUiGhjobojhBoX6AF51WC3L7bTPPwLfscrnvdF4KeYYJ/ViBLCkFKOTAhkXCDOKeKcISkYYo+chjh5xCnh4R15JVGyNlzFhIGWdtkwCHKOTDVIxSr4P/wGXrAWHYpaBmE9OHBuYKRFSgR+AJgXm1Gg89vJAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Github List Depbot Secrets\"\n        title=\"Github List Depbot Secrets\"\n        src=\"/static/b6770d0b521c0196f3235776d5bc3357/5a190/github-list-depbot-secrets.png\"\n        srcset=\"/static/b6770d0b521c0196f3235776d5bc3357/772e8/github-list-depbot-secrets.png 200w,\n/static/b6770d0b521c0196f3235776d5bc3357/e17e5/github-list-depbot-secrets.png 400w,\n/static/b6770d0b521c0196f3235776d5bc3357/5a190/github-list-depbot-secrets.png 800w,\n/static/b6770d0b521c0196f3235776d5bc3357/00d43/github-list-depbot-secrets.png 1000w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p class=\"markdown-para\">In the example above, the Dependabot PRs will now have access to <code>SOME_SECRET</code>. After specifying all the actual secrets needed, re-run the failed Dependabot checks and this time they should pass.</p>\n<h2 class=\"markdown-subtitle\" id=\"conclusion\" style=\"position:relative;\"><a href=\"#conclusion\" aria-label=\"conclusion permalink\" class=\"markdown-header-link before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Conclusion</h2>\n<p class=\"markdown-para\">This post has covered a simple reason why your Dependabot PRs may be failing required checks on Github, and how to fix it by configuring secrets specifically for Dependabot.</p>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n  .monokai {\n    background-color: #272822;\n    color: #f8f8f2;\n  }\n  .monokai .mtki { font-style: italic; }\n  .monokai .mtk3 { color: #75715E; }\n  .monokai .mtk9 { color: #66D9EF; }\n  .monokai .mtk1 { color: #F8F8F2; }\n  .monokai .mtk7 { color: #F92672; }\n  .monokai .mtk6 { color: #E6DB74; }\n  .monokai .mtk4 { color: #AE81FF; }\n  .monokai .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));\n  }\n</style>","timeToRead":3,"tableOfContents":"<ul>\n<li><a href=\"#the-failures\">The Failures</a></li>\n<li><a href=\"#populating-environment-variables\">Populating Environment Variables</a></li>\n<li><a href=\"#dependabot-secrets\">Dependabot Secrets</a></li>\n<li><a href=\"#conclusion\">Conclusion</a></li>\n</ul>","frontmatter":{"title":"Dependabot PRs Need Their Secrets","date":"01 Jul 2022","description":"A simple reason why your Dependabot PRs may be failing on Github.","featuredImage":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#081818","images":{"fallback":{"src":"/static/531f78a10b24ce41d4cd17ae99f41f8f/d730f/depbot-secrets-30daysreplay-social-media-marketing-ZEDvSzgS4FA-unsplash.jpg","srcSet":"/static/531f78a10b24ce41d4cd17ae99f41f8f/b834a/depbot-secrets-30daysreplay-social-media-marketing-ZEDvSzgS4FA-unsplash.jpg 225w,\n/static/531f78a10b24ce41d4cd17ae99f41f8f/21c52/depbot-secrets-30daysreplay-social-media-marketing-ZEDvSzgS4FA-unsplash.jpg 450w,\n/static/531f78a10b24ce41d4cd17ae99f41f8f/d730f/depbot-secrets-30daysreplay-social-media-marketing-ZEDvSzgS4FA-unsplash.jpg 900w","sizes":"(min-width: 900px) 900px, 100vw"},"sources":[{"srcSet":"/static/531f78a10b24ce41d4cd17ae99f41f8f/71a10/depbot-secrets-30daysreplay-social-media-marketing-ZEDvSzgS4FA-unsplash.webp 225w,\n/static/531f78a10b24ce41d4cd17ae99f41f8f/901f1/depbot-secrets-30daysreplay-social-media-marketing-ZEDvSzgS4FA-unsplash.webp 450w,\n/static/531f78a10b24ce41d4cd17ae99f41f8f/5acd1/depbot-secrets-30daysreplay-social-media-marketing-ZEDvSzgS4FA-unsplash.webp 900w","type":"image/webp","sizes":"(min-width: 900px) 900px, 100vw"}]},"width":900,"height":599}}}},"fields":{"slug":"/blog/dependabot-secrets/"}},"relatedP":{"edges":[{"node":{"id":"d472ffdd-c948-5d9f-b7cc-11a60dd52f15","frontmatter":{"title":"Build a CI/CD Pipeline for a Gatsby Site","featuredImage":{"childImageSharp":{"gatsbyImageData":{"layout":"fixed","backgroundColor":"#080808","images":{"fallback":{"src":"/static/5de4f1b49800352db508e757b4dbc62c/26528/ci-cd-pipeline-gatsby-ej-strat-VjWi56AWQ9k-unsplash.jpg","srcSet":"/static/5de4f1b49800352db508e757b4dbc62c/26528/ci-cd-pipeline-gatsby-ej-strat-VjWi56AWQ9k-unsplash.jpg 300w,\n/static/5de4f1b49800352db508e757b4dbc62c/43429/ci-cd-pipeline-gatsby-ej-strat-VjWi56AWQ9k-unsplash.jpg 600w","sizes":"300px"},"sources":[{"srcSet":"/static/5de4f1b49800352db508e757b4dbc62c/5d6c3/ci-cd-pipeline-gatsby-ej-strat-VjWi56AWQ9k-unsplash.webp 300w,\n/static/5de4f1b49800352db508e757b4dbc62c/68dbc/ci-cd-pipeline-gatsby-ej-strat-VjWi56AWQ9k-unsplash.webp 600w","type":"image/webp","sizes":"300px"}]},"width":300,"height":170}}}},"fields":{"slug":"/blog/ci-cd-pipeline-for-gatsby/"}}},{"node":{"id":"f782f0c1-28a3-59fe-932d-d741ee604f5b","frontmatter":{"title":"Debug Github Actions","featuredImage":{"childImageSharp":{"gatsbyImageData":{"layout":"fixed","backgroundColor":"#081808","images":{"fallback":{"src":"/static/bc9cf9fe62735cdf137667e63704ac8c/26528/computer-bug.jpg","srcSet":"/static/bc9cf9fe62735cdf137667e63704ac8c/26528/computer-bug.jpg 300w,\n/static/bc9cf9fe62735cdf137667e63704ac8c/43429/computer-bug.jpg 600w","sizes":"300px"},"sources":[{"srcSet":"/static/bc9cf9fe62735cdf137667e63704ac8c/5d6c3/computer-bug.webp 300w,\n/static/bc9cf9fe62735cdf137667e63704ac8c/68dbc/computer-bug.webp 600w","type":"image/webp","sizes":"300px"}]},"width":300,"height":170}}}},"fields":{"slug":"/blog/debug-github-action/"}}},{"node":{"id":"48fb7613-1077-57ba-8588-e26dc60bb6c3","frontmatter":{"title":"VS Code Shell Integration","featuredImage":{"childImageSharp":{"gatsbyImageData":{"layout":"fixed","backgroundColor":"#080808","images":{"fallback":{"src":"/static/e5c5d33f8580d2e684230c1766a564be/26528/vscode-shell-integration-michael-dziedzic-qDG7XKJLKbs-unsplash.jpg","srcSet":"/static/e5c5d33f8580d2e684230c1766a564be/26528/vscode-shell-integration-michael-dziedzic-qDG7XKJLKbs-unsplash.jpg 300w,\n/static/e5c5d33f8580d2e684230c1766a564be/43429/vscode-shell-integration-michael-dziedzic-qDG7XKJLKbs-unsplash.jpg 600w","sizes":"300px"},"sources":[{"srcSet":"/static/e5c5d33f8580d2e684230c1766a564be/5d6c3/vscode-shell-integration-michael-dziedzic-qDG7XKJLKbs-unsplash.webp 300w,\n/static/e5c5d33f8580d2e684230c1766a564be/68dbc/vscode-shell-integration-michael-dziedzic-qDG7XKJLKbs-unsplash.webp 600w","type":"image/webp","sizes":"300px"}]},"width":300,"height":170}}}},"fields":{"slug":"/blog/vscode-shell-integration/"}}}]}},"pageContext":{"slug":"/blog/dependabot-secrets/","relatedPosts":["Debug Github Actions","Build a CI/CD Pipeline for a Gatsby Site","VS Code Shell Integration"]}},"staticQueryHashes":["163244226"],"slicesMap":{}}