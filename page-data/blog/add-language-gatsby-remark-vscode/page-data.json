{"componentChunkName":"component---src-templates-post-js","path":"/blog/add-language-gatsby-remark-vscode/","result":{"data":{"markdownRemark":{"html":"<p class=\"markdown-para\">This blog is built with <a href=\"https://www.gatsbyjs.com/\" class=\"markdown-link\">Gatsby</a>, and being an engineering blog, naturally requires a syntax higlighter. I'm using <code>gatsby-remark-vscode</code> for this, which is a Gatsby plugin that adds syntax highlighting using VS Code's highlighting engine. It comes with <a href=\"https://www.gatsbyjs.com/plugins/gatsby-remark-vscode/#built-in-languages-and-themes\" class=\"markdown-link\">over 50</a> built-in languages.</p>\n<p class=\"markdown-para\">Up until recently, the built-in language support from this plugin was more than enough for my needs on this blog, such as <code>ruby</code>, <code>js</code>, <code>html</code>, and <code>yml</code>.</p>\n<p class=\"markdown-para\">But a recent post I wrote on <a href=\"../postman-alternative-vscode\" class=\"markdown-link\">A Postman Alternative</a> required adding a new language that wasn't in the list the plugin comes with. This was <code>http</code> to specify a file of http requests, for example:</p>\n<pre class=\"grvsc-container gatsby-highlight monokai\" data-language=\"http\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\"># Get all subscriptions</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">GET</span><span class=\"mtk1\"> {{host}}/api/v1/subscriptions</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">Accept:</span><span class=\"mtk1\"> </span><span class=\"mtk6\">application/vnd.api+json</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">Myapp-Tenant-Api-Key:</span><span class=\"mtk1\"> </span><span class=\"mtk6\">{{apikey}}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">###</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\"># Create a new subscription</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">POST</span><span class=\"mtk1\"> {{host}}/api/v1/subscriptions</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">Accept:</span><span class=\"mtk1\"> </span><span class=\"mtk6\">application/vnd.api+json</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">Content-Type:</span><span class=\"mtk1\"> </span><span class=\"mtk6\">application/vnd.api+json</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">Myapp-Tenant-Api-Key:</span><span class=\"mtk1\"> </span><span class=\"mtk6\">{{apikey}}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">{</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk9 mtki\">&quot;data&quot;</span><span class=\"mtk1\">: {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk9 mtki\">&quot;type&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk12\">&quot;subscriptions&quot;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk9 mtki\">&quot;attributes&quot;</span><span class=\"mtk1\">: {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk9 mtki\">&quot;status&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk12\">&quot;active&quot;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk9 mtki\">&quot;customer-id&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk12\">&quot;some-customer&quot;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk9 mtki\">&quot;plan-id&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk12\">&quot;some-plan&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<p class=\"markdown-para\">In theory the <code>gatsby-remark-vscode</code> plugin can be customized to add other themes and languages, however, the <a href=\"https://www.gatsbyjs.com/plugins/gatsby-remark-vscode/#using-languages-and-themes-from-an-extension\" class=\"markdown-link\">docs</a> only provide an example for how to add a new theme, not language.</p>\n<p class=\"markdown-para\">A little investigation found it could be solved as follows:</p>\n<p class=\"markdown-para\">First, find the project on Github that has the syntax definition file for the language you're looking to add. In my case, I was using the <code>.http</code> files as part of this VS Code <a href=\"https://marketplace.visualstudio.com/items?itemName=humao.rest-client\" class=\"markdown-link\">REST Client</a> extension, which also comes with the syntax highlighting. I found the corresponding project on Github at <a href=\"https://github.com/Huachao/vscode-restclient\" class=\"markdown-link\">Huachao/vscode-restclient</a>. This project has the syntax definition file for the <code>http</code> and <code>rest</code> file types at <a href=\"https://github.com/Huachao/vscode-restclient/blob/master/syntaxes/http.tmLanguage.json\" class=\"markdown-link\">http.tmLanguage.json</a>.</p>\n<p class=\"markdown-para\">Here's just a few lines from this file - notice the supported <code>fileTypes</code> http and rest:</p>\n<pre class=\"grvsc-container gatsby-highlight monokai\" data-language=\"json\" data-index=\"1\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">{</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk9 mtki\">&quot;scopeName&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk12\">&quot;source.http&quot;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk9 mtki\">&quot;fileTypes&quot;</span><span class=\"mtk1\">: [</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk12\">&quot;http&quot;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk12\">&quot;rest&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  ],</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk3\">// ...</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<p class=\"markdown-para\">Next, npm install this project from Github, into the Gatsby project:</p>\n<pre class=\"grvsc-container gatsby-highlight monokai\" data-language=\"bash\" data-index=\"2\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">npm install Huachao/vscode-restclient --save</span></span></span></code></pre>\n<p class=\"markdown-para\">Now, this is important, take a look at what this package got saved as in <code>package.json</code>, for example, this created an entry with key <code>rest-client</code> in the dependencies object:</p>\n<pre class=\"grvsc-container gatsby-highlight monokai\" data-language=\"json\" data-index=\"3\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// package.json</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk6\">&quot;dependencies&quot;</span><span class=\"mtk1\">: {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk3\">// ...</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk9 mtki\">&quot;rest-client&quot;</span><span class=\"mtk1\">: </span><span class=\"mtk12\">&quot;github:Huachao/vscode-restclient&quot;</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk3\">// ...</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">},</span></span></span></code></pre>\n<p class=\"markdown-para\">Configure the <code>gatsby-remark-vscode</code> extension in <code>gatsby-config.js</code> by adding the package key from <code>package.json</code> into the <code>extensions</code> list. I'm using this plugin for syntax highlighting in markdown files so it's nested under the <code>gatsby-transformer-remark</code> plugin:</p>\n<pre class=\"grvsc-container gatsby-highlight monokai\" data-language=\"js\" data-index=\"4\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">// gatsby-config.js</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk9 mtki\">module</span><span class=\"mtk1\">.</span><span class=\"mtk9 mtki\">exports</span><span class=\"mtk1\"> </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  plugins: [</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\">// other plugins...</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      resolve: </span><span class=\"mtk6\">`gatsby-transformer-remark`</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      options: {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        plugins: [</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">          {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">            resolve: </span><span class=\"mtk6\">`gatsby-remark-vscode`</span><span class=\"mtk1\">,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">            options: {</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">              theme: </span><span class=\"mtk6\">&quot;Monokai&quot;</span><span class=\"mtk1\">, </span><span class=\"mtk3\">// Or install your favorite theme from GitHub</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">              extensions: [</span><span class=\"mtk6\">&#39;rest-client&#39;</span><span class=\"mtk1\">],</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">            },</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">          },</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        ],</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      },</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    }</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  ]</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">}</span></span></span></code></pre>\n<p class=\"markdown-para\">And now, you can created fenced code blocks in markdown using any of the supported file types, as specified in the <code>http.tmLanguage.json</code> file from the github package.</p>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n  .monokai {\n    background-color: #272822;\n    color: #f8f8f2;\n  }\n  .monokai .mtki { font-style: italic; }\n  .monokai .mtk3 { color: #75715E; }\n  .monokai .mtk7 { color: #F92672; }\n  .monokai .mtk1 { color: #F8F8F2; }\n  .monokai .mtk6 { color: #E6DB74; }\n  .monokai .mtk9 { color: #66D9EF; }\n  .monokai .mtk12 { color: #CFCFC2; }\n  .monokai .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));\n  }\n</style>","timeToRead":2,"tableOfContents":"","frontmatter":{"title":"Add a Language to gatsby-remark-vscode","date":"14 Jun 2021","description":"Learn how to add a new language for syntax highlighting to gatsby-remark-vscode.","featuredImage":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#081818","images":{"fallback":{"src":"/static/16e4f57eb729e96adaf8861fa7f93c6f/fc2d4/add-language-pankaj-patel-fvMeP4ml4bU-unsplash.jpg","srcSet":"/static/16e4f57eb729e96adaf8861fa7f93c6f/b834a/add-language-pankaj-patel-fvMeP4ml4bU-unsplash.jpg 225w,\n/static/16e4f57eb729e96adaf8861fa7f93c6f/21c52/add-language-pankaj-patel-fvMeP4ml4bU-unsplash.jpg 450w,\n/static/16e4f57eb729e96adaf8861fa7f93c6f/fc2d4/add-language-pankaj-patel-fvMeP4ml4bU-unsplash.jpg 900w","sizes":"(min-width: 900px) 900px, 100vw"},"sources":[{"srcSet":"/static/16e4f57eb729e96adaf8861fa7f93c6f/71a10/add-language-pankaj-patel-fvMeP4ml4bU-unsplash.webp 225w,\n/static/16e4f57eb729e96adaf8861fa7f93c6f/901f1/add-language-pankaj-patel-fvMeP4ml4bU-unsplash.webp 450w,\n/static/16e4f57eb729e96adaf8861fa7f93c6f/4ffff/add-language-pankaj-patel-fvMeP4ml4bU-unsplash.webp 900w","type":"image/webp","sizes":"(min-width: 900px) 900px, 100vw"}]},"width":900,"height":600}}}},"fields":{"slug":"/blog/add-language-gatsby-remark-vscode/"}},"relatedP":{"edges":[{"node":{"id":"d472ffdd-c948-5d9f-b7cc-11a60dd52f15","frontmatter":{"title":"Build a CI/CD Pipeline for a Gatsby Site","featuredImage":{"childImageSharp":{"gatsbyImageData":{"layout":"fixed","backgroundColor":"#080808","images":{"fallback":{"src":"/static/5de4f1b49800352db508e757b4dbc62c/26528/ci-cd-pipeline-gatsby-ej-strat-VjWi56AWQ9k-unsplash.jpg","srcSet":"/static/5de4f1b49800352db508e757b4dbc62c/26528/ci-cd-pipeline-gatsby-ej-strat-VjWi56AWQ9k-unsplash.jpg 300w,\n/static/5de4f1b49800352db508e757b4dbc62c/43429/ci-cd-pipeline-gatsby-ej-strat-VjWi56AWQ9k-unsplash.jpg 600w","sizes":"300px"},"sources":[{"srcSet":"/static/5de4f1b49800352db508e757b4dbc62c/5d6c3/ci-cd-pipeline-gatsby-ej-strat-VjWi56AWQ9k-unsplash.webp 300w,\n/static/5de4f1b49800352db508e757b4dbc62c/68dbc/ci-cd-pipeline-gatsby-ej-strat-VjWi56AWQ9k-unsplash.webp 600w","type":"image/webp","sizes":"300px"}]},"width":300,"height":170}}}},"fields":{"slug":"/blog/ci-cd-pipeline-for-gatsby/"}}},{"node":{"id":"7397cada-13e5-52f5-95d5-24ed085f5816","frontmatter":{"title":"Get started with Gatsby and Unit Testing","featuredImage":{"childImageSharp":{"gatsbyImageData":{"layout":"fixed","backgroundColor":"#282818","images":{"fallback":{"src":"/static/ebcc5781393156bd5a5a12b3d788be64/26528/gatsby-unit-test-nina-mercado-5Y8NrzPya-w-unsplash.jpg","srcSet":"/static/ebcc5781393156bd5a5a12b3d788be64/26528/gatsby-unit-test-nina-mercado-5Y8NrzPya-w-unsplash.jpg 300w,\n/static/ebcc5781393156bd5a5a12b3d788be64/43429/gatsby-unit-test-nina-mercado-5Y8NrzPya-w-unsplash.jpg 600w","sizes":"300px"},"sources":[{"srcSet":"/static/ebcc5781393156bd5a5a12b3d788be64/5d6c3/gatsby-unit-test-nina-mercado-5Y8NrzPya-w-unsplash.webp 300w,\n/static/ebcc5781393156bd5a5a12b3d788be64/68dbc/gatsby-unit-test-nina-mercado-5Y8NrzPya-w-unsplash.webp 600w","type":"image/webp","sizes":"300px"}]},"width":300,"height":170}}}},"fields":{"slug":"/blog/gatsby-unit-testing/"}}},{"node":{"id":"13ae684d-2fff-5344-ac7f-4c6b530c1bd9","frontmatter":{"title":"Roll Your Own Search with Rails and Postgres: Search UI","featuredImage":{"childImageSharp":{"gatsbyImageData":{"layout":"fixed","backgroundColor":"#e8e8e8","images":{"fallback":{"src":"/static/ab59f82320d39536e6c9cfaf4394e2e6/26528/roll-search-5.jpg","srcSet":"/static/ab59f82320d39536e6c9cfaf4394e2e6/26528/roll-search-5.jpg 300w,\n/static/ab59f82320d39536e6c9cfaf4394e2e6/43429/roll-search-5.jpg 600w","sizes":"300px"},"sources":[{"srcSet":"/static/ab59f82320d39536e6c9cfaf4394e2e6/5d6c3/roll-search-5.webp 300w,\n/static/ab59f82320d39536e6c9cfaf4394e2e6/68dbc/roll-search-5.webp 600w","type":"image/webp","sizes":"300px"}]},"width":300,"height":170}}}},"fields":{"slug":"/blog/roll-your-own-search-service-for-gatsby-part5/"}}}]}},"pageContext":{"slug":"/blog/add-language-gatsby-remark-vscode/","relatedPosts":["Get started with Gatsby and Unit Testing","Build a CI/CD Pipeline for a Gatsby Site","Roll Your Own Search with Rails and Postgres: Search UI"]}},"staticQueryHashes":["163244226"]}