{"componentChunkName":"component---src-templates-post-js","path":"/blog/rails-cors-middleware-multiple/","result":{"data":{"markdownRemark":{"html":"<p class=\"markdown-para\">A short post for today on a usage of <a href=\"https://github.com/cyu/rack-cors\" class=\"markdown-link\">CORS Middleware</a> for Rails (well any Rack application) that wasn't obvious from the docs - how to specify multiple endpoints, or resources?</p>\n<p class=\"markdown-para\">If you want Javascript from a web page that is hosted on a different domain than your Rails app (or any app actually) to make HTTP API calls to the Rails app, it will require adding CORS support (Cross-Origin Resource Sharing) on the app server. Otherwise the request will fail due to the <a href=\"https://developer.mozilla.org/en-US/docs/Web/Security/Same-origin_policy\" class=\"markdown-link\">Same-origin policy</a>.</p>\n<p class=\"markdown-para\">In my case, I have a Rails server that provides some back end services for this blog (which is statically hosted on Github Pages). So the blog and Rails server live on different domains. One of the services is privacy focused analytics. Visits to blog pages are recorded via a <code>POST {{my-rails-server}}/visits</code> with some information about the page being visited and user agent (but no cookie is used for further tracking, hence the privacy focus).</p>\n<p class=\"markdown-para\">In order for the POST from the blog hosted on Github Pages to be allowed through to the Rails server, the Rails server needs to have CORS middleware configured as follows:</p>\n<pre class=\"grvsc-container gatsby-highlight monokai\" data-language=\"ruby\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\"># Gemfile</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">gem </span><span class=\"mtk6\">&#39;rack-cors&#39;</span></span></span></code></pre>\n<pre class=\"grvsc-container gatsby-highlight monokai\" data-language=\"ruby\" data-index=\"1\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\"># config/initializers/cors.rb</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk9 mtki\">Rails</span><span class=\"mtk1\">.</span><span class=\"mtk5\">application</span><span class=\"mtk1\">.</span><span class=\"mtk5\">config</span><span class=\"mtk1\">.</span><span class=\"mtk5\">middleware</span><span class=\"mtk1\">.</span><span class=\"mtk5\">insert_before</span><span class=\"mtk1\"> </span><span class=\"mtk4\">0</span><span class=\"mtk1\">, </span><span class=\"mtk9 mtki\">Rack</span><span class=\"mtk1\">::Cors </span><span class=\"mtk7\">do</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  allow </span><span class=\"mtk7\">do</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    origins </span><span class=\"mtk6\">&#39;https://danielabaron.me&#39;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    resource </span><span class=\"mtk6\">&#39;/visits&#39;</span><span class=\"mtk1\">, </span><span class=\"mtk4\">headers:</span><span class=\"mtk1\"> </span><span class=\"mtk4\">:any</span><span class=\"mtk1\">, </span><span class=\"mtk4\">methods:</span><span class=\"mtk1\"> </span><span class=\"mtk4\">%i[post]</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk7\">end</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">end</span></span></span></code></pre>\n<p class=\"markdown-para\">This allows the <code>POST</code> HTTP method on the <code>/visits</code> resource, only from the origin <code>https://danielabaron.me</code>.</p>\n<h2 class=\"markdown-subtitle\" id=\"multiple-resources\" style=\"position:relative;\"><a href=\"#multiple-resources\" aria-label=\"multiple resources permalink\" class=\"markdown-header-link before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Multiple Resources</h2>\n<p class=\"markdown-para\">This has been working well, but recently I added a second service to the Rails server which also needed to be accessible to the blog with CORS. This is a search service, backed by Postgres full-text search. The API is available via a <code>GET {{my-rails-server}}/search?q=whatever</code>.</p>\n<p class=\"markdown-para\">Looking at the <a href=\"https://github.com/cyu/rack-cors#configuration-reference\" class=\"markdown-link\">Configuration Reference</a> for the Rails/Rack CORS middleware gem, I couldn't determine how to add a second <code>resource</code> to the cors middleware configuration. It says:</p>\n<blockquote class=\"markdown-blockquote\">\n<p class=\"markdown-para\">A Resource path can be specified as exact string match (/path/to/file.txt) or with a * wildcard (/all/files/in/*)</p>\n</blockquote>\n<p class=\"markdown-para\">I already had an exact string match <code>/visits</code>, and only wanted to allow exactly one more <code>/search</code>. A wildcard wouldn't work for this.</p>\n<h2 class=\"markdown-subtitle\" id=\"solution\" style=\"position:relative;\"><a href=\"#solution\" aria-label=\"solution permalink\" class=\"markdown-header-link before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Solution</h2>\n<p class=\"markdown-para\">Turns out, this middleware supports multiple blocks. To allow CORS for two different, exactly specified resources, the following works:</p>\n<pre class=\"grvsc-container gatsby-highlight monokai\" data-language=\"ruby\" data-index=\"2\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\"># config/initializers/cors.rb</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk9 mtki\">Rails</span><span class=\"mtk1\">.</span><span class=\"mtk5\">application</span><span class=\"mtk1\">.</span><span class=\"mtk5\">config</span><span class=\"mtk1\">.</span><span class=\"mtk5\">middleware</span><span class=\"mtk1\">.</span><span class=\"mtk5\">insert_before</span><span class=\"mtk1\"> </span><span class=\"mtk4\">0</span><span class=\"mtk1\">, </span><span class=\"mtk9 mtki\">Rack</span><span class=\"mtk1\">::Cors </span><span class=\"mtk7\">do</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  allow </span><span class=\"mtk7\">do</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    origins </span><span class=\"mtk6\">&#39;https://danielabaron.me&#39;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    resource </span><span class=\"mtk6\">&#39;/visits&#39;</span><span class=\"mtk1\">, </span><span class=\"mtk4\">headers:</span><span class=\"mtk1\"> </span><span class=\"mtk4\">:any</span><span class=\"mtk1\">, </span><span class=\"mtk4\">methods:</span><span class=\"mtk1\"> </span><span class=\"mtk4\">%i[post]</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk7\">end</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  allow </span><span class=\"mtk7\">do</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    origins </span><span class=\"mtk6\">&#39;https://danielabaron.me&#39;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    resource </span><span class=\"mtk6\">&#39;/search&#39;</span><span class=\"mtk1\">, </span><span class=\"mtk4\">headers:</span><span class=\"mtk1\"> </span><span class=\"mtk4\">:any</span><span class=\"mtk1\">, </span><span class=\"mtk4\">methods:</span><span class=\"mtk1\"> </span><span class=\"mtk4\">%i[get]</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk7\">end</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">end</span></span></span></code></pre>\n<h2 class=\"markdown-subtitle\" id=\"local-development\" style=\"position:relative;\"><a href=\"#local-development\" aria-label=\"local development permalink\" class=\"markdown-header-link before\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Local Development</h2>\n<p class=\"markdown-para\">One final tweak to support local development. When developing on this blog (or whatever web app you're working on), it will be running on localhost, for example <code>http://localhost:8000</code>, and the Rails server also runs locally at <code>http://localhost:3000</code>. In this case, the Rails server should accept CORS requests from <code>http://localhost:8000</code>. To get this flexibility, use an environment variable <code>ALLOWED_ORIGIN</code> as follows:</p>\n<pre class=\"grvsc-container gatsby-highlight monokai\" data-language=\"ruby\" data-index=\"3\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\"># config/initializers/cors.rb</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk9 mtki\">Rails</span><span class=\"mtk1\">.</span><span class=\"mtk5\">application</span><span class=\"mtk1\">.</span><span class=\"mtk5\">config</span><span class=\"mtk1\">.</span><span class=\"mtk5\">middleware</span><span class=\"mtk1\">.</span><span class=\"mtk5\">insert_before</span><span class=\"mtk1\"> </span><span class=\"mtk4\">0</span><span class=\"mtk1\">, </span><span class=\"mtk9 mtki\">Rack</span><span class=\"mtk1\">::Cors </span><span class=\"mtk7\">do</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  allow </span><span class=\"mtk7\">do</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    origins ENV[</span><span class=\"mtk6\">&#39;ALLOWED_ORIGIN&#39;</span><span class=\"mtk1\">] </span><span class=\"mtk7\">||</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&#39;http://localhost:8000&#39;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    resource </span><span class=\"mtk6\">&#39;/visits&#39;</span><span class=\"mtk1\">, </span><span class=\"mtk4\">headers:</span><span class=\"mtk1\"> </span><span class=\"mtk4\">:any</span><span class=\"mtk1\">, </span><span class=\"mtk4\">methods:</span><span class=\"mtk1\"> </span><span class=\"mtk4\">%i[post]</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk7\">end</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  allow </span><span class=\"mtk7\">do</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    origins ENV[</span><span class=\"mtk6\">&#39;ALLOWED_ORIGIN&#39;</span><span class=\"mtk1\">] </span><span class=\"mtk7\">||</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&#39;http://localhost:8000&#39;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    resource </span><span class=\"mtk6\">&#39;/search&#39;</span><span class=\"mtk1\">, </span><span class=\"mtk4\">headers:</span><span class=\"mtk1\"> </span><span class=\"mtk4\">:any</span><span class=\"mtk1\">, </span><span class=\"mtk4\">methods:</span><span class=\"mtk1\"> </span><span class=\"mtk4\">%i[get]</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk7\">end</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">end</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk9 mtki\">Rails</span><span class=\"mtk1\">.</span><span class=\"mtk5\">logger</span><span class=\"mtk1\">.</span><span class=\"mtk5\">info</span><span class=\"mtk1\">(</span><span class=\"mtk6\">&quot;Cors Configured to allow origin: </span><span class=\"mtk7\">#{</span><span class=\"mtk1\">ENV[</span><span class=\"mtk6\">&#39;ALLOWED_ORIGIN&#39;</span><span class=\"mtk1\">] </span><span class=\"mtk7\">||</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&#39;http://localhost:8000&#39;</span><span class=\"mtk7\">}</span><span class=\"mtk6\">&quot;</span><span class=\"mtk1\">)</span></span></span></code></pre>\n<p class=\"markdown-para\">When the Rails server runs locally, don't specify any environment variable and it defaults to allowing <code>localhost</code> requests. For production (or any other environment), run the server with the <code>ALLOWED_ORIGIN</code> environment variable set to the origin that requires access.</p>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n  .monokai {\n    background-color: #272822;\n    color: #f8f8f2;\n  }\n  .monokai .mtki { font-style: italic; }\n  .monokai .mtk3 { color: #75715E; }\n  .monokai .mtk1 { color: #F8F8F2; }\n  .monokai .mtk6 { color: #E6DB74; }\n  .monokai .mtk9 { color: #66D9EF; }\n  .monokai .mtk5 { color: #A6E22E; }\n  .monokai .mtk4 { color: #AE81FF; }\n  .monokai .mtk7 { color: #F92672; }\n  .monokai .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));\n  }\n</style>","timeToRead":2,"tableOfContents":"<ul>\n<li><a href=\"#multiple-resources\">Multiple Resources</a></li>\n<li><a href=\"#solution\">Solution</a></li>\n<li><a href=\"#local-development\">Local Development</a></li>\n</ul>","frontmatter":{"title":"Rails CORS Middleware For Multiple Resources","date":"04 Jun 2021","description":"Add multiple blocks to Rails CORS middleware to support multiple endpoints.","featuredImage":{"childImageSharp":{"gatsbyImageData":{"layout":"constrained","backgroundColor":"#080808","images":{"fallback":{"src":"/static/5c6bfd7e0c120605610036c50102bba1/3801d/rails-middleware-erik-witsoe-bluVshKGwKQ-unsplash.jpg","srcSet":"/static/5c6bfd7e0c120605610036c50102bba1/ecf3c/rails-middleware-erik-witsoe-bluVshKGwKQ-unsplash.jpg 225w,\n/static/5c6bfd7e0c120605610036c50102bba1/784ab/rails-middleware-erik-witsoe-bluVshKGwKQ-unsplash.jpg 450w,\n/static/5c6bfd7e0c120605610036c50102bba1/3801d/rails-middleware-erik-witsoe-bluVshKGwKQ-unsplash.jpg 900w","sizes":"(min-width: 900px) 900px, 100vw"},"sources":[{"srcSet":"/static/5c6bfd7e0c120605610036c50102bba1/9c09e/rails-middleware-erik-witsoe-bluVshKGwKQ-unsplash.webp 225w,\n/static/5c6bfd7e0c120605610036c50102bba1/aeef2/rails-middleware-erik-witsoe-bluVshKGwKQ-unsplash.webp 450w,\n/static/5c6bfd7e0c120605610036c50102bba1/d9df7/rails-middleware-erik-witsoe-bluVshKGwKQ-unsplash.webp 900w","type":"image/webp","sizes":"(min-width: 900px) 900px, 100vw"}]},"width":900,"height":602}}}},"fields":{"slug":"/blog/rails-cors-middleware-multiple/"}},"relatedP":{"edges":[{"node":{"id":"fdd463ab-a6d0-5ce4-830a-a1f60933f80c","frontmatter":{"title":"Construct a PATCH request for a JSON API","featuredImage":{"childImageSharp":{"gatsbyImageData":{"layout":"fixed","backgroundColor":"#e898e8","images":{"fallback":{"src":"/static/0949177f0799b4539c1530d74078b3d6/26528/change-leaves.jpg","srcSet":"/static/0949177f0799b4539c1530d74078b3d6/26528/change-leaves.jpg 300w,\n/static/0949177f0799b4539c1530d74078b3d6/43429/change-leaves.jpg 600w","sizes":"300px"},"sources":[{"srcSet":"/static/0949177f0799b4539c1530d74078b3d6/5d6c3/change-leaves.webp 300w,\n/static/0949177f0799b4539c1530d74078b3d6/68dbc/change-leaves.webp 600w","type":"image/webp","sizes":"300px"}]},"width":300,"height":170}}}},"fields":{"slug":"/blog/patch-request-with-json-api/"}}},{"node":{"id":"46775b70-43f2-584d-8c65-327ac46ebbd7","frontmatter":{"title":"Dockerize a Rails Application for Development","featuredImage":{"childImageSharp":{"gatsbyImageData":{"layout":"fixed","backgroundColor":"#d8c8d8","images":{"fallback":{"src":"/static/3281f20a27a3ba24dcc1ca78c639c25d/26528/docker-rails-shipping-containers.jpg","srcSet":"/static/3281f20a27a3ba24dcc1ca78c639c25d/26528/docker-rails-shipping-containers.jpg 300w,\n/static/3281f20a27a3ba24dcc1ca78c639c25d/43429/docker-rails-shipping-containers.jpg 600w","sizes":"300px"},"sources":[{"srcSet":"/static/3281f20a27a3ba24dcc1ca78c639c25d/5d6c3/docker-rails-shipping-containers.webp 300w,\n/static/3281f20a27a3ba24dcc1ca78c639c25d/68dbc/docker-rails-shipping-containers.webp 600w","type":"image/webp","sizes":"300px"}]},"width":300,"height":170}}}},"fields":{"slug":"/blog/dockerize-rails-app-for-dev-debug-and-testing/"}}},{"node":{"id":"848d2c81-d508-5776-ac83-fb1e50ef5848","frontmatter":{"title":"Fix Rails Blocked Host Error with Docker","featuredImage":{"childImageSharp":{"gatsbyImageData":{"layout":"fixed","backgroundColor":"#080808","images":{"fallback":{"src":"/static/648daf1a5b7bca42ff3729828586b2dc/26528/blocked-host-fix-markus-spiske-KTuHfak_EEk-unsplash.jpg","srcSet":"/static/648daf1a5b7bca42ff3729828586b2dc/26528/blocked-host-fix-markus-spiske-KTuHfak_EEk-unsplash.jpg 300w,\n/static/648daf1a5b7bca42ff3729828586b2dc/43429/blocked-host-fix-markus-spiske-KTuHfak_EEk-unsplash.jpg 600w","sizes":"300px"},"sources":[{"srcSet":"/static/648daf1a5b7bca42ff3729828586b2dc/5d6c3/blocked-host-fix-markus-spiske-KTuHfak_EEk-unsplash.webp 300w,\n/static/648daf1a5b7bca42ff3729828586b2dc/68dbc/blocked-host-fix-markus-spiske-KTuHfak_EEk-unsplash.webp 600w","type":"image/webp","sizes":"300px"}]},"width":300,"height":170}}}},"fields":{"slug":"/blog/rails-blocked-host-docker-fix/"}}}]}},"pageContext":{"slug":"/blog/rails-cors-middleware-multiple/","relatedPosts":["Construct a PATCH request for a JSON API","Fix Rails Blocked Host Error with Docker","Dockerize a Rails Application for Development"]}},"staticQueryHashes":["163244226"],"slicesMap":{}}