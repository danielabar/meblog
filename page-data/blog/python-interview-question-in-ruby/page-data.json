{"componentChunkName":"component---src-templates-post-js","path":"/blog/python-interview-question-in-ruby/","result":{"data":{"markdownRemark":{"html":"<p>A few months ago, I came across a tweet posing a technical interview question for a data science position using Python:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 800px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/aa3189a9b02cbb2f3bc0aba0a844810a/0d1a4/tweet-interview-question.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 54.24710424710425%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAABb0lEQVQoz41Sy3LCMAw0oYSQkHfIg0cChAxceoBLp/T/v2vrVUeBthcOmrVkWVqtbKqyxHq9RlEU2G636Lpu9Imr1QpN06CqKvGJ9Ev7rq5ryWdsMpnAGAOTpDnKqkaWZZLIokymz2LaiDEtvNlsxga73U7upBjNfzOIAxdhFGOx8LBcLqUQLYoiTKfTR/Ir1qUG70ODj88vnE49brcb7ve74PV6xeFwELZ5ngtbRbJyXVeKjOMqw2DuoKoby6qwLBfwPA++78uZLNM0Hc9hGArGcQzHcf4zjBOrVVnBtw+SJBEGTCbqQ8ZZVIszxjPjZEocWWY2obXCUjOKryJTeG6RMRqXoFslqk9JKMHIkOOxA5fBcWjKiiyUpY6r94pBEIjGvP8Z2QbbtpUu7EhmZMkYbb/fCwueGe/73i7vJF+GRvbDMDy+DsVml2eczWZyJutfG3zFqAU7ksnlcsH5fMbxeBQkGx2FhZ9NC/z1vwGIZAVWLK0vEAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"tweet interview question\"\n        title=\"tweet interview question\"\n        src=\"/static/aa3189a9b02cbb2f3bc0aba0a844810a/5a190/tweet-interview-question.png\"\n        srcset=\"/static/aa3189a9b02cbb2f3bc0aba0a844810a/772e8/tweet-interview-question.png 200w,\n/static/aa3189a9b02cbb2f3bc0aba0a844810a/e17e5/tweet-interview-question.png 400w,\n/static/aa3189a9b02cbb2f3bc0aba0a844810a/5a190/tweet-interview-question.png 800w,\n/static/aa3189a9b02cbb2f3bc0aba0a844810a/0d1a4/tweet-interview-question.png 1036w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>Let's set aside for a moment whether this style of interviewing is useful in identifying good software developers. Plenty has been written about the problems with technical interviews so I don't want to get too much into that. Suffice to say when I'm faced with this type of question in a technical interview, this is my reaction:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 586px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/1b280c7d6cd37b0adf58b639b8aec267/a76f4/deer-caught-in-headlights.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 98.97610921501708%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAAE60lEQVQ4yy2T+VNTVxiG+UNaFQi5Sy6BkBASQghrIKhVVBbZZK1KiSyiICBaBhGLqEBdkSrQAkLBal1qi8vo6OBMrY6jY1vbsePY6Y/9E55+N/SHb+69557znPe833uiFMWLovhR1AxUJR1Vk6fqlUpDiXMRZ7FhjUuU8aDM82C1GFKJ8s+LpgbRlCR0IyTzM7EqKUQpSoBIyQJVoFYlTSamy0QBWt3/A+PR9ALMza1xBrq5odUjAjLQZDObLRPdUY5VxiJA1ZomP/2iIkd+ZskiH7ooVVS/qLGjWHT0+PV8/FESXa2HKMgrJ3qNKNNy0awOdBNo3yaiAkSZUtUI1IemZTPUN0tuViVr1qaKqhwZd8kiO+ssbmrL2vj9+Xsy00OsW6sJKEdO4pZKxWZsRrPlrwJNDzXZLSY2l6HuCzyZf8mmUBiLslFUBomJVsn2BlmeX+HVg79wJXiIjdFkjSkmGSNhPUZipZxiiwnMk8EskZ+HxZpPyF/Iw/Flbnz9mC15DSQ5NpHhCjDUcYxfX/7LmeE5LOt0Ue6MeKxaxUMjgN1dSbyrgShN3SBNWO2Spmdjk+ppHOTF47+5PHiG7uJ6DhbXsrJwl0tfLWAY4qvYoCsugaWI3wlyVJ/ANqPqaWZTxCezxENdDYjSUKRawseYnLnOQEOYE529TM/cJNeXQ3R0ingnDbMmRDodASpOURmSMaccWTEjIh5aU2WCF0MXL6UhVXUdtE9/y5G2gwwPn6dt4gqlm0qJtXgldybQHlGkSJfjYvTIeHSsxwQWCMiEmpW5qlJNjWRs8uwiT5YecWfqFq8fvmG0exibli7AIJZYg9i4NCyWBBJVBz5HOpvTpMvWSNpNULY8s8RLP4Zkcc1aDx3hQabG5ult7uPdynvunJ6nPL9IuuvHLuoyHJmU+LL5LBiid1sRp2pqxUNV8mfCpMuqbgID8p0hPmYSHx9iqOcsNydv8m75OfdPTzPW3ENbUTW9xVWMNzYzWFFN28ZCuraWcqyqThTK/VPkiOZ108U/m7Ehkq34eDNGAdpr23kxe49Xs7e42j/K3OERzrZ0Mb47zGh9IwMV9XQUbqdzawlDdbvFQ11iYEZA7qdNz8SwF0s0CohPEJ/Ex8rCet4s3eOXqevcHZnixvFxestqudjYyrldrVxoaud4zU5GJA0Xmtokh7bgqkIjS3LowybKbIZ5p/1ifg4pzhxuj13ij+8e8XTiKhP7+2n/ZBtLB/pYlLp95DgL3YdZHjzJ/S9OCVAPRHJlT5SAi9E2W0BUBjG0ZBITc8XXDDl2N2+vrfDn9aeM7G6lr3QHNw4Ncjncyo9HT/Ds/DRvpuZ4PTlnxsYpoBSB5EjlY08oIMlZgju5Fl/qXtL9h8jKOEpf+Bw/f/MTE3sPMLC9mqXufq7s7+XB0BhvZ6/yz7XbfFj8nqhEx3Yczhocrk9xuhtJTmnCnRLG620R4H4C/h6BduHx7qO1vJeZrn7GGvZwaU8nl5u7+GHgJL/NLPFhYZ5nX44S5XJV4XJV43RWSG0nObkCj7taqlxUVpDq2YXfFxZoMwFvA50VzcyJdxNNLZyWpph1saWNJ6OnmGpuIsqZtBGXc6tAiwUmJe8eVwleefe6i/F5Kknz1RFI34k/rYZ0TylFOWV0FNew+PkQXUVldG8pES8H2Ve2g/8AhssUA9sGB0YAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"deer caught in headlights\"\n        title=\"deer caught in headlights\"\n        src=\"/static/1b280c7d6cd37b0adf58b639b8aec267/a76f4/deer-caught-in-headlights.png\"\n        srcset=\"/static/1b280c7d6cd37b0adf58b639b8aec267/772e8/deer-caught-in-headlights.png 200w,\n/static/1b280c7d6cd37b0adf58b639b8aec267/e17e5/deer-caught-in-headlights.png 400w,\n/static/1b280c7d6cd37b0adf58b639b8aec267/a76f4/deer-caught-in-headlights.png 586w\"\n        sizes=\"(max-width: 586px) 100vw, 586px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>Why? Because being asked to solve something like this on the spot with someone timing you and waiting for a result is unnatural. In nearly 20 years of working as a software developer, its never been the case that as part of a conversation with a manager, product owner, colleagues etc. that anyone expected a piece of code to be written immediately on the spot during that conversation while they watched me code. Typically, the actual coding work is done when developer goes back to their desk (or comfort of their home office), does a little research if needed on various language APIs, tries out a few things in a REPL, then gradually comes up with a solution, and hopefully some tests. Even better if there's also some documentation produced and later, a demo to the team on how the new feature works.</p>\n<p>But regardless of my thoughts on technical interviews, found myself curious about solving this, although not in Python. It's been quite a few years since I worked in that language and have since pivoted to Ruby/Rails. So thought it would be interesting to break down this problem in Ruby and solve it TDD style with RSpec.</p>\n<h2>Caveats</h2>\n<p>Ruby is <a href=\"https://www.quora.com/Is-Ruby-a-good-language-for-data-science?share=1\">not the go-to language for data science</a>, and my experience is primarily with web development, not data science, so this is just an exercise to get some practice with Ruby.</p>\n<h2>Analysis</h2>\n<p>At first glance the problem seems relatively straightforward, given an input string such as <code>'aaaabbbcca'</code>, return a data structure containing a key for each letter, and the value being the count of how many times the letter appears in the string. But looking more closely, that's not what's being asked. Notice the last letter <code>a</code> in the input string appears separate from the first 4 <code>a</code>s in the beginning of the string. Then the expected output has two entries for the letter <code>a</code>. The first entry has a count of 4, and the last entry has a count of 1. So the question is actually asking to identify counts of repeating sequences of letters. This problem is known as <a href=\"https://en.wikipedia.org/wiki/Run-length_encoding\">Run-length encoding</a>.</p>\n<p>What this means is that as each letter in the string is being processed, we need to \"remember\" what the previous letter we just processed was. This is because the decision whether to increment a given letter counter or start a new counter will depend on whether the previous letter was the same as the current one (in which case, increment counter) or different than the current one (in which case, start a new counter).</p>\n<p>A general technique for this is before entering the loop, grab the first letter of the input string and store it in a variable. Then loop over the remaining letters in the string. At each iteration in the loop, compare current letter to previous, process it accordingly, then update the \"previous letter\" to the current letter in the loop. This way when the next loop iteration runs, it will have access to the letter that was processed in the previous iteration.</p>\n<p>To solve these types of problems, I find it useful to write down the solution in plain English. This allows for a focus on logic, without worrying about language-specific syntax or even data structures. Something like this:</p>\n<pre class=\"grvsc-container gatsby-highlight monokai\" data-language=\"\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\">Start by assigning &quot;previous letter&quot; to the first letter in the input</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">Record the first entry as this letter, with a count of 1</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">Add this entry to list of results which will eventually be returned</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">For each letter in input string starting from second letter</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">  If the current letter is the same as the previous letter</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">    Increment the counter for this letter in the entry created earlier</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">  Else</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">    Create a new entry for this letter with a count of 1</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">    Add this entry to results</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">  End If</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">  Update the &quot;previous letter&quot; to the current letter for next loop iteration</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">End Loop</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">Return results</span></span></code></pre>\n<h2>Tuples</h2>\n<p>Now that the logic is sorted out, it's time to write some Ruby code. But before we do, let's take a closer look at the expected output, keeping in mind the original question is in Python:</p>\n<pre class=\"grvsc-container gatsby-highlight monokai\" data-language=\"python\" data-index=\"1\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\"># Example input:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk6\">&quot;aaaabbbcca&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\"># Expected output:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">[(</span><span class=\"mtk6\">&quot;a&quot;</span><span class=\"mtk1\">, </span><span class=\"mtk4\">4</span><span class=\"mtk1\">), (</span><span class=\"mtk6\">&quot;b&quot;</span><span class=\"mtk1\">, </span><span class=\"mtk4\">3</span><span class=\"mtk1\">), (</span><span class=\"mtk6\">&quot;c&quot;</span><span class=\"mtk1\">, </span><span class=\"mtk4\">2</span><span class=\"mtk1\">), (</span><span class=\"mtk6\">&quot;a&quot;</span><span class=\"mtk1\">, </span><span class=\"mtk4\">1</span><span class=\"mtk1\">)]</span></span></span></code></pre>\n<p>This is an array of tuples, which don't exist natively in Ruby but can be approximated with a <code>Struct</code> as follows:</p>\n<pre class=\"grvsc-container gatsby-highlight monokai\" data-language=\"ruby\" data-index=\"2\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">Tuple </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> </span><span class=\"mtk9 mtki\">Struct</span><span class=\"mtk1\">.</span><span class=\"mtk7\">new</span><span class=\"mtk1\">(</span><span class=\"mtk4\">:_1</span><span class=\"mtk1\">, </span><span class=\"mtk4\">:_2</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">a_count </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> </span><span class=\"mtk9 mtki\">Tuple</span><span class=\"mtk1\">.</span><span class=\"mtk7\">new</span><span class=\"mtk1\">(</span><span class=\"mtk6\">&quot;a&quot;</span><span class=\"mtk1\">, </span><span class=\"mtk4\">4</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">a_count._1</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">=&gt; </span><span class=\"mtk6\">&quot;a&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">a_count._2</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">=&gt; </span><span class=\"mtk4\">4</span></span></span></code></pre>\n<p>See this <a href=\"https://stackoverflow.com/questions/525957/using-tuples-in-ruby\">SO answer</a> for more details.</p>\n<h2>Setup for TDD</h2>\n<p>Next step is to get a TDD workflow going with RSpec. If you want to know more about TDD, I've <a href=\"/blog/tdd-by-example/\">written about it here</a>. Up until this point, my experience with RSpec has been using it with Rails, but turns out, it can also be used for a plain \"vanilla\" Ruby project as follows:</p>\n<pre class=\"grvsc-container gatsby-highlight monokai\" data-language=\"bash\" data-index=\"3\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">mkdir RLE  </span><span class=\"mtk3\"># this will be project name, name this whatever you want</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk9\">cd</span><span class=\"mtk1\"> RLE</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">touch Gemfile</span></span></span></code></pre>\n<p>Edit the <code>Gemfile</code> so it looks as follows:</p>\n<pre class=\"grvsc-container gatsby-highlight monokai\" data-language=\"ruby\" data-index=\"4\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\"># Gemfile</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">rubocopsource </span><span class=\"mtk6\">&#39;https://rubygems.org/&#39;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">gem </span><span class=\"mtk6\">&#39;rspec&#39;</span></span></span></code></pre>\n<p>Then back in the terminal:</p>\n<pre class=\"grvsc-container gatsby-highlight monokai\" data-language=\"bash\" data-index=\"5\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">gem install bundler  </span><span class=\"mtk3\"># only if you don&#39;t already have it</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">bundle install</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">bundle </span><span class=\"mtk9\">exec</span><span class=\"mtk1\"> rspec --init</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">touch data_science.rb  </span><span class=\"mtk3\"># this will be the module where we will write the code, name it whatever you want</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">touch spec/data_science_spec.rb  </span><span class=\"mtk3\"># the corresponding test file</span></span></span></code></pre>\n<p>At this point, the project directory should look as follows: (the <code>spec_helper.rb</code> file was generated by the <code>rspec --init</code> command run in previous step):</p>\n<pre class=\"grvsc-container gatsby-highlight monokai\" data-language=\"\" data-index=\"6\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\">.</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">├── Gemfile</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">├── Gemfile.lock</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">├── data_science.rb</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">└── spec</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">    ├── data_science_spec.rb</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">    └── spec_helper.rb</span></span></code></pre>\n<p>Now open the project in your editor of choice and open the test file <code>data_science_spec.rb</code>.</p>\n<p>I'm planning to write the method that implements the interview question logic in a method named <code>rle</code>, which will be defined in a module named <code>DataScience</code>. This module and method will live in the <code>data_science.rb</code> file. They haven't been written yet so of course any tests written for this module/method will fail but that's ok, this is the start of the TDD process. I'm also expecting the <code>Tuple</code> struct to be defined in the <code>DataScience</code> module.</p>\n<pre class=\"grvsc-container gatsby-highlight monokai\" data-language=\"ruby\" data-index=\"7\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\"># spec/data_science_spec.rb</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">require</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&#39;./data_science&#39;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">describe DataScience </span><span class=\"mtk7\">do</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  describe </span><span class=\"mtk6\">&#39;Run Length Encoding&#39;</span><span class=\"mtk1\"> </span><span class=\"mtk7\">do</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    it </span><span class=\"mtk6\">&#39;Counts consecutive occurrences of letters in a string&#39;</span><span class=\"mtk1\"> </span><span class=\"mtk7\">do</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      result </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> </span><span class=\"mtk9 mtki\">DataScience</span><span class=\"mtk1\">.rle(</span><span class=\"mtk6\">&#39;aaaabbbcca&#39;</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      a4 </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> </span><span class=\"mtk9 mtki\">Tuple</span><span class=\"mtk1\">.</span><span class=\"mtk7\">new</span><span class=\"mtk1\">(</span><span class=\"mtk6\">&#39;a&#39;</span><span class=\"mtk1\">, </span><span class=\"mtk4\">4</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      b3 </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> </span><span class=\"mtk9 mtki\">Tuple</span><span class=\"mtk1\">.</span><span class=\"mtk7\">new</span><span class=\"mtk1\">(</span><span class=\"mtk6\">&#39;b&#39;</span><span class=\"mtk1\">, </span><span class=\"mtk4\">3</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      c2 </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> </span><span class=\"mtk9 mtki\">Tuple</span><span class=\"mtk1\">.</span><span class=\"mtk7\">new</span><span class=\"mtk1\">(</span><span class=\"mtk6\">&#39;c&#39;</span><span class=\"mtk1\">, </span><span class=\"mtk4\">2</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      a1 </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> </span><span class=\"mtk9 mtki\">Tuple</span><span class=\"mtk1\">.</span><span class=\"mtk7\">new</span><span class=\"mtk1\">(</span><span class=\"mtk6\">&#39;a&#39;</span><span class=\"mtk1\">, </span><span class=\"mtk4\">1</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      expect(result).to eq([a4, b3, c2, a1])</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk7\">end</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk7\">end</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">end</span></span></span></code></pre>\n<p>To run the tests, open a terminal and enter:</p>\n<pre class=\"grvsc-container gatsby-highlight monokai\" data-language=\"bash\" data-index=\"8\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">bundle </span><span class=\"mtk9\">exec</span><span class=\"mtk1\"> rspec</span></span></span></code></pre>\n<p>The test should fail because the module hasn't been defined:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 582px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/9b9f2a4c1cde8a123dfa7293a3b69639/7c1cd/interview-q-tdd-module-undefined.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 76.97594501718214%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsSAAALEgHS3X78AAACQUlEQVQ4y3WUua7UQBRE5xsggBnvS7vdXsfL2MzCIiECQiRC+AQkIhIC9EQCX13U7WcP89AjOKq+3Xa5brvtjTd/hPv+O7x3X7F9+w3Fhy/48dPD3d0T/Pr9FJ8+OyiqA+q2pdaomj1MUWHreHC8wOL6IbwgsrpJTQu9n5E1I7J2QjkcMZ1a9IcC41QSGpUNumFE2w007qyasrYPyPLiaia6qVOFS25wznNcjEHHsdEVtCqgVIk0rxArjZypNG/OFqQW0iy3Rt5qKIOOgzmMrQ6kDUL0VMM15QdIqAFbe+b62FK3boAdx5al5ZWNwxsDUtNwjhIMZCKv4xRH6ilOrL5kLWsNr2ujGAVVk5JUJA8j+Dbh0n8oibgQUzUplovUUstNYqaXAN6Cv7DW1tChYUYVOklAeqZIxYymO66vODftPcbVcE0l7Y7RfftiJsnWN3jLY3M2obs8NV0SSrKeJsOS0NwYuqvZOpZUN/PWcN0DmdyR7Q1r7Txi9l9DwyNyJCNff+b5SHgURDPWimjZXxLx+Lic9wRXNLiaejftb4LMIG8HFMMLGGq5H6HrAarcQxUNcqrWJULisHZZO1UP1zQPjK6fnqka1OOE/vwKuu3RzkcEeYnnUYptpEiKHfdxFyZwWDsxSTI4rF1J+c/3vPF4cchD61NlL+NEPSBKUkRcj9PMXidzIU9AIrXAOlHZ34SFKXA+TJi7HhW/zTenC45MPOx7y4E/g65uuT6gF+1HdOxqHg52ra8b+7MI+BAx/AMmKa5S1N1leQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"interview question tdd module undefined\"\n        title=\"interview question tdd module undefined\"\n        src=\"/static/9b9f2a4c1cde8a123dfa7293a3b69639/7c1cd/interview-q-tdd-module-undefined.png\"\n        srcset=\"/static/9b9f2a4c1cde8a123dfa7293a3b69639/772e8/interview-q-tdd-module-undefined.png 200w,\n/static/9b9f2a4c1cde8a123dfa7293a3b69639/e17e5/interview-q-tdd-module-undefined.png 400w,\n/static/9b9f2a4c1cde8a123dfa7293a3b69639/7c1cd/interview-q-tdd-module-undefined.png 582w\"\n        sizes=\"(max-width: 582px) 100vw, 582px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>Let's fix that by defining the module, method and Tuple struct in <code>data_science.rb</code>:</p>\n<pre class=\"grvsc-container gatsby-highlight monokai\" data-language=\"ruby\" data-index=\"9\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\"># data_science.rb</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\"># Unlike Python, Ruby doesn&#39;t have native tuples.</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">Tuple </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> </span><span class=\"mtk9 mtki\">Struct</span><span class=\"mtk1\">.</span><span class=\"mtk7\">new</span><span class=\"mtk1\">(</span><span class=\"mtk4\">:_1</span><span class=\"mtk1\">, </span><span class=\"mtk4\">:_2</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">module</span><span class=\"mtk1\"> </span><span class=\"mtk5 mtku\">DataScience</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk3\"># RLE (run-length encoding): Encode each character by the number of times it appears consecutively.</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk7\">def</span><span class=\"mtk1\"> </span><span class=\"mtk5\">self.rle</span><span class=\"mtk1\">(</span><span class=\"mtk10 mtki\">input</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\"># TBD...</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk7\">end</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">end</span></span></span></code></pre>\n<p>Run the test again with <code>bundle exec rspec</code>. This time it fails comparing an array of tuples (expected value from test) to <code>nil</code> which is what is currently being returned because the <code>rle</code> method has not yet been implemented:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 800px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/37024f1557112d0e40d33761156b59a2/ae953/interview-q-tdd-method-nil.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 34.89399293286219%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsSAAALEgHS3X78AAABE0lEQVQoz22RW2rDMBBFvYlCiS1Zo7fsOA2EQqC/hWygf9n/Om7vxE4oTT4OF1nS8cyok9MF76cffH6fcb2+4fwVIHFCqg1mFPRmxGDdE7r3iq7mhLlGjNZj1zc4KYgxwYeEmAoC8SnDxwzhN2HqxVc/UTrrAg654ZgLjiXjg7lQMlOyZ04URJWHiMTMKnYeI6WOyJb3ddfT6kePSrEwDRnsWr594GEl3C44nv8rkI2HUFsrbY86HZCIawuEa2E6pqt7mNTQ5wmDxLU1bfk/95bnOmGZZrRSOa91TjrDuGUIOl8eHgwMH8jY8TmV+6MUzmShtFEQeDHpRsjY5Rn9VllfZgxa4Y2GQdfcuxELqZSulf8CLsTElSXlNoIAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"interview question tdd method nil\"\n        title=\"interview question tdd method nil\"\n        src=\"/static/37024f1557112d0e40d33761156b59a2/5a190/interview-q-tdd-method-nil.png\"\n        srcset=\"/static/37024f1557112d0e40d33761156b59a2/772e8/interview-q-tdd-method-nil.png 200w,\n/static/37024f1557112d0e40d33761156b59a2/e17e5/interview-q-tdd-method-nil.png 400w,\n/static/37024f1557112d0e40d33761156b59a2/5a190/interview-q-tdd-method-nil.png 800w,\n/static/37024f1557112d0e40d33761156b59a2/ae953/interview-q-tdd-method-nil.png 1132w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h2>Implementation</h2>\n<p>Now that there's a failing test and a scaffold of the module, we can finally implement the <code>rle</code> method to make the test pass. I filled in lines of code to go along with the English logic written earlier. To keep track of letter counters, a hash is used to conveniently lookup letters that have already been seen and increment their counters. Leaving in the English as explanatory comments (if strictly following clean code principles, further methods with more meaningful names can be extracted and comments removed, but for this exercise, simpler to read all the code linearly from top to bottom):</p>\n<pre class=\"grvsc-container gatsby-highlight monokai\" data-language=\"ruby\" data-index=\"10\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\"># data_science.rb</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\"># Unlike Python, Ruby doesn&#39;t have native tuples.</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">Tuple </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> </span><span class=\"mtk9 mtki\">Struct</span><span class=\"mtk1\">.</span><span class=\"mtk7\">new</span><span class=\"mtk1\">(</span><span class=\"mtk4\">:_1</span><span class=\"mtk1\">, </span><span class=\"mtk4\">:_2</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">module</span><span class=\"mtk1\"> </span><span class=\"mtk5 mtku\">DataScience</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk3\"># RLE (run-length encoding): Encode each character by the number of times it appears consecutively.</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk7\">def</span><span class=\"mtk1\"> </span><span class=\"mtk5\">self.rle</span><span class=\"mtk1\">(</span><span class=\"mtk10 mtki\">input</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\"># Keep track of letters that have been seen for incrementing consecutive counter.</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    track </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> {}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\"># Array of results to be returned.</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    result </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> []</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\"># Initialize based on first character in input string</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    previous_letter </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> input[</span><span class=\"mtk4\">0</span><span class=\"mtk1\">]</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    track[previous_letter] </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> </span><span class=\"mtk9 mtki\">Tuple</span><span class=\"mtk1\">.</span><span class=\"mtk7\">new</span><span class=\"mtk1\">(previous_letter, </span><span class=\"mtk4\">1</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    result </span><span class=\"mtk7\">&lt;&lt;</span><span class=\"mtk1\"> track[previous_letter]</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\"># Process input string one character at a time, starting from second character</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk7\">for</span><span class=\"mtk1\"> i </span><span class=\"mtk7\">in</span><span class=\"mtk1\"> </span><span class=\"mtk4\">1</span><span class=\"mtk1\">..input.length </span><span class=\"mtk7\">-</span><span class=\"mtk1\"> </span><span class=\"mtk4\">1</span><span class=\"mtk1\"> </span><span class=\"mtk7\">do</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      current_letter </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> input[i]</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk3\"># If the current letter was just seen in the previous iteration, increment its tracking counter,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk3\"># but do not append anything to results because its already been appended.</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      track[previous_letter]._2 </span><span class=\"mtk7\">+=</span><span class=\"mtk1\"> </span><span class=\"mtk4\">1</span><span class=\"mtk1\"> </span><span class=\"mtk7\">if</span><span class=\"mtk1\"> current_letter </span><span class=\"mtk7\">==</span><span class=\"mtk1\"> previous_letter</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk3\"># Otherwise start tracking a new letter and add it to results</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk7\">if</span><span class=\"mtk1\"> current_letter </span><span class=\"mtk7\">!=</span><span class=\"mtk1\"> previous_letter</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        track[current_letter] </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> </span><span class=\"mtk9 mtki\">Tuple</span><span class=\"mtk1\">.</span><span class=\"mtk7\">new</span><span class=\"mtk1\">(current_letter, </span><span class=\"mtk4\">1</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        result </span><span class=\"mtk7\">&lt;&lt;</span><span class=\"mtk1\"> track[current_letter]</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk7\">end</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk3\"># The letter that has just been processed (current) now becomes the previous for next iteration</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      previous_letter </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> current_letter</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk7\">end</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    result</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk7\">end</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">end</span></span></span></code></pre>\n<p>This time the test should pass:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 561px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/3b64fe327688c353d0b178a10aa3cef3/410f3/interview-q-tdd-method-pass.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 20.499108734402853%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAAsSAAALEgHS3X78AAAA2klEQVQY01WOzU6EMBzEeQcTo7T0AyjQLltKgSW6D7AeTLz7HG6yJz25B33osW0MxsNkJv+PyS/jx1ew5w+wpzPo6YL65YL3a4fr5w2+vm/xdr6D8x5+PmA/jOitC3mBKGsUXP4TZQIZLTvkQiPnLYg0IKVBZzialqDpKFrN0jOX1SZZKZCC454UyXPKk8fSrNUa08MKO3vovsccslsfYYYJ1i3QO7eR7QeHcVqSbJhFatPbcOfTPhEypSDWEXwZwHcawluIkGXIVd0kukhU1urXm02V+ttHj4U/iPt44h4CfK0AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"tdd interview question method pass\"\n        title=\"tdd interview question method pass\"\n        src=\"/static/3b64fe327688c353d0b178a10aa3cef3/410f3/interview-q-tdd-method-pass.png\"\n        srcset=\"/static/3b64fe327688c353d0b178a10aa3cef3/772e8/interview-q-tdd-method-pass.png 200w,\n/static/3b64fe327688c353d0b178a10aa3cef3/e17e5/interview-q-tdd-method-pass.png 400w,\n/static/3b64fe327688c353d0b178a10aa3cef3/410f3/interview-q-tdd-method-pass.png 561w\"\n        sizes=\"(max-width: 561px) 100vw, 561px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h2>Edge Cases</h2>\n<p>It appears we now have a working solution, but it's good to push it a little with some variety of inputs. In the example given from the original tweet, all the initial letters have some repeating sequences. But what happens if there are letters that repeat, but not sequentially? For example an input of \"abab\" should return <code>[(\"a\", 1), (\"b\", 1), (\"a\", 1), (\"b\", 1)]</code>. Let's add a test for this case:</p>\n<pre class=\"grvsc-container gatsby-highlight monokai\" data-language=\"ruby\" data-index=\"11\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">require</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&#39;./data_science&#39;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">describe DataScience </span><span class=\"mtk7\">do</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  describe </span><span class=\"mtk6\">&#39;Run Length Encoding&#39;</span><span class=\"mtk1\"> </span><span class=\"mtk7\">do</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    it </span><span class=\"mtk6\">&#39;Counts consecutive occurrences of letters in a string&#39;</span><span class=\"mtk1\"> </span><span class=\"mtk7\">do</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk3\"># ...</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk7\">end</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    it </span><span class=\"mtk6\">&#39;Handles alternating letters&#39;</span><span class=\"mtk1\"> </span><span class=\"mtk7\">do</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      result </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> </span><span class=\"mtk9 mtki\">DataScience</span><span class=\"mtk1\">.rle(</span><span class=\"mtk6\">&#39;abab&#39;</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      a1 </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> </span><span class=\"mtk9 mtki\">Tuple</span><span class=\"mtk1\">.</span><span class=\"mtk7\">new</span><span class=\"mtk1\">(</span><span class=\"mtk6\">&#39;a&#39;</span><span class=\"mtk1\">, </span><span class=\"mtk4\">1</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      b1 </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> </span><span class=\"mtk9 mtki\">Tuple</span><span class=\"mtk1\">.</span><span class=\"mtk7\">new</span><span class=\"mtk1\">(</span><span class=\"mtk6\">&#39;b&#39;</span><span class=\"mtk1\">, </span><span class=\"mtk4\">1</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      expect(result).to eq([a1, b1, a1, b1])</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk7\">end</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk7\">end</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">end</span></span></span></code></pre>\n<p>The tests are still passing so this case is handled, good!</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 554px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/1686e63f04ba4926e98f935e05c26161/04abd/interview-q-tdd-two-passing.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 20.75812274368231%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAAsSAAALEgHS3X78AAAA20lEQVQY02WPvU7DMBwH8wKwIAFqEjvOh+ukqePEaVXE3AoYmFh5ASQkYGHg4Q/XQBeG0/30X3xOxO4J8fBFvn8LfCDvPrl4feb85cDZ+yP5/S3z4Bkmj3UTbgw7OBUFuVT/SDJtWZgtqfakyzlyPVqunOFy7EiNRqmaoqyRqjo5zSWLTET/bEkWHkm0MUyjwzlH24btJ3yoWHcWH8q6to9lXW+jj8zbHb11jH7Dam0DQywXRUkitKa48ciAsCuUs8iNQ06WShtU1VDW+uSybqh/71WzjP7bxy9/A9gzd5dWtKgfAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"interview question tdd two passing\"\n        title=\"interview question tdd two passing\"\n        src=\"/static/1686e63f04ba4926e98f935e05c26161/04abd/interview-q-tdd-two-passing.png\"\n        srcset=\"/static/1686e63f04ba4926e98f935e05c26161/772e8/interview-q-tdd-two-passing.png 200w,\n/static/1686e63f04ba4926e98f935e05c26161/e17e5/interview-q-tdd-two-passing.png 400w,\n/static/1686e63f04ba4926e98f935e05c26161/04abd/interview-q-tdd-two-passing.png 554w\"\n        sizes=\"(max-width: 554px) 100vw, 554px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>What about if there's only a single character, repeating or not? A few more tests for this:</p>\n<pre class=\"grvsc-container gatsby-highlight monokai\" data-language=\"ruby\" data-index=\"12\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">require</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&#39;./data_science&#39;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">describe DataScience </span><span class=\"mtk7\">do</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  describe </span><span class=\"mtk6\">&#39;Run Length Encoding&#39;</span><span class=\"mtk1\"> </span><span class=\"mtk7\">do</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    it </span><span class=\"mtk6\">&#39;Counts consecutive occurrences of letters in a string&#39;</span><span class=\"mtk1\"> </span><span class=\"mtk7\">do</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk3\"># ...</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk7\">end</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    it </span><span class=\"mtk6\">&#39;Handles alternating letters&#39;</span><span class=\"mtk1\"> </span><span class=\"mtk7\">do</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk3\"># ...</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk7\">end</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    it </span><span class=\"mtk6\">&#39;Handles a single character occurring once&#39;</span><span class=\"mtk1\"> </span><span class=\"mtk7\">do</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      result </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> </span><span class=\"mtk9 mtki\">DataScience</span><span class=\"mtk1\">.rle(</span><span class=\"mtk6\">&#39;z&#39;</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      z1 </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> </span><span class=\"mtk9 mtki\">Tuple</span><span class=\"mtk1\">.</span><span class=\"mtk7\">new</span><span class=\"mtk1\">(</span><span class=\"mtk6\">&#39;z&#39;</span><span class=\"mtk1\">, </span><span class=\"mtk4\">1</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      expect(result).to eq([z1])</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk7\">end</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    it </span><span class=\"mtk6\">&#39;Handles a single character occurring multiple times&#39;</span><span class=\"mtk1\"> </span><span class=\"mtk7\">do</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      result </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> </span><span class=\"mtk9 mtki\">DataScience</span><span class=\"mtk1\">.rle(</span><span class=\"mtk6\">&#39;zzzzz&#39;</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      z1 </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> </span><span class=\"mtk9 mtki\">Tuple</span><span class=\"mtk1\">.</span><span class=\"mtk7\">new</span><span class=\"mtk1\">(</span><span class=\"mtk6\">&#39;z&#39;</span><span class=\"mtk1\">, </span><span class=\"mtk4\">5</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      expect(result).to eq([z1])</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk7\">end</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk7\">end</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">end</span></span></span></code></pre>\n<p>All tests still passing:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 538px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/b002ae0abef36b243863d349d1960a84/9516f/interview-q-tdd-four-passing.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 21.561338289962826%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAAsSAAALEgHS3X78AAAA70lEQVQY01WPy0rDQBSG8wauBJu0STpJZtImc8k0l3pBUBQXrn0Il7osgoKIvvXntIrg4uP7OYtz/hNl2wfS+xfS2yeyu2dmNzsed5d8vB/x+nbC59cxV9eSbnOG8x7jPK7bHDxPcxbZ8h9RoixxsyWWPUk9MJMjdpBM25h+TJhOE0qZkwtJtiyCS/Jfz+Yp8SIjCcQh7w9EUik6awKWOmTfOVrtkdKizUhZGRrtWLcabR1NazC2o163+M1AaxyrRof2PcuiIsrCEnHeIy4GcqcR3iKmDjE6VNNQlFVoqCgq9edKrQ6W9Y9FKQ+z/QffJP956HCDfpMAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"interview question tdd four passing\"\n        title=\"interview question tdd four passing\"\n        src=\"/static/b002ae0abef36b243863d349d1960a84/9516f/interview-q-tdd-four-passing.png\"\n        srcset=\"/static/b002ae0abef36b243863d349d1960a84/772e8/interview-q-tdd-four-passing.png 200w,\n/static/b002ae0abef36b243863d349d1960a84/e17e5/interview-q-tdd-four-passing.png 400w,\n/static/b002ae0abef36b243863d349d1960a84/9516f/interview-q-tdd-four-passing.png 538w\"\n        sizes=\"(max-width: 538px) 100vw, 538px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>How about en empty string? Hmm... what should the result be in this case? If this were for a product, this would be a good case to discuss with the product owner or with the team if there's an established standard on how to handle the empty case. For this exercise, let's assume an empty array should be returned to indicate there are no sequences.</p>\n<pre class=\"grvsc-container gatsby-highlight monokai\" data-language=\"ruby\" data-index=\"13\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">require</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&#39;./data_science&#39;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">describe DataScience </span><span class=\"mtk7\">do</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  describe </span><span class=\"mtk6\">&#39;Run Length Encoding&#39;</span><span class=\"mtk1\"> </span><span class=\"mtk7\">do</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    it </span><span class=\"mtk6\">&#39;Counts consecutive occurrences of letters in a string&#39;</span><span class=\"mtk1\"> </span><span class=\"mtk7\">do</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk3\"># ...</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk7\">end</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    it </span><span class=\"mtk6\">&#39;Handles alternating letters&#39;</span><span class=\"mtk1\"> </span><span class=\"mtk7\">do</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk3\"># ...</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk7\">end</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    it </span><span class=\"mtk6\">&#39;Handles a single character occurring once&#39;</span><span class=\"mtk1\"> </span><span class=\"mtk7\">do</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk3\"># ...</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk7\">end</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    it </span><span class=\"mtk6\">&#39;Handles a single character occurring multiple times&#39;</span><span class=\"mtk1\"> </span><span class=\"mtk7\">do</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk3\"># ...</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk7\">end</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    it </span><span class=\"mtk6\">&#39;Returns en empty array when given an empty string&#39;</span><span class=\"mtk1\"> </span><span class=\"mtk7\">do</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      result </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> </span><span class=\"mtk9 mtki\">DataScience</span><span class=\"mtk1\">.rle(</span><span class=\"mtk6\">&#39;&#39;</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      expect(result).to eq([])</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk7\">end</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk7\">end</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">end</span></span></span></code></pre>\n<p>This time get a failure:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 800px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/f47192ed1043b62c9e06d77824d7c6a6/8ecb0/interview-q-tdd-empty-fail.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 51.66835187057634%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAABO0lEQVQoz32SS3LDIBBEdQ1LYCG+AiE7TrLOAVKVZcqr5P636DRY/lQiZfHceFDPDAyNfHnH7vUT4e0DX98tzucd8iHCjxNCTJD9gE72EHv1h7J31SvNSNOYJvSDxn6wxFXttWHMQGm7ylqymtBYj+f5iEOcKk9MfkgZp2nGOCZ4FvTUMF70Sim2mrCTCoZHStx0RFd6DIwp0m2weWTBH6cGZKURieFaMdYvyH9Y7bAm1J73EiCVgXy8+L4YFlMxP7KVsLQvrUMbR+w81dkLxqCj4U4xaAieQiwFxErXjeZQhjRDzycYUlTnI/R0hMlPt7WKGV2YIHysibZoMid24lSLphChXahY5+EWtSyq+VSE3LOz/o5cuMUUmkBT5nNJfqxTHbihSMe32PJu26oOHdfCBgjjH/j1n9/9AJFYF3zv6c+ZAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"interview question tdd empty case fails\"\n        title=\"interview question tdd empty case fails\"\n        src=\"/static/f47192ed1043b62c9e06d77824d7c6a6/5a190/interview-q-tdd-empty-fail.png\"\n        srcset=\"/static/f47192ed1043b62c9e06d77824d7c6a6/772e8/interview-q-tdd-empty-fail.png 200w,\n/static/f47192ed1043b62c9e06d77824d7c6a6/e17e5/interview-q-tdd-empty-fail.png 400w,\n/static/f47192ed1043b62c9e06d77824d7c6a6/5a190/interview-q-tdd-empty-fail.png 800w,\n/static/f47192ed1043b62c9e06d77824d7c6a6/8ecb0/interview-q-tdd-empty-fail.png 989w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>The problem happens at lines 14-16 of the <code>rle</code> method which initializes the results. In Ruby, getting the first character of an empty string returns nil. So the code adds a Tuple of <code>(nil, 1)</code> to results and returns an array with this entry:</p>\n<pre class=\"grvsc-container gatsby-highlight monokai\" data-language=\"ruby\" data-index=\"14\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">previous_letter </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> input[</span><span class=\"mtk4\">0</span><span class=\"mtk1\">]</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">track[previous_letter] </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> </span><span class=\"mtk9 mtki\">Tuple</span><span class=\"mtk1\">.</span><span class=\"mtk7\">new</span><span class=\"mtk1\">(previous_letter, </span><span class=\"mtk4\">1</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">result </span><span class=\"mtk7\">&lt;&lt;</span><span class=\"mtk1\"> track[previous_letter]</span></span></span></code></pre>\n<p>Let's fix this by first checking if the input is an empty string. While we're at it, might as well also check for nil. If this was a Rails project, could use the handy <code>blank?</code> method to check for nil or empty with a single method. But in plain Ruby, can use <code>variable.to_s.empty?</code> as explained in <a href=\"https://stackoverflow.com/a/9915384/3991687\">this SO answer</a>.</p>\n<pre class=\"grvsc-container gatsby-highlight monokai\" data-language=\"ruby\" data-index=\"15\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">module</span><span class=\"mtk1\"> </span><span class=\"mtk5 mtku\">DataScience</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk7\">def</span><span class=\"mtk1\"> </span><span class=\"mtk5\">self.rle</span><span class=\"mtk1\">(</span><span class=\"mtk10 mtki\">input</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk7\">return</span><span class=\"mtk1\"> [] </span><span class=\"mtk7\">if</span><span class=\"mtk1\"> input.to_s.empty?</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\"># rest of the code...</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk7\">end</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">end</span></span></span></code></pre>\n<p>Add another test for nil case and re-run:</p>\n<pre class=\"grvsc-container gatsby-highlight monokai\" data-language=\"ruby\" data-index=\"16\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">require</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&#39;./data_science&#39;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">describe DataScience </span><span class=\"mtk7\">do</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  describe </span><span class=\"mtk6\">&#39;Run Length Encoding&#39;</span><span class=\"mtk1\"> </span><span class=\"mtk7\">do</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    it </span><span class=\"mtk6\">&#39;Counts consecutive occurrences of letters in a string&#39;</span><span class=\"mtk1\"> </span><span class=\"mtk7\">do</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk3\"># ...</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk7\">end</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    it </span><span class=\"mtk6\">&#39;Handles alternating letters&#39;</span><span class=\"mtk1\"> </span><span class=\"mtk7\">do</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk3\"># ...</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk7\">end</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    it </span><span class=\"mtk6\">&#39;Handles a single character occurring once&#39;</span><span class=\"mtk1\"> </span><span class=\"mtk7\">do</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk3\"># ...</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk7\">end</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    it </span><span class=\"mtk6\">&#39;Handles a single character occurring multiple times&#39;</span><span class=\"mtk1\"> </span><span class=\"mtk7\">do</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk3\"># ...</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk7\">end</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    it </span><span class=\"mtk6\">&#39;Returns en empty array when given an empty string&#39;</span><span class=\"mtk1\"> </span><span class=\"mtk7\">do</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      result </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> </span><span class=\"mtk9 mtki\">DataScience</span><span class=\"mtk1\">.rle(</span><span class=\"mtk6\">&#39;&#39;</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      expect(result).to eq([])</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk7\">end</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    it </span><span class=\"mtk6\">&#39;Returns en empty array when given nil&#39;</span><span class=\"mtk1\"> </span><span class=\"mtk7\">do</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      result </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> </span><span class=\"mtk9 mtki\">DataScience</span><span class=\"mtk1\">.rle(</span><span class=\"mtk4\">nil</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      expect(result).to eq([])</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk7\">end</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk7\">end</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">end</span></span></span></code></pre>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 563px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/6c1d073baaa7e46d6b5cb70b7aac4516/7cb89/interview-q-tdd-six-passing.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 23.268206039076375%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsSAAALEgHS3X78AAAA+0lEQVQY012OSU7EMBREcwDYICFBBk+Juzt0Bg8ZnBO06AXiDmwRKxASrDh5YbtJFiye6n/bKr+kKGsUwvOXuTwg21ceiUxWIEyA8jLmSkE5csJi/ichTz8gj58g5y/Q0zdu315x9XHG9fszbl5OUNrCDBOUsWg6hWFy2NdHZAXdylfCJ0kqJFJSIqPeini8Tco57hhDytj2MBQEwh4yzQnuPet52KPh4BzMPKFuGgyLw7gsaJTG6E363qDXBl2vo6EyA7QdMbklzuPsUB9bdMrAjvOlkDoDumiQ5gFMt6C2Q2FbiEMN7u2ZqMBLCVHJmJd5FynlbrsPhMJf8O+TFb1gofcAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"interview question tdd six passing\"\n        title=\"interview question tdd six passing\"\n        src=\"/static/6c1d073baaa7e46d6b5cb70b7aac4516/7cb89/interview-q-tdd-six-passing.png\"\n        srcset=\"/static/6c1d073baaa7e46d6b5cb70b7aac4516/772e8/interview-q-tdd-six-passing.png 200w,\n/static/6c1d073baaa7e46d6b5cb70b7aac4516/e17e5/interview-q-tdd-six-passing.png 400w,\n/static/6c1d073baaa7e46d6b5cb70b7aac4516/7cb89/interview-q-tdd-six-passing.png 563w\"\n        sizes=\"(max-width: 563px) 100vw, 563px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>Success, edge cases are now passing!</p>\n<p>For the complete code and project, go ahead and <a href=\"https://github.com/danielabar/RLE\">clone it on Github</a>.</p>\n<h2>Conclusion</h2>\n<p>To circle back to the original tweet that inspired all this, I didn't time myself exactly but estimate spent approximately an hour. Figuring out the actual logic was around half hour, with some extra time researching how to model Tuples in Ruby. Then more time researching how to setup a plain Ruby project with RSpec, and time to write the tests. Then a little more time thinking of edge cases. This was definitely a useful exercise, I learned a few new things including:</p>\n<ul>\n<li>The term \"run length encoding\"</li>\n<li>Use of Ruby <code>Struct</code> to model a tuple.</li>\n<li>Use of <code>some_var.to_s.empty?</code> to check for nil or empty in a single expression.</li>\n<li>How to setup a plain Ruby project with RSpec tests.</li>\n</ul>\n<p>What do you think of all this? Tweet me if you have some thoughts on - is there a faster/better way to implement run length encoding in Ruby? Have I missed some test cases? What do you think of this style of interview question?</p>\n<h2>Related Content</h2>\n<p>The following section contains affiliate links for related content you may find useful. I get a small commission from purchases which helps me maintain this site.</p>\n<p>Looking to level up on Rails 6? You might like this book: <a href=\"https://amzn.to/3wS8GNA\">Agile Web Development with Rails 6</a>.</p>\n<p>Working on a large legacy code base? This book <a href=\"https://amzn.to/3accwHF\">Working Effectively with Legacy Code</a> is a must read.</p>\n<p>Martin Fowler's <a href=\"https://amzn.to/2RFC0Xn\">Refactoring: Improving the Design of Existing Code</a> is also amazingly useful on this topic.</p>\n<p>Is your organization introducing microservices? This book <a href=\"https://amzn.to/3uSxa87\">Building Event-Driven Microservices: Leveraging Organizational Data at Scale</a> is a fantastic resource on this topic.</p>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n  .monokai {\n    background-color: #272822;\n    color: #f8f8f2;\n  }\n  .monokai .mtku {\n    text-decoration: underline;\n    text-underline-position: under;\n  }\n  .monokai .mtki { font-style: italic; }\n  .monokai .mtk3 { color: #75715E; }\n  .monokai .mtk6 { color: #E6DB74; }\n  .monokai .mtk1 { color: #F8F8F2; }\n  .monokai .mtk4 { color: #AE81FF; }\n  .monokai .mtk7 { color: #F92672; }\n  .monokai .mtk9 { color: #66D9EF; }\n  .monokai .mtk5 { color: #A6E22E; }\n  .monokai .mtk10 { color: #FD971F; }\n  .monokai .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));\n  }\n</style>","frontmatter":{"title":"Solving a Python Interview Question in Ruby","date":"01 Mar 2021","description":"Learn how to model tuples in Ruby and solve a Python data science interview question in Ruby.","featuredImage":{"childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAwABBf/EABYBAQEBAAAAAAAAAAAAAAAAAAEAAv/aAAwDAQACEAMQAAAB4SGrkrKf/8QAFxAAAwEAAAAAAAAAAAAAAAAAABASIf/aAAgBAQABBQIl3h//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAUEAEAAAAAAAAAAAAAAAAAAAAg/9oACAEBAAY/Al//xAAXEAEBAQEAAAAAAAAAAAAAAAABABEx/9oACAEBAAE/IQ23JjDk64tv/9oADAMBAAIAAwAAABAPz//EABcRAAMBAAAAAAAAAAAAAAAAAAEQEUH/2gAIAQMBAT8QNxf/xAAXEQADAQAAAAAAAAAAAAAAAAABEBFB/9oACAECAQE/EBNX/8QAGBABAQEBAQAAAAAAAAAAAAAAAQARIZH/2gAIAQEAAT8QdchTQPbcLdDhyhxGdu3/2Q==","aspectRatio":1.3333333333333333,"src":"/static/41cac534f5048f26531ee516516637b1/14b42/python-interview-question.jpg","srcSet":"/static/41cac534f5048f26531ee516516637b1/f836f/python-interview-question.jpg 200w,\n/static/41cac534f5048f26531ee516516637b1/2244e/python-interview-question.jpg 400w,\n/static/41cac534f5048f26531ee516516637b1/14b42/python-interview-question.jpg 800w,\n/static/41cac534f5048f26531ee516516637b1/a7715/python-interview-question.jpg 1000w","sizes":"(max-width: 800px) 100vw, 800px"}}}},"fields":{"slug":"/blog/python-interview-question-in-ruby/"}}},"pageContext":{"slug":"/blog/python-interview-question-in-ruby/","content":"<p>A few months ago, I came across a tweet posing a technical interview question for a data science position using Python:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 800px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/aa3189a9b02cbb2f3bc0aba0a844810a/0d1a4/tweet-interview-question.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 54.24710424710425%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAABb0lEQVQoz41Sy3LCMAw0oYSQkHfIg0cChAxceoBLp/T/v2vrVUeBthcOmrVkWVqtbKqyxHq9RlEU2G636Lpu9Imr1QpN06CqKvGJ9Ev7rq5ryWdsMpnAGAOTpDnKqkaWZZLIokymz2LaiDEtvNlsxga73U7upBjNfzOIAxdhFGOx8LBcLqUQLYoiTKfTR/Ir1qUG70ODj88vnE49brcb7ve74PV6xeFwELZ5ngtbRbJyXVeKjOMqw2DuoKoby6qwLBfwPA++78uZLNM0Hc9hGArGcQzHcf4zjBOrVVnBtw+SJBEGTCbqQ8ZZVIszxjPjZEocWWY2obXCUjOKryJTeG6RMRqXoFslqk9JKMHIkOOxA5fBcWjKiiyUpY6r94pBEIjGvP8Z2QbbtpUu7EhmZMkYbb/fCwueGe/73i7vJF+GRvbDMDy+DsVml2eczWZyJutfG3zFqAU7ksnlcsH5fMbxeBQkGx2FhZ9NC/z1vwGIZAVWLK0vEAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"tweet interview question\"\n        title=\"tweet interview question\"\n        src=\"/static/aa3189a9b02cbb2f3bc0aba0a844810a/5a190/tweet-interview-question.png\"\n        srcset=\"/static/aa3189a9b02cbb2f3bc0aba0a844810a/772e8/tweet-interview-question.png 200w,\n/static/aa3189a9b02cbb2f3bc0aba0a844810a/e17e5/tweet-interview-question.png 400w,\n/static/aa3189a9b02cbb2f3bc0aba0a844810a/5a190/tweet-interview-question.png 800w,\n/static/aa3189a9b02cbb2f3bc0aba0a844810a/0d1a4/tweet-interview-question.png 1036w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>Let's set aside for a moment whether this style of interviewing is useful in identifying good software developers. Plenty has been written about the problems with technical interviews so I don't want to get too much into that. Suffice to say when I'm faced with this type of question in a technical interview, this is my reaction:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 586px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/1b280c7d6cd37b0adf58b639b8aec267/a76f4/deer-caught-in-headlights.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 98.97610921501708%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAAE60lEQVQ4yy2T+VNTVxiG+UNaFQi5Sy6BkBASQghrIKhVVBbZZK1KiSyiICBaBhGLqEBdkSrQAkLBal1qi8vo6OBMrY6jY1vbsePY6Y/9E55+N/SHb+69557znPe833uiFMWLovhR1AxUJR1Vk6fqlUpDiXMRZ7FhjUuU8aDM82C1GFKJ8s+LpgbRlCR0IyTzM7EqKUQpSoBIyQJVoFYlTSamy0QBWt3/A+PR9ALMza1xBrq5odUjAjLQZDObLRPdUY5VxiJA1ZomP/2iIkd+ZskiH7ooVVS/qLGjWHT0+PV8/FESXa2HKMgrJ3qNKNNy0awOdBNo3yaiAkSZUtUI1IemZTPUN0tuViVr1qaKqhwZd8kiO+ssbmrL2vj9+Xsy00OsW6sJKEdO4pZKxWZsRrPlrwJNDzXZLSY2l6HuCzyZf8mmUBiLslFUBomJVsn2BlmeX+HVg79wJXiIjdFkjSkmGSNhPUZipZxiiwnMk8EskZ+HxZpPyF/Iw/Flbnz9mC15DSQ5NpHhCjDUcYxfX/7LmeE5LOt0Ue6MeKxaxUMjgN1dSbyrgShN3SBNWO2Spmdjk+ppHOTF47+5PHiG7uJ6DhbXsrJwl0tfLWAY4qvYoCsugaWI3wlyVJ/ANqPqaWZTxCezxENdDYjSUKRawseYnLnOQEOYE529TM/cJNeXQ3R0ingnDbMmRDodASpOURmSMaccWTEjIh5aU2WCF0MXL6UhVXUdtE9/y5G2gwwPn6dt4gqlm0qJtXgldybQHlGkSJfjYvTIeHSsxwQWCMiEmpW5qlJNjWRs8uwiT5YecWfqFq8fvmG0exibli7AIJZYg9i4NCyWBBJVBz5HOpvTpMvWSNpNULY8s8RLP4Zkcc1aDx3hQabG5ult7uPdynvunJ6nPL9IuuvHLuoyHJmU+LL5LBiid1sRp2pqxUNV8mfCpMuqbgID8p0hPmYSHx9iqOcsNydv8m75OfdPTzPW3ENbUTW9xVWMNzYzWFFN28ZCuraWcqyqThTK/VPkiOZ108U/m7Ehkq34eDNGAdpr23kxe49Xs7e42j/K3OERzrZ0Mb47zGh9IwMV9XQUbqdzawlDdbvFQ11iYEZA7qdNz8SwF0s0CohPEJ/Ex8rCet4s3eOXqevcHZnixvFxestqudjYyrldrVxoaud4zU5GJA0Xmtokh7bgqkIjS3LowybKbIZ5p/1ifg4pzhxuj13ij+8e8XTiKhP7+2n/ZBtLB/pYlLp95DgL3YdZHjzJ/S9OCVAPRHJlT5SAi9E2W0BUBjG0ZBITc8XXDDl2N2+vrfDn9aeM7G6lr3QHNw4Ncjncyo9HT/Ds/DRvpuZ4PTlnxsYpoBSB5EjlY08oIMlZgju5Fl/qXtL9h8jKOEpf+Bw/f/MTE3sPMLC9mqXufq7s7+XB0BhvZ6/yz7XbfFj8nqhEx3Yczhocrk9xuhtJTmnCnRLG620R4H4C/h6BduHx7qO1vJeZrn7GGvZwaU8nl5u7+GHgJL/NLPFhYZ5nX44S5XJV4XJV43RWSG0nObkCj7taqlxUVpDq2YXfFxZoMwFvA50VzcyJdxNNLZyWpph1saWNJ6OnmGpuIsqZtBGXc6tAiwUmJe8eVwleefe6i/F5Kknz1RFI34k/rYZ0TylFOWV0FNew+PkQXUVldG8pES8H2Ve2g/8AhssUA9sGB0YAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"deer caught in headlights\"\n        title=\"deer caught in headlights\"\n        src=\"/static/1b280c7d6cd37b0adf58b639b8aec267/a76f4/deer-caught-in-headlights.png\"\n        srcset=\"/static/1b280c7d6cd37b0adf58b639b8aec267/772e8/deer-caught-in-headlights.png 200w,\n/static/1b280c7d6cd37b0adf58b639b8aec267/e17e5/deer-caught-in-headlights.png 400w,\n/static/1b280c7d6cd37b0adf58b639b8aec267/a76f4/deer-caught-in-headlights.png 586w\"\n        sizes=\"(max-width: 586px) 100vw, 586px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>Why? Because being asked to solve something like this on the spot with someone timing you and waiting for a result is unnatural. In nearly 20 years of working as a software developer, its never been the case that as part of a conversation with a manager, product owner, colleagues etc. that anyone expected a piece of code to be written immediately on the spot during that conversation while they watched me code. Typically, the actual coding work is done when developer goes back to their desk (or comfort of their home office), does a little research if needed on various language APIs, tries out a few things in a REPL, then gradually comes up with a solution, and hopefully some tests. Even better if there's also some documentation produced and later, a demo to the team on how the new feature works.</p>\n<p>But regardless of my thoughts on technical interviews, found myself curious about solving this, although not in Python. It's been quite a few years since I worked in that language and have since pivoted to Ruby/Rails. So thought it would be interesting to break down this problem in Ruby and solve it TDD style with RSpec.</p>\n<h2>Caveats</h2>\n<p>Ruby is <a href=\"https://www.quora.com/Is-Ruby-a-good-language-for-data-science?share=1\">not the go-to language for data science</a>, and my experience is primarily with web development, not data science, so this is just an exercise to get some practice with Ruby.</p>\n<h2>Analysis</h2>\n<p>At first glance the problem seems relatively straightforward, given an input string such as <code>'aaaabbbcca'</code>, return a data structure containing a key for each letter, and the value being the count of how many times the letter appears in the string. But looking more closely, that's not what's being asked. Notice the last letter <code>a</code> in the input string appears separate from the first 4 <code>a</code>s in the beginning of the string. Then the expected output has two entries for the letter <code>a</code>. The first entry has a count of 4, and the last entry has a count of 1. So the question is actually asking to identify counts of repeating sequences of letters. This problem is known as <a href=\"https://en.wikipedia.org/wiki/Run-length_encoding\">Run-length encoding</a>.</p>\n<p>What this means is that as each letter in the string is being processed, we need to \"remember\" what the previous letter we just processed was. This is because the decision whether to increment a given letter counter or start a new counter will depend on whether the previous letter was the same as the current one (in which case, increment counter) or different than the current one (in which case, start a new counter).</p>\n<p>A general technique for this is before entering the loop, grab the first letter of the input string and store it in a variable. Then loop over the remaining letters in the string. At each iteration in the loop, compare current letter to previous, process it accordingly, then update the \"previous letter\" to the current letter in the loop. This way when the next loop iteration runs, it will have access to the letter that was processed in the previous iteration.</p>\n<p>To solve these types of problems, I find it useful to write down the solution in plain English. This allows for a focus on logic, without worrying about language-specific syntax or even data structures. Something like this:</p>\n<pre class=\"grvsc-container gatsby-highlight monokai\" data-language=\"\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\">Start by assigning &quot;previous letter&quot; to the first letter in the input</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">Record the first entry as this letter, with a count of 1</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">Add this entry to list of results which will eventually be returned</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">For each letter in input string starting from second letter</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">  If the current letter is the same as the previous letter</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">    Increment the counter for this letter in the entry created earlier</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">  Else</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">    Create a new entry for this letter with a count of 1</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">    Add this entry to results</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">  End If</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">  Update the &quot;previous letter&quot; to the current letter for next loop iteration</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">End Loop</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">Return results</span></span></code></pre>\n<h2>Tuples</h2>\n<p>Now that the logic is sorted out, it's time to write some Ruby code. But before we do, let's take a closer look at the expected output, keeping in mind the original question is in Python:</p>\n<pre class=\"grvsc-container gatsby-highlight monokai\" data-language=\"python\" data-index=\"1\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\"># Example input:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk6\">&quot;aaaabbbcca&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\"># Expected output:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">[(</span><span class=\"mtk6\">&quot;a&quot;</span><span class=\"mtk1\">, </span><span class=\"mtk4\">4</span><span class=\"mtk1\">), (</span><span class=\"mtk6\">&quot;b&quot;</span><span class=\"mtk1\">, </span><span class=\"mtk4\">3</span><span class=\"mtk1\">), (</span><span class=\"mtk6\">&quot;c&quot;</span><span class=\"mtk1\">, </span><span class=\"mtk4\">2</span><span class=\"mtk1\">), (</span><span class=\"mtk6\">&quot;a&quot;</span><span class=\"mtk1\">, </span><span class=\"mtk4\">1</span><span class=\"mtk1\">)]</span></span></span></code></pre>\n<p>This is an array of tuples, which don't exist natively in Ruby but can be approximated with a <code>Struct</code> as follows:</p>\n<pre class=\"grvsc-container gatsby-highlight monokai\" data-language=\"ruby\" data-index=\"2\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">Tuple </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> </span><span class=\"mtk9 mtki\">Struct</span><span class=\"mtk1\">.</span><span class=\"mtk7\">new</span><span class=\"mtk1\">(</span><span class=\"mtk4\">:_1</span><span class=\"mtk1\">, </span><span class=\"mtk4\">:_2</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">a_count </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> </span><span class=\"mtk9 mtki\">Tuple</span><span class=\"mtk1\">.</span><span class=\"mtk7\">new</span><span class=\"mtk1\">(</span><span class=\"mtk6\">&quot;a&quot;</span><span class=\"mtk1\">, </span><span class=\"mtk4\">4</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">a_count._1</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">=&gt; </span><span class=\"mtk6\">&quot;a&quot;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">a_count._2</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">=&gt; </span><span class=\"mtk4\">4</span></span></span></code></pre>\n<p>See this <a href=\"https://stackoverflow.com/questions/525957/using-tuples-in-ruby\">SO answer</a> for more details.</p>\n<h2>Setup for TDD</h2>\n<p>Next step is to get a TDD workflow going with RSpec. If you want to know more about TDD, I've <a href=\"/blog/tdd-by-example/\">written about it here</a>. Up until this point, my experience with RSpec has been using it with Rails, but turns out, it can also be used for a plain \"vanilla\" Ruby project as follows:</p>\n<pre class=\"grvsc-container gatsby-highlight monokai\" data-language=\"bash\" data-index=\"3\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">mkdir RLE  </span><span class=\"mtk3\"># this will be project name, name this whatever you want</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk9\">cd</span><span class=\"mtk1\"> RLE</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">touch Gemfile</span></span></span></code></pre>\n<p>Edit the <code>Gemfile</code> so it looks as follows:</p>\n<pre class=\"grvsc-container gatsby-highlight monokai\" data-language=\"ruby\" data-index=\"4\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\"># Gemfile</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">rubocopsource </span><span class=\"mtk6\">&#39;https://rubygems.org/&#39;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">gem </span><span class=\"mtk6\">&#39;rspec&#39;</span></span></span></code></pre>\n<p>Then back in the terminal:</p>\n<pre class=\"grvsc-container gatsby-highlight monokai\" data-language=\"bash\" data-index=\"5\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">gem install bundler  </span><span class=\"mtk3\"># only if you don&#39;t already have it</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">bundle install</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">bundle </span><span class=\"mtk9\">exec</span><span class=\"mtk1\"> rspec --init</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">touch data_science.rb  </span><span class=\"mtk3\"># this will be the module where we will write the code, name it whatever you want</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">touch spec/data_science_spec.rb  </span><span class=\"mtk3\"># the corresponding test file</span></span></span></code></pre>\n<p>At this point, the project directory should look as follows: (the <code>spec_helper.rb</code> file was generated by the <code>rspec --init</code> command run in previous step):</p>\n<pre class=\"grvsc-container gatsby-highlight monokai\" data-language=\"\" data-index=\"6\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\">.</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">├── Gemfile</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">├── Gemfile.lock</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">├── data_science.rb</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">└── spec</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">    ├── data_science_spec.rb</span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\">    └── spec_helper.rb</span></span></code></pre>\n<p>Now open the project in your editor of choice and open the test file <code>data_science_spec.rb</code>.</p>\n<p>I'm planning to write the method that implements the interview question logic in a method named <code>rle</code>, which will be defined in a module named <code>DataScience</code>. This module and method will live in the <code>data_science.rb</code> file. They haven't been written yet so of course any tests written for this module/method will fail but that's ok, this is the start of the TDD process. I'm also expecting the <code>Tuple</code> struct to be defined in the <code>DataScience</code> module.</p>\n<pre class=\"grvsc-container gatsby-highlight monokai\" data-language=\"ruby\" data-index=\"7\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\"># spec/data_science_spec.rb</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">require</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&#39;./data_science&#39;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">describe DataScience </span><span class=\"mtk7\">do</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  describe </span><span class=\"mtk6\">&#39;Run Length Encoding&#39;</span><span class=\"mtk1\"> </span><span class=\"mtk7\">do</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    it </span><span class=\"mtk6\">&#39;Counts consecutive occurrences of letters in a string&#39;</span><span class=\"mtk1\"> </span><span class=\"mtk7\">do</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      result </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> </span><span class=\"mtk9 mtki\">DataScience</span><span class=\"mtk1\">.rle(</span><span class=\"mtk6\">&#39;aaaabbbcca&#39;</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      a4 </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> </span><span class=\"mtk9 mtki\">Tuple</span><span class=\"mtk1\">.</span><span class=\"mtk7\">new</span><span class=\"mtk1\">(</span><span class=\"mtk6\">&#39;a&#39;</span><span class=\"mtk1\">, </span><span class=\"mtk4\">4</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      b3 </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> </span><span class=\"mtk9 mtki\">Tuple</span><span class=\"mtk1\">.</span><span class=\"mtk7\">new</span><span class=\"mtk1\">(</span><span class=\"mtk6\">&#39;b&#39;</span><span class=\"mtk1\">, </span><span class=\"mtk4\">3</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      c2 </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> </span><span class=\"mtk9 mtki\">Tuple</span><span class=\"mtk1\">.</span><span class=\"mtk7\">new</span><span class=\"mtk1\">(</span><span class=\"mtk6\">&#39;c&#39;</span><span class=\"mtk1\">, </span><span class=\"mtk4\">2</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      a1 </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> </span><span class=\"mtk9 mtki\">Tuple</span><span class=\"mtk1\">.</span><span class=\"mtk7\">new</span><span class=\"mtk1\">(</span><span class=\"mtk6\">&#39;a&#39;</span><span class=\"mtk1\">, </span><span class=\"mtk4\">1</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      expect(result).to eq([a4, b3, c2, a1])</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk7\">end</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk7\">end</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">end</span></span></span></code></pre>\n<p>To run the tests, open a terminal and enter:</p>\n<pre class=\"grvsc-container gatsby-highlight monokai\" data-language=\"bash\" data-index=\"8\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">bundle </span><span class=\"mtk9\">exec</span><span class=\"mtk1\"> rspec</span></span></span></code></pre>\n<p>The test should fail because the module hasn't been defined:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 582px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/9b9f2a4c1cde8a123dfa7293a3b69639/7c1cd/interview-q-tdd-module-undefined.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 76.97594501718214%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsSAAALEgHS3X78AAACQUlEQVQ4y3WUua7UQBRE5xsggBnvS7vdXsfL2MzCIiECQiRC+AQkIhIC9EQCX13U7WcP89AjOKq+3Xa5brvtjTd/hPv+O7x3X7F9+w3Fhy/48dPD3d0T/Pr9FJ8+OyiqA+q2pdaomj1MUWHreHC8wOL6IbwgsrpJTQu9n5E1I7J2QjkcMZ1a9IcC41QSGpUNumFE2w007qyasrYPyPLiaia6qVOFS25wznNcjEHHsdEVtCqgVIk0rxArjZypNG/OFqQW0iy3Rt5qKIOOgzmMrQ6kDUL0VMM15QdIqAFbe+b62FK3boAdx5al5ZWNwxsDUtNwjhIMZCKv4xRH6ilOrL5kLWsNr2ujGAVVk5JUJA8j+Dbh0n8oibgQUzUplovUUstNYqaXAN6Cv7DW1tChYUYVOklAeqZIxYymO66vODftPcbVcE0l7Y7RfftiJsnWN3jLY3M2obs8NV0SSrKeJsOS0NwYuqvZOpZUN/PWcN0DmdyR7Q1r7Txi9l9DwyNyJCNff+b5SHgURDPWimjZXxLx+Lic9wRXNLiaejftb4LMIG8HFMMLGGq5H6HrAarcQxUNcqrWJULisHZZO1UP1zQPjK6fnqka1OOE/vwKuu3RzkcEeYnnUYptpEiKHfdxFyZwWDsxSTI4rF1J+c/3vPF4cchD61NlL+NEPSBKUkRcj9PMXidzIU9AIrXAOlHZ34SFKXA+TJi7HhW/zTenC45MPOx7y4E/g65uuT6gF+1HdOxqHg52ra8b+7MI+BAx/AMmKa5S1N1leQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"interview question tdd module undefined\"\n        title=\"interview question tdd module undefined\"\n        src=\"/static/9b9f2a4c1cde8a123dfa7293a3b69639/7c1cd/interview-q-tdd-module-undefined.png\"\n        srcset=\"/static/9b9f2a4c1cde8a123dfa7293a3b69639/772e8/interview-q-tdd-module-undefined.png 200w,\n/static/9b9f2a4c1cde8a123dfa7293a3b69639/e17e5/interview-q-tdd-module-undefined.png 400w,\n/static/9b9f2a4c1cde8a123dfa7293a3b69639/7c1cd/interview-q-tdd-module-undefined.png 582w\"\n        sizes=\"(max-width: 582px) 100vw, 582px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>Let's fix that by defining the module, method and Tuple struct in <code>data_science.rb</code>:</p>\n<pre class=\"grvsc-container gatsby-highlight monokai\" data-language=\"ruby\" data-index=\"9\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\"># data_science.rb</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\"># Unlike Python, Ruby doesn&#39;t have native tuples.</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">Tuple </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> </span><span class=\"mtk9 mtki\">Struct</span><span class=\"mtk1\">.</span><span class=\"mtk7\">new</span><span class=\"mtk1\">(</span><span class=\"mtk4\">:_1</span><span class=\"mtk1\">, </span><span class=\"mtk4\">:_2</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">module</span><span class=\"mtk1\"> </span><span class=\"mtk5 mtku\">DataScience</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk3\"># RLE (run-length encoding): Encode each character by the number of times it appears consecutively.</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk7\">def</span><span class=\"mtk1\"> </span><span class=\"mtk5\">self.rle</span><span class=\"mtk1\">(</span><span class=\"mtk10 mtki\">input</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\"># TBD...</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk7\">end</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">end</span></span></span></code></pre>\n<p>Run the test again with <code>bundle exec rspec</code>. This time it fails comparing an array of tuples (expected value from test) to <code>nil</code> which is what is currently being returned because the <code>rle</code> method has not yet been implemented:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 800px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/37024f1557112d0e40d33761156b59a2/ae953/interview-q-tdd-method-nil.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 34.89399293286219%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsSAAALEgHS3X78AAABE0lEQVQoz22RW2rDMBBFvYlCiS1Zo7fsOA2EQqC/hWygf9n/Om7vxE4oTT4OF1nS8cyok9MF76cffH6fcb2+4fwVIHFCqg1mFPRmxGDdE7r3iq7mhLlGjNZj1zc4KYgxwYeEmAoC8SnDxwzhN2HqxVc/UTrrAg654ZgLjiXjg7lQMlOyZ04URJWHiMTMKnYeI6WOyJb3ddfT6kePSrEwDRnsWr594GEl3C44nv8rkI2HUFsrbY86HZCIawuEa2E6pqt7mNTQ5wmDxLU1bfk/95bnOmGZZrRSOa91TjrDuGUIOl8eHgwMH8jY8TmV+6MUzmShtFEQeDHpRsjY5Rn9VllfZgxa4Y2GQdfcuxELqZSulf8CLsTElSXlNoIAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"interview question tdd method nil\"\n        title=\"interview question tdd method nil\"\n        src=\"/static/37024f1557112d0e40d33761156b59a2/5a190/interview-q-tdd-method-nil.png\"\n        srcset=\"/static/37024f1557112d0e40d33761156b59a2/772e8/interview-q-tdd-method-nil.png 200w,\n/static/37024f1557112d0e40d33761156b59a2/e17e5/interview-q-tdd-method-nil.png 400w,\n/static/37024f1557112d0e40d33761156b59a2/5a190/interview-q-tdd-method-nil.png 800w,\n/static/37024f1557112d0e40d33761156b59a2/ae953/interview-q-tdd-method-nil.png 1132w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h2>Implementation</h2>\n<p>Now that there's a failing test and a scaffold of the module, we can finally implement the <code>rle</code> method to make the test pass. I filled in lines of code to go along with the English logic written earlier. To keep track of letter counters, a hash is used to conveniently lookup letters that have already been seen and increment their counters. Leaving in the English as explanatory comments (if strictly following clean code principles, further methods with more meaningful names can be extracted and comments removed, but for this exercise, simpler to read all the code linearly from top to bottom):</p>\n<pre class=\"grvsc-container gatsby-highlight monokai\" data-language=\"ruby\" data-index=\"10\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\"># data_science.rb</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\"># Unlike Python, Ruby doesn&#39;t have native tuples.</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">Tuple </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> </span><span class=\"mtk9 mtki\">Struct</span><span class=\"mtk1\">.</span><span class=\"mtk7\">new</span><span class=\"mtk1\">(</span><span class=\"mtk4\">:_1</span><span class=\"mtk1\">, </span><span class=\"mtk4\">:_2</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">module</span><span class=\"mtk1\"> </span><span class=\"mtk5 mtku\">DataScience</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk3\"># RLE (run-length encoding): Encode each character by the number of times it appears consecutively.</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk7\">def</span><span class=\"mtk1\"> </span><span class=\"mtk5\">self.rle</span><span class=\"mtk1\">(</span><span class=\"mtk10 mtki\">input</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\"># Keep track of letters that have been seen for incrementing consecutive counter.</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    track </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> {}</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\"># Array of results to be returned.</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    result </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> []</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\"># Initialize based on first character in input string</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    previous_letter </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> input[</span><span class=\"mtk4\">0</span><span class=\"mtk1\">]</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    track[previous_letter] </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> </span><span class=\"mtk9 mtki\">Tuple</span><span class=\"mtk1\">.</span><span class=\"mtk7\">new</span><span class=\"mtk1\">(previous_letter, </span><span class=\"mtk4\">1</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    result </span><span class=\"mtk7\">&lt;&lt;</span><span class=\"mtk1\"> track[previous_letter]</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\"># Process input string one character at a time, starting from second character</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk7\">for</span><span class=\"mtk1\"> i </span><span class=\"mtk7\">in</span><span class=\"mtk1\"> </span><span class=\"mtk4\">1</span><span class=\"mtk1\">..input.length </span><span class=\"mtk7\">-</span><span class=\"mtk1\"> </span><span class=\"mtk4\">1</span><span class=\"mtk1\"> </span><span class=\"mtk7\">do</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      current_letter </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> input[i]</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk3\"># If the current letter was just seen in the previous iteration, increment its tracking counter,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk3\"># but do not append anything to results because its already been appended.</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      track[previous_letter]._2 </span><span class=\"mtk7\">+=</span><span class=\"mtk1\"> </span><span class=\"mtk4\">1</span><span class=\"mtk1\"> </span><span class=\"mtk7\">if</span><span class=\"mtk1\"> current_letter </span><span class=\"mtk7\">==</span><span class=\"mtk1\"> previous_letter</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk3\"># Otherwise start tracking a new letter and add it to results</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk7\">if</span><span class=\"mtk1\"> current_letter </span><span class=\"mtk7\">!=</span><span class=\"mtk1\"> previous_letter</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        track[current_letter] </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> </span><span class=\"mtk9 mtki\">Tuple</span><span class=\"mtk1\">.</span><span class=\"mtk7\">new</span><span class=\"mtk1\">(current_letter, </span><span class=\"mtk4\">1</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        result </span><span class=\"mtk7\">&lt;&lt;</span><span class=\"mtk1\"> track[current_letter]</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk7\">end</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk3\"># The letter that has just been processed (current) now becomes the previous for next iteration</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      previous_letter </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> current_letter</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk7\">end</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    result</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk7\">end</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">end</span></span></span></code></pre>\n<p>This time the test should pass:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 561px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/3b64fe327688c353d0b178a10aa3cef3/410f3/interview-q-tdd-method-pass.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 20.499108734402853%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAAsSAAALEgHS3X78AAAA2klEQVQY01WOzU6EMBzEeQcTo7T0AyjQLltKgSW6D7AeTLz7HG6yJz25B33osW0MxsNkJv+PyS/jx1ew5w+wpzPo6YL65YL3a4fr5w2+vm/xdr6D8x5+PmA/jOitC3mBKGsUXP4TZQIZLTvkQiPnLYg0IKVBZzialqDpKFrN0jOX1SZZKZCC454UyXPKk8fSrNUa08MKO3vovsccslsfYYYJ1i3QO7eR7QeHcVqSbJhFatPbcOfTPhEypSDWEXwZwHcawluIkGXIVd0kukhU1urXm02V+ttHj4U/iPt44h4CfK0AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"tdd interview question method pass\"\n        title=\"tdd interview question method pass\"\n        src=\"/static/3b64fe327688c353d0b178a10aa3cef3/410f3/interview-q-tdd-method-pass.png\"\n        srcset=\"/static/3b64fe327688c353d0b178a10aa3cef3/772e8/interview-q-tdd-method-pass.png 200w,\n/static/3b64fe327688c353d0b178a10aa3cef3/e17e5/interview-q-tdd-method-pass.png 400w,\n/static/3b64fe327688c353d0b178a10aa3cef3/410f3/interview-q-tdd-method-pass.png 561w\"\n        sizes=\"(max-width: 561px) 100vw, 561px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h2>Edge Cases</h2>\n<p>It appears we now have a working solution, but it's good to push it a little with some variety of inputs. In the example given from the original tweet, all the initial letters have some repeating sequences. But what happens if there are letters that repeat, but not sequentially? For example an input of \"abab\" should return <code>[(\"a\", 1), (\"b\", 1), (\"a\", 1), (\"b\", 1)]</code>. Let's add a test for this case:</p>\n<pre class=\"grvsc-container gatsby-highlight monokai\" data-language=\"ruby\" data-index=\"11\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">require</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&#39;./data_science&#39;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">describe DataScience </span><span class=\"mtk7\">do</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  describe </span><span class=\"mtk6\">&#39;Run Length Encoding&#39;</span><span class=\"mtk1\"> </span><span class=\"mtk7\">do</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    it </span><span class=\"mtk6\">&#39;Counts consecutive occurrences of letters in a string&#39;</span><span class=\"mtk1\"> </span><span class=\"mtk7\">do</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk3\"># ...</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk7\">end</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    it </span><span class=\"mtk6\">&#39;Handles alternating letters&#39;</span><span class=\"mtk1\"> </span><span class=\"mtk7\">do</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      result </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> </span><span class=\"mtk9 mtki\">DataScience</span><span class=\"mtk1\">.rle(</span><span class=\"mtk6\">&#39;abab&#39;</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      a1 </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> </span><span class=\"mtk9 mtki\">Tuple</span><span class=\"mtk1\">.</span><span class=\"mtk7\">new</span><span class=\"mtk1\">(</span><span class=\"mtk6\">&#39;a&#39;</span><span class=\"mtk1\">, </span><span class=\"mtk4\">1</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      b1 </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> </span><span class=\"mtk9 mtki\">Tuple</span><span class=\"mtk1\">.</span><span class=\"mtk7\">new</span><span class=\"mtk1\">(</span><span class=\"mtk6\">&#39;b&#39;</span><span class=\"mtk1\">, </span><span class=\"mtk4\">1</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      expect(result).to eq([a1, b1, a1, b1])</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk7\">end</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk7\">end</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">end</span></span></span></code></pre>\n<p>The tests are still passing so this case is handled, good!</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 554px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/1686e63f04ba4926e98f935e05c26161/04abd/interview-q-tdd-two-passing.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 20.75812274368231%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAAsSAAALEgHS3X78AAAA20lEQVQY02WPvU7DMBwH8wKwIAFqEjvOh+ukqePEaVXE3AoYmFh5ASQkYGHg4Q/XQBeG0/30X3xOxO4J8fBFvn8LfCDvPrl4feb85cDZ+yP5/S3z4Bkmj3UTbgw7OBUFuVT/SDJtWZgtqfakyzlyPVqunOFy7EiNRqmaoqyRqjo5zSWLTET/bEkWHkm0MUyjwzlH24btJ3yoWHcWH8q6to9lXW+jj8zbHb11jH7Dam0DQywXRUkitKa48ciAsCuUs8iNQ06WShtU1VDW+uSybqh/71WzjP7bxy9/A9gzd5dWtKgfAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"interview question tdd two passing\"\n        title=\"interview question tdd two passing\"\n        src=\"/static/1686e63f04ba4926e98f935e05c26161/04abd/interview-q-tdd-two-passing.png\"\n        srcset=\"/static/1686e63f04ba4926e98f935e05c26161/772e8/interview-q-tdd-two-passing.png 200w,\n/static/1686e63f04ba4926e98f935e05c26161/e17e5/interview-q-tdd-two-passing.png 400w,\n/static/1686e63f04ba4926e98f935e05c26161/04abd/interview-q-tdd-two-passing.png 554w\"\n        sizes=\"(max-width: 554px) 100vw, 554px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>What about if there's only a single character, repeating or not? A few more tests for this:</p>\n<pre class=\"grvsc-container gatsby-highlight monokai\" data-language=\"ruby\" data-index=\"12\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">require</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&#39;./data_science&#39;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">describe DataScience </span><span class=\"mtk7\">do</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  describe </span><span class=\"mtk6\">&#39;Run Length Encoding&#39;</span><span class=\"mtk1\"> </span><span class=\"mtk7\">do</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    it </span><span class=\"mtk6\">&#39;Counts consecutive occurrences of letters in a string&#39;</span><span class=\"mtk1\"> </span><span class=\"mtk7\">do</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk3\"># ...</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk7\">end</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    it </span><span class=\"mtk6\">&#39;Handles alternating letters&#39;</span><span class=\"mtk1\"> </span><span class=\"mtk7\">do</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk3\"># ...</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk7\">end</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    it </span><span class=\"mtk6\">&#39;Handles a single character occurring once&#39;</span><span class=\"mtk1\"> </span><span class=\"mtk7\">do</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      result </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> </span><span class=\"mtk9 mtki\">DataScience</span><span class=\"mtk1\">.rle(</span><span class=\"mtk6\">&#39;z&#39;</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      z1 </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> </span><span class=\"mtk9 mtki\">Tuple</span><span class=\"mtk1\">.</span><span class=\"mtk7\">new</span><span class=\"mtk1\">(</span><span class=\"mtk6\">&#39;z&#39;</span><span class=\"mtk1\">, </span><span class=\"mtk4\">1</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      expect(result).to eq([z1])</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk7\">end</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    it </span><span class=\"mtk6\">&#39;Handles a single character occurring multiple times&#39;</span><span class=\"mtk1\"> </span><span class=\"mtk7\">do</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      result </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> </span><span class=\"mtk9 mtki\">DataScience</span><span class=\"mtk1\">.rle(</span><span class=\"mtk6\">&#39;zzzzz&#39;</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      z1 </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> </span><span class=\"mtk9 mtki\">Tuple</span><span class=\"mtk1\">.</span><span class=\"mtk7\">new</span><span class=\"mtk1\">(</span><span class=\"mtk6\">&#39;z&#39;</span><span class=\"mtk1\">, </span><span class=\"mtk4\">5</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      expect(result).to eq([z1])</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk7\">end</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk7\">end</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">end</span></span></span></code></pre>\n<p>All tests still passing:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 538px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/b002ae0abef36b243863d349d1960a84/9516f/interview-q-tdd-four-passing.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 21.561338289962826%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAAsSAAALEgHS3X78AAAA70lEQVQY01WPy0rDQBSG8wauBJu0STpJZtImc8k0l3pBUBQXrn0Il7osgoKIvvXntIrg4uP7OYtz/hNl2wfS+xfS2yeyu2dmNzsed5d8vB/x+nbC59cxV9eSbnOG8x7jPK7bHDxPcxbZ8h9RoixxsyWWPUk9MJMjdpBM25h+TJhOE0qZkwtJtiyCS/Jfz+Yp8SIjCcQh7w9EUik6awKWOmTfOVrtkdKizUhZGRrtWLcabR1NazC2o163+M1AaxyrRof2PcuiIsrCEnHeIy4GcqcR3iKmDjE6VNNQlFVoqCgq9edKrQ6W9Y9FKQ+z/QffJP956HCDfpMAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"interview question tdd four passing\"\n        title=\"interview question tdd four passing\"\n        src=\"/static/b002ae0abef36b243863d349d1960a84/9516f/interview-q-tdd-four-passing.png\"\n        srcset=\"/static/b002ae0abef36b243863d349d1960a84/772e8/interview-q-tdd-four-passing.png 200w,\n/static/b002ae0abef36b243863d349d1960a84/e17e5/interview-q-tdd-four-passing.png 400w,\n/static/b002ae0abef36b243863d349d1960a84/9516f/interview-q-tdd-four-passing.png 538w\"\n        sizes=\"(max-width: 538px) 100vw, 538px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>How about en empty string? Hmm... what should the result be in this case? If this were for a product, this would be a good case to discuss with the product owner or with the team if there's an established standard on how to handle the empty case. For this exercise, let's assume an empty array should be returned to indicate there are no sequences.</p>\n<pre class=\"grvsc-container gatsby-highlight monokai\" data-language=\"ruby\" data-index=\"13\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">require</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&#39;./data_science&#39;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">describe DataScience </span><span class=\"mtk7\">do</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  describe </span><span class=\"mtk6\">&#39;Run Length Encoding&#39;</span><span class=\"mtk1\"> </span><span class=\"mtk7\">do</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    it </span><span class=\"mtk6\">&#39;Counts consecutive occurrences of letters in a string&#39;</span><span class=\"mtk1\"> </span><span class=\"mtk7\">do</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk3\"># ...</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk7\">end</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    it </span><span class=\"mtk6\">&#39;Handles alternating letters&#39;</span><span class=\"mtk1\"> </span><span class=\"mtk7\">do</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk3\"># ...</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk7\">end</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    it </span><span class=\"mtk6\">&#39;Handles a single character occurring once&#39;</span><span class=\"mtk1\"> </span><span class=\"mtk7\">do</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk3\"># ...</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk7\">end</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    it </span><span class=\"mtk6\">&#39;Handles a single character occurring multiple times&#39;</span><span class=\"mtk1\"> </span><span class=\"mtk7\">do</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk3\"># ...</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk7\">end</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    it </span><span class=\"mtk6\">&#39;Returns en empty array when given an empty string&#39;</span><span class=\"mtk1\"> </span><span class=\"mtk7\">do</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      result </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> </span><span class=\"mtk9 mtki\">DataScience</span><span class=\"mtk1\">.rle(</span><span class=\"mtk6\">&#39;&#39;</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      expect(result).to eq([])</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk7\">end</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk7\">end</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">end</span></span></span></code></pre>\n<p>This time get a failure:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 800px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/f47192ed1043b62c9e06d77824d7c6a6/8ecb0/interview-q-tdd-empty-fail.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 51.66835187057634%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAABO0lEQVQoz32SS3LDIBBEdQ1LYCG+AiE7TrLOAVKVZcqr5P636DRY/lQiZfHceFDPDAyNfHnH7vUT4e0DX98tzucd8iHCjxNCTJD9gE72EHv1h7J31SvNSNOYJvSDxn6wxFXttWHMQGm7ylqymtBYj+f5iEOcKk9MfkgZp2nGOCZ4FvTUMF70Sim2mrCTCoZHStx0RFd6DIwp0m2weWTBH6cGZKURieFaMdYvyH9Y7bAm1J73EiCVgXy8+L4YFlMxP7KVsLQvrUMbR+w81dkLxqCj4U4xaAieQiwFxErXjeZQhjRDzycYUlTnI/R0hMlPt7WKGV2YIHysibZoMid24lSLphChXahY5+EWtSyq+VSE3LOz/o5cuMUUmkBT5nNJfqxTHbihSMe32PJu26oOHdfCBgjjH/j1n9/9AJFYF3zv6c+ZAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"interview question tdd empty case fails\"\n        title=\"interview question tdd empty case fails\"\n        src=\"/static/f47192ed1043b62c9e06d77824d7c6a6/5a190/interview-q-tdd-empty-fail.png\"\n        srcset=\"/static/f47192ed1043b62c9e06d77824d7c6a6/772e8/interview-q-tdd-empty-fail.png 200w,\n/static/f47192ed1043b62c9e06d77824d7c6a6/e17e5/interview-q-tdd-empty-fail.png 400w,\n/static/f47192ed1043b62c9e06d77824d7c6a6/5a190/interview-q-tdd-empty-fail.png 800w,\n/static/f47192ed1043b62c9e06d77824d7c6a6/8ecb0/interview-q-tdd-empty-fail.png 989w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>The problem happens at lines 14-16 of the <code>rle</code> method which initializes the results. In Ruby, getting the first character of an empty string returns nil. So the code adds a Tuple of <code>(nil, 1)</code> to results and returns an array with this entry:</p>\n<pre class=\"grvsc-container gatsby-highlight monokai\" data-language=\"ruby\" data-index=\"14\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">previous_letter </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> input[</span><span class=\"mtk4\">0</span><span class=\"mtk1\">]</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">track[previous_letter] </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> </span><span class=\"mtk9 mtki\">Tuple</span><span class=\"mtk1\">.</span><span class=\"mtk7\">new</span><span class=\"mtk1\">(previous_letter, </span><span class=\"mtk4\">1</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">result </span><span class=\"mtk7\">&lt;&lt;</span><span class=\"mtk1\"> track[previous_letter]</span></span></span></code></pre>\n<p>Let's fix this by first checking if the input is an empty string. While we're at it, might as well also check for nil. If this was a Rails project, could use the handy <code>blank?</code> method to check for nil or empty with a single method. But in plain Ruby, can use <code>variable.to_s.empty?</code> as explained in <a href=\"https://stackoverflow.com/a/9915384/3991687\">this SO answer</a>.</p>\n<pre class=\"grvsc-container gatsby-highlight monokai\" data-language=\"ruby\" data-index=\"15\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">module</span><span class=\"mtk1\"> </span><span class=\"mtk5 mtku\">DataScience</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk7\">def</span><span class=\"mtk1\"> </span><span class=\"mtk5\">self.rle</span><span class=\"mtk1\">(</span><span class=\"mtk10 mtki\">input</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk7\">return</span><span class=\"mtk1\"> [] </span><span class=\"mtk7\">if</span><span class=\"mtk1\"> input.to_s.empty?</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\"># rest of the code...</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk7\">end</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">end</span></span></span></code></pre>\n<p>Add another test for nil case and re-run:</p>\n<pre class=\"grvsc-container gatsby-highlight monokai\" data-language=\"ruby\" data-index=\"16\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">require</span><span class=\"mtk1\"> </span><span class=\"mtk6\">&#39;./data_science&#39;</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">describe DataScience </span><span class=\"mtk7\">do</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  describe </span><span class=\"mtk6\">&#39;Run Length Encoding&#39;</span><span class=\"mtk1\"> </span><span class=\"mtk7\">do</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    it </span><span class=\"mtk6\">&#39;Counts consecutive occurrences of letters in a string&#39;</span><span class=\"mtk1\"> </span><span class=\"mtk7\">do</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk3\"># ...</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk7\">end</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    it </span><span class=\"mtk6\">&#39;Handles alternating letters&#39;</span><span class=\"mtk1\"> </span><span class=\"mtk7\">do</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk3\"># ...</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk7\">end</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    it </span><span class=\"mtk6\">&#39;Handles a single character occurring once&#39;</span><span class=\"mtk1\"> </span><span class=\"mtk7\">do</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk3\"># ...</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk7\">end</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    it </span><span class=\"mtk6\">&#39;Handles a single character occurring multiple times&#39;</span><span class=\"mtk1\"> </span><span class=\"mtk7\">do</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      </span><span class=\"mtk3\"># ...</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk7\">end</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    it </span><span class=\"mtk6\">&#39;Returns en empty array when given an empty string&#39;</span><span class=\"mtk1\"> </span><span class=\"mtk7\">do</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      result </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> </span><span class=\"mtk9 mtki\">DataScience</span><span class=\"mtk1\">.rle(</span><span class=\"mtk6\">&#39;&#39;</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      expect(result).to eq([])</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk7\">end</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    it </span><span class=\"mtk6\">&#39;Returns en empty array when given nil&#39;</span><span class=\"mtk1\"> </span><span class=\"mtk7\">do</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      result </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> </span><span class=\"mtk9 mtki\">DataScience</span><span class=\"mtk1\">.rle(</span><span class=\"mtk4\">nil</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">      expect(result).to eq([])</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk7\">end</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">  </span><span class=\"mtk7\">end</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">end</span></span></span></code></pre>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 563px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/6c1d073baaa7e46d6b5cb70b7aac4516/7cb89/interview-q-tdd-six-passing.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 23.268206039076375%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsSAAALEgHS3X78AAAA+0lEQVQY012OSU7EMBREcwDYICFBBk+Juzt0Bg8ZnBO06AXiDmwRKxASrDh5YbtJFiye6n/bKr+kKGsUwvOXuTwg21ceiUxWIEyA8jLmSkE5csJi/ichTz8gj58g5y/Q0zdu315x9XHG9fszbl5OUNrCDBOUsWg6hWFy2NdHZAXdylfCJ0kqJFJSIqPeini8Tco57hhDytj2MBQEwh4yzQnuPet52KPh4BzMPKFuGgyLw7gsaJTG6E363qDXBl2vo6EyA7QdMbklzuPsUB9bdMrAjvOlkDoDumiQ5gFMt6C2Q2FbiEMN7u2ZqMBLCVHJmJd5FynlbrsPhMJf8O+TFb1gofcAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"interview question tdd six passing\"\n        title=\"interview question tdd six passing\"\n        src=\"/static/6c1d073baaa7e46d6b5cb70b7aac4516/7cb89/interview-q-tdd-six-passing.png\"\n        srcset=\"/static/6c1d073baaa7e46d6b5cb70b7aac4516/772e8/interview-q-tdd-six-passing.png 200w,\n/static/6c1d073baaa7e46d6b5cb70b7aac4516/e17e5/interview-q-tdd-six-passing.png 400w,\n/static/6c1d073baaa7e46d6b5cb70b7aac4516/7cb89/interview-q-tdd-six-passing.png 563w\"\n        sizes=\"(max-width: 563px) 100vw, 563px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>Success, edge cases are now passing!</p>\n<p>For the complete code and project, go ahead and <a href=\"https://github.com/danielabar/RLE\">clone it on Github</a>.</p>\n<h2>Conclusion</h2>\n<p>To circle back to the original tweet that inspired all this, I didn't time myself exactly but estimate spent approximately an hour. Figuring out the actual logic was around half hour, with some extra time researching how to model Tuples in Ruby. Then more time researching how to setup a plain Ruby project with RSpec, and time to write the tests. Then a little more time thinking of edge cases. This was definitely a useful exercise, I learned a few new things including:</p>\n<ul>\n<li>The term \"run length encoding\"</li>\n<li>Use of Ruby <code>Struct</code> to model a tuple.</li>\n<li>Use of <code>some_var.to_s.empty?</code> to check for nil or empty in a single expression.</li>\n<li>How to setup a plain Ruby project with RSpec tests.</li>\n</ul>\n<p>What do you think of all this? Tweet me if you have some thoughts on - is there a faster/better way to implement run length encoding in Ruby? Have I missed some test cases? What do you think of this style of interview question?</p>\n<h2>Related Content</h2>\n<p>The following section contains affiliate links for related content you may find useful. I get a small commission from purchases which helps me maintain this site.</p>\n<p>Looking to level up on Rails 6? You might like this book: <a href=\"https://amzn.to/3wS8GNA\">Agile Web Development with Rails 6</a>.</p>\n<p>Working on a large legacy code base? This book <a href=\"https://amzn.to/3accwHF\">Working Effectively with Legacy Code</a> is a must read.</p>\n<p>Martin Fowler's <a href=\"https://amzn.to/2RFC0Xn\">Refactoring: Improving the Design of Existing Code</a> is also amazingly useful on this topic.</p>\n<p>Is your organization introducing microservices? This book <a href=\"https://amzn.to/3uSxa87\">Building Event-Driven Microservices: Leveraging Organizational Data at Scale</a> is a fantastic resource on this topic.</p>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n  .monokai {\n    background-color: #272822;\n    color: #f8f8f2;\n  }\n  .monokai .mtku {\n    text-decoration: underline;\n    text-underline-position: under;\n  }\n  .monokai .mtki { font-style: italic; }\n  .monokai .mtk3 { color: #75715E; }\n  .monokai .mtk6 { color: #E6DB74; }\n  .monokai .mtk1 { color: #F8F8F2; }\n  .monokai .mtk4 { color: #AE81FF; }\n  .monokai .mtk7 { color: #F92672; }\n  .monokai .mtk9 { color: #66D9EF; }\n  .monokai .mtk5 { color: #A6E22E; }\n  .monokai .mtk10 { color: #FD971F; }\n  .monokai .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));\n  }\n</style>","title":"Solving a Python Interview Question in Ruby","description":"Learn how to model tuples in Ruby and solve a Python data science interview question in Ruby."}}}