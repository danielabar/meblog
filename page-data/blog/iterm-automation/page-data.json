{"componentChunkName":"component---src-templates-post-js","path":"/blog/iterm-automation/","result":{"data":{"markdownRemark":{"html":"<p>Do you find yourself opening many iTerm tabs every day to do the same daily routine such as opening editors, running a build, starting up various services etc? If yes, good news, this tedious daily startup routine can be automated, saving you precious minutes each day. This post will walk you through how to achieve this automation using <a href=\"https://iterm2.com/\">iTerm</a> and Python.</p>\n<h2>Create Script</h2>\n<p>To get started, make sure iTerm is open, then select from the menu: Scripts -> Manage -> New Python Script as shown below:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 676px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/f6d76417ae3fa8b6bfd758ac3501ebad/9bb7a/iterm-menu-new-script.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 37.1301775147929%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsSAAALEgHS3X78AAABbUlEQVQoz53O3U/TUBiA8SLqsltvCESEKt1a2daP0w9Kuy7rykbdcKWaLCZ8GEn42EQviNfe4pX6Fz8eJxfAFfHid96ck5wnrzJOA0TcQtgmrrDwJFv4NEU817AD1oIDWsNvvOpdsbQ1Rcu/0z76TXTwk/jwF5vFNcs7P3idnqI8i0asFl9ZGU95XsxYHl/ilnsMC53BeJPdosHevk6crtDNlmi0G0SdNpN3bymLIZP3BW8GKd1tgWaaKFW3R7V/QjU7nqv0PvGiP8DLVJyshp1pWFkdMzMQOzXUJCDs5XyezTi/mHJ6ds7s8gsD+We16aAomqyqBsrLW9SWnL7k3SPf1k3sMOLDZMJoNKIvQ7t5TreTsG4KGdTlYbh3LBiCR4Yzt3DL37tSsxBRwsejQ5IkwfM8fN8nDrdQLfcm+BB159/ULJp+SFmWdLopQgZdPyCXW2644X8E5Xxct6nIbZ/WLZ7UzLmKbrOoO/wBN7PdvRdocBQAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"iterm menu new script\"\n        title=\"iterm menu new script\"\n        src=\"/static/f6d76417ae3fa8b6bfd758ac3501ebad/9bb7a/iterm-menu-new-script.png\"\n        srcset=\"/static/f6d76417ae3fa8b6bfd758ac3501ebad/772e8/iterm-menu-new-script.png 200w,\n/static/f6d76417ae3fa8b6bfd758ac3501ebad/e17e5/iterm-menu-new-script.png 400w,\n/static/f6d76417ae3fa8b6bfd758ac3501ebad/9bb7a/iterm-menu-new-script.png 676w\"\n        sizes=\"(max-width: 676px) 100vw, 676px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>If prompted, go ahead and download the Python runtime:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 434px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/c6b6fab2ae5ed392a0f1b6faec6db7e8/ade6e/download-runtime.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 40.78341013824885%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsSAAALEgHS3X78AAABeklEQVQoz11RSW7CQBDkCxwTESIQQQSMPbbHC9jIQUICW6xecC4cyCUJ/8gD8oycorywMt0sWQ6l7im7a6prKle6hPCH0FwffXdwge6d+yPvej6C4RBBGCIIgj8If3GV254Oz7YghQWHqkXVhmWasC0TjrS5WoonmOZP/x/0rVLraHAdB9pIoi8dWEosjmMU2y3yosB6s0FBdb1GlmXYKn48HkPXdRYQQjCoZ8Gb+6NgtV1HtVaHMC1MJhNslNBqtcJyueQ+SZILl6Yp5osF5vMFn2fKwMUhCdKqjWYbjdYdDMNQP87ZSVmWDBIi5HnObs98lqXserfbcX40exGUUsJRTsn+dDplUXJCK1M/m83geR5jMBjA91z4vq9mXOYoZ3ZYp5VV8Bw2P4SyfspFqBspKxokF4fDAfv9Ex6iEM34De7zF0YvHxi+fqK1ej8KXnd6PKzpBvrGGQL6CXQW6pJwNOLHiKJIuZLoegmM6BFmVEBEJbr+gnW+Af0pESNQCB0fAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"download runtime\"\n        title=\"download runtime\"\n        src=\"/static/c6b6fab2ae5ed392a0f1b6faec6db7e8/ade6e/download-runtime.png\"\n        srcset=\"/static/c6b6fab2ae5ed392a0f1b6faec6db7e8/772e8/download-runtime.png 200w,\n/static/c6b6fab2ae5ed392a0f1b6faec6db7e8/e17e5/download-runtime.png 400w,\n/static/c6b6fab2ae5ed392a0f1b6faec6db7e8/ade6e/download-runtime.png 434w\"\n        sizes=\"(max-width: 434px) 100vw, 434px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>Next choose the Basic environment (Full Environment is only for more complex scripts that need to install other packages, that won't be necessary for simply opening tabs and running commands):</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 475px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/b2fe08d8a61b87de8b81ac2079fc5a60/466da/choose-python-env.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 69.26315789473684%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsSAAALEgHS3X78AAACJ0lEQVQ4y51USa7TQBD1SWADKyQyKMnPhOMkTuw4sZ04kzLyM1gJGZQvsUAIroE4BRI7JI7BgiOw4ARILB5+9dVR/mdYsHiqruryq65X3dZSqRTyuRxygqzYbPbW5vN5ZDIZxONxJBKJf0LlaPzQ81yYNUvgex7qdQu2bcN1XVSrVbAoiS+RTqfvgDHmaTyFUTYx7HsYDdvQS1U4jhMV8VCr1SLyupD/CY1G47zmN+VyGVoqU8BxVsK3Lzt8/3rEflJE0w2wXi9hWdaZ1DTNO2uiUqlITMUNw4D2NPUM7/cx/Pj0AD8/P8S77RNYbh83pyMOhwN2ux32+72A/mazOceGw6EQkZDFhTCbL6DTKOPD60f4+OYx2raOhuNiMOgjCAJ0Oh1Bt9tFu90WqBj3fyPkhGuWA6NqQzdqMOt2lGDKJjVhW7QcjmrvEiQiqOctYTQUy6LwdQxGE9gNB77vYT6fYzQaYTweCyi60pFQOiqcNSQhExbLELPnKwTtAG6rhevFArPZTLBcLkUv3/fR6/Wk/X6/L1aBUggh70+42WEdbvDy1Vs40QmZcDqdsN1uz4MgKf0wDMUyxsGsViuxLKTrejSUqytcr0KELw4IIqErlbJUY5tseTqdSruX95Ga0Vf6qbjcw6uIUA2gVCrJEOhzrSz3/gbmFAoFFItFeara/bdIe//tqtglGI/FYkI0mUxEazlhMpnE/4Kk/JE0m020okHypL8AQOMFBTh4ei0AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"choose python environment\"\n        title=\"choose python environment\"\n        src=\"/static/b2fe08d8a61b87de8b81ac2079fc5a60/466da/choose-python-env.png\"\n        srcset=\"/static/b2fe08d8a61b87de8b81ac2079fc5a60/772e8/choose-python-env.png 200w,\n/static/b2fe08d8a61b87de8b81ac2079fc5a60/e17e5/choose-python-env.png 400w,\n/static/b2fe08d8a61b87de8b81ac2079fc5a60/466da/choose-python-env.png 475w\"\n        sizes=\"(max-width: 475px) 100vw, 475px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>Choose Simple script template (because the script we will write will simply run its commands and then exit, it doesn't need to stay open listening for iTerm events):</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 482px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/d021707f4cf4637a49320a48dcf91a52/37e0d/choose-script-template.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 68.04979253112033%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsSAAALEgHS3X78AAACEUlEQVQ4y51UyY7aQBDle1jEIkAwLMbGG9gGbAyGERD2JaBRcsl5znPIIT+Qwyi/EOXvXvwa2fLMIYlyeKrq7upXr6rcTj08PKBWq6Fer8doNBool8soFAooFovC/g2My+VySDmOA01T0TNNWJaFfr+PwWCAZrOJSqWCarX6T6CAbDaLVK/XgzeZwbIH0A1DELquC9u2YYZJkmBscm2E8bS8oygKMpkMUtv9CR9vn/D0+QvGkwCj0Qin0wnj8ThUrsWXdF2P1yRmNQT3eCbL8p3QNA0slx/CQwfdbheTyQSXywWHwwHH4xHX6xXn81n4xO12w3w+x2w2EzZKFhN6rofHYC6GwU32z/d9odTzPKE06dNSJZVF6kgal2z2TGi6du9JqJYBVKqqqrBJPyJ530e2IFZodEMS1YChhVkVXQRwIO/BxpM4mShKxiSdTudO6Jam+Fr7jm+NV7j5AEN/iOPhiN1uh/1+L3pJu1qt3kybCWijQcUKH8tbvA5/4sfwF4LMBo5vY787YL1eh8NaCuLtdovFYoHNZiMGxD2esddU+GYotu7g2X/Bs/eCnmzBdizMZ/cpcuLRRHl5Op0KPwgCoTD5GcVDUVQFUkeCJEtQurI4kCRJgH1J+sk144hWq4V2uy1elngpxUJRvEOBpP8HlEol5PN5QcJWsHySp9NppHj4PyAxfyosnV8Bfygs+Tfd+v4Lahjq7wAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"choose script template\"\n        title=\"choose script template\"\n        src=\"/static/d021707f4cf4637a49320a48dcf91a52/37e0d/choose-script-template.png\"\n        srcset=\"/static/d021707f4cf4637a49320a48dcf91a52/772e8/choose-script-template.png 200w,\n/static/d021707f4cf4637a49320a48dcf91a52/e17e5/choose-script-template.png 400w,\n/static/d021707f4cf4637a49320a48dcf91a52/37e0d/choose-script-template.png 482w\"\n        sizes=\"(max-width: 482px) 100vw, 482px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>Finally, give your script a name to save it, I name mine <code>daily-startup.py</code> but you can choose any name you like:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 340px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/c036064967a69f688e96b5474c7f2ffa/9f933/save-script.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 52.352941176470594%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAAB2ElEQVQoz22Sy27TUBRF/SFMGAASJbHjx41fSe3aaUnjpHk1VEljQykoNEQqkyKhMOYbmCM+gQkDPm1xr9ugpGWwdK7O0dna++hqQRCwg+8RbhP49E96dLMOgeeW84fc9eW+ZhgGlUqFarVaUjEdnpuCF1adPVkVuvCx/GZZq84uuqpCVQ+jVkOzbZu01eIgjmjECdHpGyYXH+icFfTnl5ycv6U3vaDR7iOSY9w0o552tshwkzbi5RgjTNFM06TRaEjLPnXPJ+i+on32mmQwpTU653A852iSExwPcZIM0eoi0m16kgznaEDNa6LVpE0VNU1T0iRBOA6iXpe4O7h+gB+EePdQ9wvDAE/OLWmuFFSxPc/Ddd1yKZbiiRRXxHFMHEVE/2UfEUvnfsJ+s4FpWWi6rpfDLOsSNUN5u5zi23c+39ywXq9ZLpfMZjOKoiDP83/MJcV8SvDuB3b7inx2iu2I2xsqlxts28GWER0ZfYNKoGbqR6hqSSfCNhGWTsWwZV8v36ZZu42sRDeUwneLm/u25C9YLBasViuulh+ZDDOepp94XPzh4PoX+vvfPBr9xLC9h4L3Ua7CMGQwGDAejxkORxymEXvBmGftr3ijL1S7a54k19Qsh78IvF6yL0incQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"save script\"\n        title=\"save script\"\n        src=\"/static/c036064967a69f688e96b5474c7f2ffa/9f933/save-script.png\"\n        srcset=\"/static/c036064967a69f688e96b5474c7f2ffa/772e8/save-script.png 200w,\n/static/c036064967a69f688e96b5474c7f2ffa/9f933/save-script.png 340w\"\n        sizes=\"(max-width: 340px) 100vw, 340px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h2>Script Skeleton</h2>\n<p>This will open the script in an editor with a basic skeleton already filled in. I've added a few comments to explain what each part does:</p>\n<pre class=\"grvsc-container gatsby-highlight monokai\" data-language=\"python\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">#!/usr/bin/env python3.7</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\"># Import the iterm2 python module to provide an interface for communicating with iTerm</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">import</span><span class=\"mtk1\"> iterm2</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\"># All the script logic goes in the main function</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\"># `connection` holds the link to a running iTerm2 process</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\"># `async` indicates that this function can be interrupted. This is required because</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">#  iTerm2 communicates with the script over a websocket connection,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">#  any time the script sends/receives info from iterm2, it has to wait for a few milliseconds.</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk9 mtki\">async</span><span class=\"mtk1\"> </span><span class=\"mtk9 mtki\">def</span><span class=\"mtk1\"> </span><span class=\"mtk5\">main</span><span class=\"mtk1\">(</span><span class=\"mtk10 mtki\">connection</span><span class=\"mtk1\">):</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\"># Get a reference to the iterm2.App object - a singleton that provides access to iTerm2’s windows,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\"># and in turn their tabs and sessions.</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    app </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> </span><span class=\"mtk7\">await</span><span class=\"mtk1\"> iterm2.async_get_app(connection)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\"># Fetch the “current terminal window” from the app (returns None if there is no current window)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    window </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> app.current_terminal_window</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk7\">if</span><span class=\"mtk1\"> window </span><span class=\"mtk7\">is</span><span class=\"mtk1\"> </span><span class=\"mtk7\">not</span><span class=\"mtk1\"> </span><span class=\"mtk4\">None</span><span class=\"mtk1\">:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk3\"># Add a tab to current window using the default profile</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk7\">await</span><span class=\"mtk1\"> window.async_create_tab()</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk7\">else</span><span class=\"mtk1\">:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk3\"># You can view this message in the script console.</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk9\">print</span><span class=\"mtk1\">(</span><span class=\"mtk6\">&quot;No current window&quot;</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\"># Make a connection to iTerm2 and invoke the main function in an asyncio event loop.</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\"># When main returns the program terminates.</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">iterm2.run_until_complete(main)</span></span></span></code></pre>\n<h2>Run Script</h2>\n<p>Currently, all the <code>daily-startup.py</code> script does is to open a new tab in the current terminal window. It doesn't do any real work yet but let's do a quick test and run it just to make sure everything is setup correctly.</p>\n<p>There are several different ways to <a href=\"https://iterm2.com/python-api/tutorial/running.html\">run a script</a> but the easiest is to use the \"Open Quickly\" window. To launch it, enter <kbd>Cmd</kbd> + <kbd>Shift</kbd> + <kbd>O</kbd>, then start typing the name of the script, when its highlighted, hit <kbd>Enter</kbd> to run it. Make sure the focus is in iTerm when you do this:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 487px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/66e01a6789f75f70e996318cf158aac2/7b439/open-quickly.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 40.86242299794661%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsSAAALEgHS3X78AAABr0lEQVQoz43Su2/TUBTHcVMkHlOHZukGQ4SEaKo09r3Xr7iJH0mbVGrd4JpCm/KWgsSGhChL/wo2JhYQEisSQ0kZOgFFMADif/ly47RBLIjho3P8s6905XOMy5ZEeHWizgoLtsOVmkXFFMyZ1kRFsywLKeU/OY6D4Xg+V9OUB4MBS+02trKLF57r4nmermOu5ujshHucjXP9je8TBAFG1Q+YFS62Du7dvsVmnrGzfZ2w4eMoE9cWBUdZk/7k2ZbmH6KG7+kbXlIRMwstRLNLZ3WdqJtpOfUkxYvXCFopzeV1XddotFOCZJVwuVfUqmrq3xQWqirErscYc4N3PH3+jdrjIXuvXxLsfUQ8+YXc/YHY/cn0za8Y2RGnr31hKj8qjPqRUxufx9nGJ4z8O7PZK4zyzhsePTvkwt195h++pXx/SGnrgOnNA2ZufOB8NuRM7/3E2d7wr37kXG+fqd4hF/MXGPN+SElELLa69Pt32NruE4YxNT1tSyiUHpKUCvEfRgMyyqaiVNGH/TpL3Y62QpgkLIYRjSimEcc040RP3EUUqyOQQhRViPE6iWNKSX4Duc8nxXFed1MAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"open quickly\"\n        title=\"open quickly\"\n        src=\"/static/66e01a6789f75f70e996318cf158aac2/7b439/open-quickly.png\"\n        srcset=\"/static/66e01a6789f75f70e996318cf158aac2/772e8/open-quickly.png 200w,\n/static/66e01a6789f75f70e996318cf158aac2/e17e5/open-quickly.png 400w,\n/static/66e01a6789f75f70e996318cf158aac2/7b439/open-quickly.png 487w\"\n        sizes=\"(max-width: 487px) 100vw, 487px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>The script should run and you should see a new tab open.</p>\n<h2>Run Commands in Tabs</h2>\n<p>Now that we know the script is working, let's go ahead and open another tab, and run some commands in each tab. To do this, we need to get the current session associated with each tab, and then use the <code>async_send_text</code> method to send text through to the tab as if a user had entered it directly into the terminal. The newline character <code>\\n</code> must be appended to each command to actually submit it. Edit your script as follows and save it:</p>\n<pre class=\"grvsc-container gatsby-highlight monokai\" data-language=\"python\" data-index=\"1\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">#!/usr/bin/env python3.7</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">import</span><span class=\"mtk1\"> iterm2</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk9 mtki\">async</span><span class=\"mtk1\"> </span><span class=\"mtk9 mtki\">def</span><span class=\"mtk1\"> </span><span class=\"mtk5\">main</span><span class=\"mtk1\">(</span><span class=\"mtk10 mtki\">connection</span><span class=\"mtk1\">):</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    app </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> </span><span class=\"mtk7\">await</span><span class=\"mtk1\"> iterm2.async_get_app(connection)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    window </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> app.current_terminal_window</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk7\">if</span><span class=\"mtk1\"> window </span><span class=\"mtk7\">is</span><span class=\"mtk1\"> </span><span class=\"mtk7\">not</span><span class=\"mtk1\"> </span><span class=\"mtk4\">None</span><span class=\"mtk1\">:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk3\"># Open a tab</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk7\">await</span><span class=\"mtk1\"> window.async_create_tab()</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk3\"># Get the active session in this tab</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        session </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> app.current_terminal_window.current_tab.current_session</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk3\"># Send text to the session as though the user had typed it</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk7\">await</span><span class=\"mtk1\"> session.async_send_text(</span><span class=\"mtk6\">&#39;echo hello</span><span class=\"mtk4\">\\n</span><span class=\"mtk6\">&#39;</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk3\"># Open another tab</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk7\">await</span><span class=\"mtk1\"> window.async_create_tab()</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        session </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> app.current_terminal_window.current_tab.current_session</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk7\">await</span><span class=\"mtk1\"> session.async_send_text(</span><span class=\"mtk6\">&#39;echo world</span><span class=\"mtk4\">\\n</span><span class=\"mtk6\">&#39;</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk7\">else</span><span class=\"mtk1\">:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk9\">print</span><span class=\"mtk1\">(</span><span class=\"mtk6\">&quot;No current window&quot;</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">iterm2.run_until_complete(main)</span></span></span></code></pre>\n<p>Go ahead and use the Open Quickly window again (<kbd>Cmd</kbd> + <kbd>Shift</kbd> + <kbd>O</kbd>) to run <code>daily-startup.py</code> again.</p>\n<p>This time you should get two tabs opened with the first one having run <code>echo hello</code> and the second one having run <code>echo world</code>. Of course, echo-ing various text is not that useful, that was just to demonstrate the concept.</p>\n<p>Now that the basic idea is working, the script can be customized to perform all the daily startup tasks you would run. For example, I run two different projects, one of which is started with <code>docker-compose up</code> and another which also uses docker compose but only to start the databases, then runs a rails server in another tab. I also launch a redis gui in another tab. And open VS Code for each project in more tabs. So my script looks something like this. I find it useful to comment each tab section with the task its performing:</p>\n<pre class=\"grvsc-container gatsby-highlight monokai\" data-language=\"python\" data-index=\"2\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">#!/usr/bin/env python3.7</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">import</span><span class=\"mtk1\"> iterm2</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk9 mtki\">async</span><span class=\"mtk1\"> </span><span class=\"mtk9 mtki\">def</span><span class=\"mtk1\"> </span><span class=\"mtk5\">main</span><span class=\"mtk1\">(</span><span class=\"mtk10 mtki\">connection</span><span class=\"mtk1\">):</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    app </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> </span><span class=\"mtk7\">await</span><span class=\"mtk1\"> iterm2.async_get_app(connection)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    window </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> app.current_terminal_window</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk7\">if</span><span class=\"mtk1\"> window </span><span class=\"mtk7\">is</span><span class=\"mtk1\"> </span><span class=\"mtk7\">not</span><span class=\"mtk1\"> </span><span class=\"mtk4\">None</span><span class=\"mtk1\">:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk3\"># Open VS Code for project A</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk7\">await</span><span class=\"mtk1\"> window.async_create_tab()</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        session </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> app.current_terminal_window.current_tab.current_session</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk7\">await</span><span class=\"mtk1\"> session.async_send_text(</span><span class=\"mtk6\">&#39;cd path/to/projectA</span><span class=\"mtk4\">\\n</span><span class=\"mtk6\">&#39;</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk7\">await</span><span class=\"mtk1\"> session.async_send_text(</span><span class=\"mtk6\">&#39;code .</span><span class=\"mtk4\">\\n</span><span class=\"mtk6\">&#39;</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk3\"># Run the full stack for project A</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk7\">await</span><span class=\"mtk1\"> window.async_create_tab()</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        session </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> app.current_terminal_window.current_tab.current_session</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk7\">await</span><span class=\"mtk1\"> session.async_send_text(</span><span class=\"mtk6\">&#39;cd path/to/projectA</span><span class=\"mtk4\">\\n</span><span class=\"mtk6\">&#39;</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk7\">await</span><span class=\"mtk1\"> session.async_send_text(</span><span class=\"mtk6\">&#39;docker-compose up</span><span class=\"mtk4\">\\n</span><span class=\"mtk6\">&#39;</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk3\"># Open VS Code for project B</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk7\">await</span><span class=\"mtk1\"> window.async_create_tab()</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        session </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> app.current_terminal_window.current_tab.current_session</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk7\">await</span><span class=\"mtk1\"> session.async_send_text(</span><span class=\"mtk6\">&#39;cd path/to/projectB</span><span class=\"mtk4\">\\n</span><span class=\"mtk6\">&#39;</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk7\">await</span><span class=\"mtk1\"> session.async_send_text(</span><span class=\"mtk6\">&#39;code .</span><span class=\"mtk4\">\\n</span><span class=\"mtk6\">&#39;</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk3\"># Run Postgres and Redis for project B</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk7\">await</span><span class=\"mtk1\"> window.async_create_tab()</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        session </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> app.current_terminal_window.current_tab.current_session</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk7\">await</span><span class=\"mtk1\"> session.async_send_text(</span><span class=\"mtk6\">&#39;cd path/to/projectB</span><span class=\"mtk4\">\\n</span><span class=\"mtk6\">&#39;</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk7\">await</span><span class=\"mtk1\"> session.async_send_text(</span><span class=\"mtk6\">&#39;docker-compose up</span><span class=\"mtk4\">\\n</span><span class=\"mtk6\">&#39;</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk3\"># Run Rails server for project B</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk7\">await</span><span class=\"mtk1\"> window.async_create_tab()</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        session </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> app.current_terminal_window.current_tab.current_session</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk7\">await</span><span class=\"mtk1\"> session.async_send_text(</span><span class=\"mtk6\">&#39;cd path/to/projectB</span><span class=\"mtk4\">\\n</span><span class=\"mtk6\">&#39;</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk7\">await</span><span class=\"mtk1\"> session.async_send_text(</span><span class=\"mtk6\">&#39;bundle exec rails s</span><span class=\"mtk4\">\\n</span><span class=\"mtk6\">&#39;</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk3\"># Run a Redis GUI</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk7\">await</span><span class=\"mtk1\"> window.async_create_tab()</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        session </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> app.current_terminal_window.current_tab.current_session</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk7\">await</span><span class=\"mtk1\"> session.async_send_text(</span><span class=\"mtk6\">&#39;redis-commander --redis-port 6381 --redis-db 0</span><span class=\"mtk4\">\\n</span><span class=\"mtk6\">&#39;</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk3\"># ...</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk7\">else</span><span class=\"mtk1\">:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk9\">print</span><span class=\"mtk1\">(</span><span class=\"mtk6\">&quot;No current window&quot;</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">iterm2.run_until_complete(main)</span></span></span></code></pre>\n<p>You can keep customizing until the script is performing all the daily tasks you would otherwise be typing in manually.</p>\n<h2>Backup</h2>\n<p>Last thing to do is to make a backup of the script to avoid losing it should your hard drive crash. The script is located at <code>/Users/yourusername/Library/Application Support/iTerm2/Scripts/script-name.py</code>.</p>\n<h2>Related Content</h2>\n<p>The following section contains affiliate links for related content you may find useful. I get a small commission from purchases which helps me maintain this site.</p>\n<p>Just wanted to share a book I found really incredible in improving my productivity by figuring out <em>when</em> is the best time to do certain types of tasks such as analytical vs insight. The book is <a href=\"https://amzn.to/32dBPF1\">When: The Scientific Secrets of Perfect Timing</a>.</p>\n<p>Looking to level up on Rails 6? You might like this book: <a href=\"https://amzn.to/3wS8GNA\">Agile Web Development with Rails 6</a>.</p>\n<p>Working on a large legacy code base? This book <a href=\"https://amzn.to/3accwHF\">Working Effectively with Legacy Code</a> is a must read.</p>\n<p>Martin Fowler's <a href=\"https://amzn.to/2RFC0Xn\">Refactoring: Improving the Design of Existing Code</a> is also amazingly useful on this topic.</p>\n<p>Is your organization introducing microservices? This book <a href=\"https://amzn.to/3uSxa87\">Building Event-Driven Microservices: Leveraging Organizational Data at Scale</a> is a fantastic resource on this topic.</p>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n  .monokai {\n    background-color: #272822;\n    color: #f8f8f2;\n  }\n  .monokai .mtki { font-style: italic; }\n  .monokai .mtk3 { color: #75715E; }\n  .monokai .mtk7 { color: #F92672; }\n  .monokai .mtk1 { color: #F8F8F2; }\n  .monokai .mtk9 { color: #66D9EF; }\n  .monokai .mtk5 { color: #A6E22E; }\n  .monokai .mtk10 { color: #FD971F; }\n  .monokai .mtk4 { color: #AE81FF; }\n  .monokai .mtk6 { color: #E6DB74; }\n  .monokai .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));\n  }\n</style>","frontmatter":{"title":"Automate Tabs & Commands in iTerm2","date":"16 Feb 2021","description":"Speed up your daily workflow with iTerm2 automation.","featuredImage":{"childImageSharp":{"fluid":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAMEAf/EABUBAQEAAAAAAAAAAAAAAAAAAAEC/9oADAMBAAIQAxAAAAGia5ZKjQv/xAAbEAACAgMBAAAAAAAAAAAAAAABAgAyERIhMf/aAAgBAQABBQIoAviJmGuvKz//xAAVEQEBAAAAAAAAAAAAAAAAAAAAAf/aAAgBAwEBPwFH/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPwE//8QAHRAAAQMFAQAAAAAAAAAAAAAAAAExQQIRIVFxkf/aAAgBAQAGPwJX9H1JVmReFhT/xAAcEAEAAwACAwAAAAAAAAAAAAABABEhMUFxgfD/2gAIAQEAAT8hYBwLHsfGQryermq8SAIW4MNDW2+Z/9oADAMBAAIAAwAAABDfz//EABYRAQEBAAAAAAAAAAAAAAAAAAEAEf/aAAgBAwEBPxB20F//xAAWEQEBAQAAAAAAAAAAAAAAAAABABH/2gAIAQIBAT8QMnFv/8QAHhABAQACAQUBAAAAAAAAAAAAAREAITFBYYHB4fD/2gAIAQEAAT8Qo1DKpU38wJo1DWl5fD3hSF21G/2sWgEEYcpmgc0SNN25IGz5iXpn/9k=","aspectRatio":1.5060240963855422,"src":"/static/fb78290dc10d789b9a100d0d2c95c04f/14b42/automation-2-jan-jakub-nanista-UHyrjKPsshk-unsplash.jpg","srcSet":"/static/fb78290dc10d789b9a100d0d2c95c04f/f836f/automation-2-jan-jakub-nanista-UHyrjKPsshk-unsplash.jpg 200w,\n/static/fb78290dc10d789b9a100d0d2c95c04f/2244e/automation-2-jan-jakub-nanista-UHyrjKPsshk-unsplash.jpg 400w,\n/static/fb78290dc10d789b9a100d0d2c95c04f/14b42/automation-2-jan-jakub-nanista-UHyrjKPsshk-unsplash.jpg 800w,\n/static/fb78290dc10d789b9a100d0d2c95c04f/a7715/automation-2-jan-jakub-nanista-UHyrjKPsshk-unsplash.jpg 1000w","sizes":"(max-width: 800px) 100vw, 800px"}}}},"fields":{"slug":"/blog/iterm-automation/"}}},"pageContext":{"slug":"/blog/iterm-automation/","content":"<p>Do you find yourself opening many iTerm tabs every day to do the same daily routine such as opening editors, running a build, starting up various services etc? If yes, good news, this tedious daily startup routine can be automated, saving you precious minutes each day. This post will walk you through how to achieve this automation using <a href=\"https://iterm2.com/\">iTerm</a> and Python.</p>\n<h2>Create Script</h2>\n<p>To get started, make sure iTerm is open, then select from the menu: Scripts -> Manage -> New Python Script as shown below:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 676px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/f6d76417ae3fa8b6bfd758ac3501ebad/9bb7a/iterm-menu-new-script.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 37.1301775147929%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsSAAALEgHS3X78AAABbUlEQVQoz53O3U/TUBiA8SLqsltvCESEKt1a2daP0w9Kuy7rykbdcKWaLCZ8GEn42EQviNfe4pX6Fz8eJxfAFfHid96ck5wnrzJOA0TcQtgmrrDwJFv4NEU817AD1oIDWsNvvOpdsbQ1Rcu/0z76TXTwk/jwF5vFNcs7P3idnqI8i0asFl9ZGU95XsxYHl/ilnsMC53BeJPdosHevk6crtDNlmi0G0SdNpN3bymLIZP3BW8GKd1tgWaaKFW3R7V/QjU7nqv0PvGiP8DLVJyshp1pWFkdMzMQOzXUJCDs5XyezTi/mHJ6ds7s8gsD+We16aAomqyqBsrLW9SWnL7k3SPf1k3sMOLDZMJoNKIvQ7t5TreTsG4KGdTlYbh3LBiCR4Yzt3DL37tSsxBRwsejQ5IkwfM8fN8nDrdQLfcm+BB159/ULJp+SFmWdLopQgZdPyCXW2644X8E5Xxct6nIbZ/WLZ7UzLmKbrOoO/wBN7PdvRdocBQAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"iterm menu new script\"\n        title=\"iterm menu new script\"\n        src=\"/static/f6d76417ae3fa8b6bfd758ac3501ebad/9bb7a/iterm-menu-new-script.png\"\n        srcset=\"/static/f6d76417ae3fa8b6bfd758ac3501ebad/772e8/iterm-menu-new-script.png 200w,\n/static/f6d76417ae3fa8b6bfd758ac3501ebad/e17e5/iterm-menu-new-script.png 400w,\n/static/f6d76417ae3fa8b6bfd758ac3501ebad/9bb7a/iterm-menu-new-script.png 676w\"\n        sizes=\"(max-width: 676px) 100vw, 676px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>If prompted, go ahead and download the Python runtime:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 434px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/c6b6fab2ae5ed392a0f1b6faec6db7e8/ade6e/download-runtime.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 40.78341013824885%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsSAAALEgHS3X78AAABeklEQVQoz11RSW7CQBDkCxwTESIQQQSMPbbHC9jIQUICW6xecC4cyCUJ/8gD8oycorywMt0sWQ6l7im7a6prKle6hPCH0FwffXdwge6d+yPvej6C4RBBGCIIgj8If3GV254Oz7YghQWHqkXVhmWasC0TjrS5WoonmOZP/x/0rVLraHAdB9pIoi8dWEosjmMU2y3yosB6s0FBdb1GlmXYKn48HkPXdRYQQjCoZ8Gb+6NgtV1HtVaHMC1MJhNslNBqtcJyueQ+SZILl6Yp5osF5vMFn2fKwMUhCdKqjWYbjdYdDMNQP87ZSVmWDBIi5HnObs98lqXserfbcX40exGUUsJRTsn+dDplUXJCK1M/m83geR5jMBjA91z4vq9mXOYoZ3ZYp5VV8Bw2P4SyfspFqBspKxokF4fDAfv9Ex6iEM34De7zF0YvHxi+fqK1ej8KXnd6PKzpBvrGGQL6CXQW6pJwNOLHiKJIuZLoegmM6BFmVEBEJbr+gnW+Af0pESNQCB0fAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"download runtime\"\n        title=\"download runtime\"\n        src=\"/static/c6b6fab2ae5ed392a0f1b6faec6db7e8/ade6e/download-runtime.png\"\n        srcset=\"/static/c6b6fab2ae5ed392a0f1b6faec6db7e8/772e8/download-runtime.png 200w,\n/static/c6b6fab2ae5ed392a0f1b6faec6db7e8/e17e5/download-runtime.png 400w,\n/static/c6b6fab2ae5ed392a0f1b6faec6db7e8/ade6e/download-runtime.png 434w\"\n        sizes=\"(max-width: 434px) 100vw, 434px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>Next choose the Basic environment (Full Environment is only for more complex scripts that need to install other packages, that won't be necessary for simply opening tabs and running commands):</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 475px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/b2fe08d8a61b87de8b81ac2079fc5a60/466da/choose-python-env.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 69.26315789473684%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsSAAALEgHS3X78AAACJ0lEQVQ4y51USa7TQBD1SWADKyQyKMnPhOMkTuw4sZ04kzLyM1gJGZQvsUAIroE4BRI7JI7BgiOw4ARILB5+9dVR/mdYsHiqruryq65X3dZSqRTyuRxygqzYbPbW5vN5ZDIZxONxJBKJf0LlaPzQ81yYNUvgex7qdQu2bcN1XVSrVbAoiS+RTqfvgDHmaTyFUTYx7HsYDdvQS1U4jhMV8VCr1SLyupD/CY1G47zmN+VyGVoqU8BxVsK3Lzt8/3rEflJE0w2wXi9hWdaZ1DTNO2uiUqlITMUNw4D2NPUM7/cx/Pj0AD8/P8S77RNYbh83pyMOhwN2ux32+72A/mazOceGw6EQkZDFhTCbL6DTKOPD60f4+OYx2raOhuNiMOgjCAJ0Oh1Bt9tFu90WqBj3fyPkhGuWA6NqQzdqMOt2lGDKJjVhW7QcjmrvEiQiqOctYTQUy6LwdQxGE9gNB77vYT6fYzQaYTweCyi60pFQOiqcNSQhExbLELPnKwTtAG6rhevFArPZTLBcLkUv3/fR6/Wk/X6/L1aBUggh70+42WEdbvDy1Vs40QmZcDqdsN1uz4MgKf0wDMUyxsGsViuxLKTrejSUqytcr0KELw4IIqErlbJUY5tseTqdSruX95Ga0Vf6qbjcw6uIUA2gVCrJEOhzrSz3/gbmFAoFFItFeara/bdIe//tqtglGI/FYkI0mUxEazlhMpnE/4Kk/JE0m020okHypL8AQOMFBTh4ei0AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"choose python environment\"\n        title=\"choose python environment\"\n        src=\"/static/b2fe08d8a61b87de8b81ac2079fc5a60/466da/choose-python-env.png\"\n        srcset=\"/static/b2fe08d8a61b87de8b81ac2079fc5a60/772e8/choose-python-env.png 200w,\n/static/b2fe08d8a61b87de8b81ac2079fc5a60/e17e5/choose-python-env.png 400w,\n/static/b2fe08d8a61b87de8b81ac2079fc5a60/466da/choose-python-env.png 475w\"\n        sizes=\"(max-width: 475px) 100vw, 475px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>Choose Simple script template (because the script we will write will simply run its commands and then exit, it doesn't need to stay open listening for iTerm events):</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 482px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/d021707f4cf4637a49320a48dcf91a52/37e0d/choose-script-template.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 68.04979253112033%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsSAAALEgHS3X78AAACEUlEQVQ4y51UyY7aQBDle1jEIkAwLMbGG9gGbAyGERD2JaBRcsl5znPIIT+Qwyi/EOXvXvwa2fLMIYlyeKrq7upXr6rcTj08PKBWq6Fer8doNBool8soFAooFovC/g2My+VySDmOA01T0TNNWJaFfr+PwWCAZrOJSqWCarX6T6CAbDaLVK/XgzeZwbIH0A1DELquC9u2YYZJkmBscm2E8bS8oygKMpkMUtv9CR9vn/D0+QvGkwCj0Qin0wnj8ThUrsWXdF2P1yRmNQT3eCbL8p3QNA0slx/CQwfdbheTyQSXywWHwwHH4xHX6xXn81n4xO12w3w+x2w2EzZKFhN6rofHYC6GwU32z/d9odTzPKE06dNSJZVF6kgal2z2TGi6du9JqJYBVKqqqrBJPyJ530e2IFZodEMS1YChhVkVXQRwIO/BxpM4mShKxiSdTudO6Jam+Fr7jm+NV7j5AEN/iOPhiN1uh/1+L3pJu1qt3kybCWijQcUKH8tbvA5/4sfwF4LMBo5vY787YL1eh8NaCuLtdovFYoHNZiMGxD2esddU+GYotu7g2X/Bs/eCnmzBdizMZ/cpcuLRRHl5Op0KPwgCoTD5GcVDUVQFUkeCJEtQurI4kCRJgH1J+sk144hWq4V2uy1elngpxUJRvEOBpP8HlEol5PN5QcJWsHySp9NppHj4PyAxfyosnV8Bfygs+Tfd+v4Lahjq7wAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"choose script template\"\n        title=\"choose script template\"\n        src=\"/static/d021707f4cf4637a49320a48dcf91a52/37e0d/choose-script-template.png\"\n        srcset=\"/static/d021707f4cf4637a49320a48dcf91a52/772e8/choose-script-template.png 200w,\n/static/d021707f4cf4637a49320a48dcf91a52/e17e5/choose-script-template.png 400w,\n/static/d021707f4cf4637a49320a48dcf91a52/37e0d/choose-script-template.png 482w\"\n        sizes=\"(max-width: 482px) 100vw, 482px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>Finally, give your script a name to save it, I name mine <code>daily-startup.py</code> but you can choose any name you like:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 340px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/c036064967a69f688e96b5474c7f2ffa/9f933/save-script.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 52.352941176470594%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAAB2ElEQVQoz22Sy27TUBRF/SFMGAASJbHjx41fSe3aaUnjpHk1VEljQykoNEQqkyKhMOYbmCM+gQkDPm1xr9ugpGWwdK7O0dna++hqQRCwg+8RbhP49E96dLMOgeeW84fc9eW+ZhgGlUqFarVaUjEdnpuCF1adPVkVuvCx/GZZq84uuqpCVQ+jVkOzbZu01eIgjmjECdHpGyYXH+icFfTnl5ycv6U3vaDR7iOSY9w0o552tshwkzbi5RgjTNFM06TRaEjLPnXPJ+i+on32mmQwpTU653A852iSExwPcZIM0eoi0m16kgznaEDNa6LVpE0VNU1T0iRBOA6iXpe4O7h+gB+EePdQ9wvDAE/OLWmuFFSxPc/Ddd1yKZbiiRRXxHFMHEVE/2UfEUvnfsJ+s4FpWWi6rpfDLOsSNUN5u5zi23c+39ywXq9ZLpfMZjOKoiDP83/MJcV8SvDuB3b7inx2iu2I2xsqlxts28GWER0ZfYNKoGbqR6hqSSfCNhGWTsWwZV8v36ZZu42sRDeUwneLm/u25C9YLBasViuulh+ZDDOepp94XPzh4PoX+vvfPBr9xLC9h4L3Ua7CMGQwGDAejxkORxymEXvBmGftr3ijL1S7a54k19Qsh78IvF6yL0incQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"save script\"\n        title=\"save script\"\n        src=\"/static/c036064967a69f688e96b5474c7f2ffa/9f933/save-script.png\"\n        srcset=\"/static/c036064967a69f688e96b5474c7f2ffa/772e8/save-script.png 200w,\n/static/c036064967a69f688e96b5474c7f2ffa/9f933/save-script.png 340w\"\n        sizes=\"(max-width: 340px) 100vw, 340px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h2>Script Skeleton</h2>\n<p>This will open the script in an editor with a basic skeleton already filled in. I've added a few comments to explain what each part does:</p>\n<pre class=\"grvsc-container gatsby-highlight monokai\" data-language=\"python\" data-index=\"0\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">#!/usr/bin/env python3.7</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\"># Import the iterm2 python module to provide an interface for communicating with iTerm</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">import</span><span class=\"mtk1\"> iterm2</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\"># All the script logic goes in the main function</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\"># `connection` holds the link to a running iTerm2 process</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\"># `async` indicates that this function can be interrupted. This is required because</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">#  iTerm2 communicates with the script over a websocket connection,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">#  any time the script sends/receives info from iterm2, it has to wait for a few milliseconds.</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk9 mtki\">async</span><span class=\"mtk1\"> </span><span class=\"mtk9 mtki\">def</span><span class=\"mtk1\"> </span><span class=\"mtk5\">main</span><span class=\"mtk1\">(</span><span class=\"mtk10 mtki\">connection</span><span class=\"mtk1\">):</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\"># Get a reference to the iterm2.App object - a singleton that provides access to iTerm2’s windows,</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\"># and in turn their tabs and sessions.</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    app </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> </span><span class=\"mtk7\">await</span><span class=\"mtk1\"> iterm2.async_get_app(connection)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk3\"># Fetch the “current terminal window” from the app (returns None if there is no current window)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    window </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> app.current_terminal_window</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk7\">if</span><span class=\"mtk1\"> window </span><span class=\"mtk7\">is</span><span class=\"mtk1\"> </span><span class=\"mtk7\">not</span><span class=\"mtk1\"> </span><span class=\"mtk4\">None</span><span class=\"mtk1\">:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk3\"># Add a tab to current window using the default profile</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk7\">await</span><span class=\"mtk1\"> window.async_create_tab()</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk7\">else</span><span class=\"mtk1\">:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk3\"># You can view this message in the script console.</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk9\">print</span><span class=\"mtk1\">(</span><span class=\"mtk6\">&quot;No current window&quot;</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\"># Make a connection to iTerm2 and invoke the main function in an asyncio event loop.</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\"># When main returns the program terminates.</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">iterm2.run_until_complete(main)</span></span></span></code></pre>\n<h2>Run Script</h2>\n<p>Currently, all the <code>daily-startup.py</code> script does is to open a new tab in the current terminal window. It doesn't do any real work yet but let's do a quick test and run it just to make sure everything is setup correctly.</p>\n<p>There are several different ways to <a href=\"https://iterm2.com/python-api/tutorial/running.html\">run a script</a> but the easiest is to use the \"Open Quickly\" window. To launch it, enter <kbd>Cmd</kbd> + <kbd>Shift</kbd> + <kbd>O</kbd>, then start typing the name of the script, when its highlighted, hit <kbd>Enter</kbd> to run it. Make sure the focus is in iTerm when you do this:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 487px;\"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/66e01a6789f75f70e996318cf158aac2/7b439/open-quickly.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 40.86242299794661%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsSAAALEgHS3X78AAABr0lEQVQoz43Su2/TUBTHcVMkHlOHZukGQ4SEaKo09r3Xr7iJH0mbVGrd4JpCm/KWgsSGhChL/wo2JhYQEisSQ0kZOgFFMADif/ly47RBLIjho3P8s6905XOMy5ZEeHWizgoLtsOVmkXFFMyZ1kRFsywLKeU/OY6D4Xg+V9OUB4MBS+02trKLF57r4nmermOu5ujshHucjXP9je8TBAFG1Q+YFS62Du7dvsVmnrGzfZ2w4eMoE9cWBUdZk/7k2ZbmH6KG7+kbXlIRMwstRLNLZ3WdqJtpOfUkxYvXCFopzeV1XddotFOCZJVwuVfUqmrq3xQWqirErscYc4N3PH3+jdrjIXuvXxLsfUQ8+YXc/YHY/cn0za8Y2RGnr31hKj8qjPqRUxufx9nGJ4z8O7PZK4zyzhsePTvkwt195h++pXx/SGnrgOnNA2ZufOB8NuRM7/3E2d7wr37kXG+fqd4hF/MXGPN+SElELLa69Pt32NruE4YxNT1tSyiUHpKUCvEfRgMyyqaiVNGH/TpL3Y62QpgkLIYRjSimEcc040RP3EUUqyOQQhRViPE6iWNKSX4Duc8nxXFed1MAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"open quickly\"\n        title=\"open quickly\"\n        src=\"/static/66e01a6789f75f70e996318cf158aac2/7b439/open-quickly.png\"\n        srcset=\"/static/66e01a6789f75f70e996318cf158aac2/772e8/open-quickly.png 200w,\n/static/66e01a6789f75f70e996318cf158aac2/e17e5/open-quickly.png 400w,\n/static/66e01a6789f75f70e996318cf158aac2/7b439/open-quickly.png 487w\"\n        sizes=\"(max-width: 487px) 100vw, 487px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>The script should run and you should see a new tab open.</p>\n<h2>Run Commands in Tabs</h2>\n<p>Now that we know the script is working, let's go ahead and open another tab, and run some commands in each tab. To do this, we need to get the current session associated with each tab, and then use the <code>async_send_text</code> method to send text through to the tab as if a user had entered it directly into the terminal. The newline character <code>\\n</code> must be appended to each command to actually submit it. Edit your script as follows and save it:</p>\n<pre class=\"grvsc-container gatsby-highlight monokai\" data-language=\"python\" data-index=\"1\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">#!/usr/bin/env python3.7</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">import</span><span class=\"mtk1\"> iterm2</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk9 mtki\">async</span><span class=\"mtk1\"> </span><span class=\"mtk9 mtki\">def</span><span class=\"mtk1\"> </span><span class=\"mtk5\">main</span><span class=\"mtk1\">(</span><span class=\"mtk10 mtki\">connection</span><span class=\"mtk1\">):</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    app </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> </span><span class=\"mtk7\">await</span><span class=\"mtk1\"> iterm2.async_get_app(connection)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    window </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> app.current_terminal_window</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk7\">if</span><span class=\"mtk1\"> window </span><span class=\"mtk7\">is</span><span class=\"mtk1\"> </span><span class=\"mtk7\">not</span><span class=\"mtk1\"> </span><span class=\"mtk4\">None</span><span class=\"mtk1\">:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk3\"># Open a tab</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk7\">await</span><span class=\"mtk1\"> window.async_create_tab()</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk3\"># Get the active session in this tab</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        session </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> app.current_terminal_window.current_tab.current_session</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk3\"># Send text to the session as though the user had typed it</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk7\">await</span><span class=\"mtk1\"> session.async_send_text(</span><span class=\"mtk6\">&#39;echo hello</span><span class=\"mtk4\">\\n</span><span class=\"mtk6\">&#39;</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk3\"># Open another tab</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk7\">await</span><span class=\"mtk1\"> window.async_create_tab()</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        session </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> app.current_terminal_window.current_tab.current_session</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk7\">await</span><span class=\"mtk1\"> session.async_send_text(</span><span class=\"mtk6\">&#39;echo world</span><span class=\"mtk4\">\\n</span><span class=\"mtk6\">&#39;</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk7\">else</span><span class=\"mtk1\">:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk9\">print</span><span class=\"mtk1\">(</span><span class=\"mtk6\">&quot;No current window&quot;</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">iterm2.run_until_complete(main)</span></span></span></code></pre>\n<p>Go ahead and use the Open Quickly window again (<kbd>Cmd</kbd> + <kbd>Shift</kbd> + <kbd>O</kbd>) to run <code>daily-startup.py</code> again.</p>\n<p>This time you should get two tabs opened with the first one having run <code>echo hello</code> and the second one having run <code>echo world</code>. Of course, echo-ing various text is not that useful, that was just to demonstrate the concept.</p>\n<p>Now that the basic idea is working, the script can be customized to perform all the daily startup tasks you would run. For example, I run two different projects, one of which is started with <code>docker-compose up</code> and another which also uses docker compose but only to start the databases, then runs a rails server in another tab. I also launch a redis gui in another tab. And open VS Code for each project in more tabs. So my script looks something like this. I find it useful to comment each tab section with the task its performing:</p>\n<pre class=\"grvsc-container gatsby-highlight monokai\" data-language=\"python\" data-index=\"2\"><code class=\"grvsc-code\"><span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk3\">#!/usr/bin/env python3.7</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk7\">import</span><span class=\"mtk1\"> iterm2</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk9 mtki\">async</span><span class=\"mtk1\"> </span><span class=\"mtk9 mtki\">def</span><span class=\"mtk1\"> </span><span class=\"mtk5\">main</span><span class=\"mtk1\">(</span><span class=\"mtk10 mtki\">connection</span><span class=\"mtk1\">):</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    app </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> </span><span class=\"mtk7\">await</span><span class=\"mtk1\"> iterm2.async_get_app(connection)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    window </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> app.current_terminal_window</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk7\">if</span><span class=\"mtk1\"> window </span><span class=\"mtk7\">is</span><span class=\"mtk1\"> </span><span class=\"mtk7\">not</span><span class=\"mtk1\"> </span><span class=\"mtk4\">None</span><span class=\"mtk1\">:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk3\"># Open VS Code for project A</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk7\">await</span><span class=\"mtk1\"> window.async_create_tab()</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        session </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> app.current_terminal_window.current_tab.current_session</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk7\">await</span><span class=\"mtk1\"> session.async_send_text(</span><span class=\"mtk6\">&#39;cd path/to/projectA</span><span class=\"mtk4\">\\n</span><span class=\"mtk6\">&#39;</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk7\">await</span><span class=\"mtk1\"> session.async_send_text(</span><span class=\"mtk6\">&#39;code .</span><span class=\"mtk4\">\\n</span><span class=\"mtk6\">&#39;</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk3\"># Run the full stack for project A</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk7\">await</span><span class=\"mtk1\"> window.async_create_tab()</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        session </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> app.current_terminal_window.current_tab.current_session</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk7\">await</span><span class=\"mtk1\"> session.async_send_text(</span><span class=\"mtk6\">&#39;cd path/to/projectA</span><span class=\"mtk4\">\\n</span><span class=\"mtk6\">&#39;</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk7\">await</span><span class=\"mtk1\"> session.async_send_text(</span><span class=\"mtk6\">&#39;docker-compose up</span><span class=\"mtk4\">\\n</span><span class=\"mtk6\">&#39;</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk3\"># Open VS Code for project B</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk7\">await</span><span class=\"mtk1\"> window.async_create_tab()</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        session </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> app.current_terminal_window.current_tab.current_session</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk7\">await</span><span class=\"mtk1\"> session.async_send_text(</span><span class=\"mtk6\">&#39;cd path/to/projectB</span><span class=\"mtk4\">\\n</span><span class=\"mtk6\">&#39;</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk7\">await</span><span class=\"mtk1\"> session.async_send_text(</span><span class=\"mtk6\">&#39;code .</span><span class=\"mtk4\">\\n</span><span class=\"mtk6\">&#39;</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk3\"># Run Postgres and Redis for project B</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk7\">await</span><span class=\"mtk1\"> window.async_create_tab()</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        session </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> app.current_terminal_window.current_tab.current_session</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk7\">await</span><span class=\"mtk1\"> session.async_send_text(</span><span class=\"mtk6\">&#39;cd path/to/projectB</span><span class=\"mtk4\">\\n</span><span class=\"mtk6\">&#39;</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk7\">await</span><span class=\"mtk1\"> session.async_send_text(</span><span class=\"mtk6\">&#39;docker-compose up</span><span class=\"mtk4\">\\n</span><span class=\"mtk6\">&#39;</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk3\"># Run Rails server for project B</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk7\">await</span><span class=\"mtk1\"> window.async_create_tab()</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        session </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> app.current_terminal_window.current_tab.current_session</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk7\">await</span><span class=\"mtk1\"> session.async_send_text(</span><span class=\"mtk6\">&#39;cd path/to/projectB</span><span class=\"mtk4\">\\n</span><span class=\"mtk6\">&#39;</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk7\">await</span><span class=\"mtk1\"> session.async_send_text(</span><span class=\"mtk6\">&#39;bundle exec rails s</span><span class=\"mtk4\">\\n</span><span class=\"mtk6\">&#39;</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk3\"># Run a Redis GUI</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk7\">await</span><span class=\"mtk1\"> window.async_create_tab()</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        session </span><span class=\"mtk7\">=</span><span class=\"mtk1\"> app.current_terminal_window.current_tab.current_session</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk7\">await</span><span class=\"mtk1\"> session.async_send_text(</span><span class=\"mtk6\">&#39;redis-commander --redis-port 6381 --redis-db 0</span><span class=\"mtk4\">\\n</span><span class=\"mtk6\">&#39;</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk3\"># ...</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">    </span><span class=\"mtk7\">else</span><span class=\"mtk1\">:</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">        </span><span class=\"mtk9\">print</span><span class=\"mtk1\">(</span><span class=\"mtk6\">&quot;No current window&quot;</span><span class=\"mtk1\">)</span></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"></span></span>\n<span class=\"grvsc-line\"><span class=\"grvsc-source\"><span class=\"mtk1\">iterm2.run_until_complete(main)</span></span></span></code></pre>\n<p>You can keep customizing until the script is performing all the daily tasks you would otherwise be typing in manually.</p>\n<h2>Backup</h2>\n<p>Last thing to do is to make a backup of the script to avoid losing it should your hard drive crash. The script is located at <code>/Users/yourusername/Library/Application Support/iTerm2/Scripts/script-name.py</code>.</p>\n<h2>Related Content</h2>\n<p>The following section contains affiliate links for related content you may find useful. I get a small commission from purchases which helps me maintain this site.</p>\n<p>Just wanted to share a book I found really incredible in improving my productivity by figuring out <em>when</em> is the best time to do certain types of tasks such as analytical vs insight. The book is <a href=\"https://amzn.to/32dBPF1\">When: The Scientific Secrets of Perfect Timing</a>.</p>\n<p>Looking to level up on Rails 6? You might like this book: <a href=\"https://amzn.to/3wS8GNA\">Agile Web Development with Rails 6</a>.</p>\n<p>Working on a large legacy code base? This book <a href=\"https://amzn.to/3accwHF\">Working Effectively with Legacy Code</a> is a must read.</p>\n<p>Martin Fowler's <a href=\"https://amzn.to/2RFC0Xn\">Refactoring: Improving the Design of Existing Code</a> is also amazingly useful on this topic.</p>\n<p>Is your organization introducing microservices? This book <a href=\"https://amzn.to/3uSxa87\">Building Event-Driven Microservices: Leveraging Organizational Data at Scale</a> is a fantastic resource on this topic.</p>\n<style class=\"grvsc-styles\">\n  .grvsc-container {\n    overflow: auto;\n    position: relative;\n    -webkit-overflow-scrolling: touch;\n    padding-top: 1rem;\n    padding-top: var(--grvsc-padding-top, var(--grvsc-padding-v, 1rem));\n    padding-bottom: 1rem;\n    padding-bottom: var(--grvsc-padding-bottom, var(--grvsc-padding-v, 1rem));\n    border-radius: 8px;\n    border-radius: var(--grvsc-border-radius, 8px);\n    font-feature-settings: normal;\n    line-height: 1.4;\n  }\n  \n  .grvsc-code {\n    display: table;\n  }\n  \n  .grvsc-line {\n    display: table-row;\n    box-sizing: border-box;\n    width: 100%;\n    position: relative;\n  }\n  \n  .grvsc-line > * {\n    position: relative;\n  }\n  \n  .grvsc-gutter-pad {\n    display: table-cell;\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  .grvsc-gutter {\n    display: table-cell;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter::before {\n    content: attr(data-content);\n  }\n  \n  .grvsc-source {\n    display: table-cell;\n    padding-left: 1.5rem;\n    padding-left: var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem));\n    padding-right: 1.5rem;\n    padding-right: var(--grvsc-padding-right, var(--grvsc-padding-h, 1.5rem));\n  }\n  \n  .grvsc-source:empty::after {\n    content: ' ';\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    user-select: none;\n  }\n  \n  .grvsc-gutter + .grvsc-source {\n    padding-left: 0.75rem;\n    padding-left: calc(var(--grvsc-padding-left, var(--grvsc-padding-h, 1.5rem)) / 2);\n  }\n  \n  /* Line transformer styles */\n  \n  .grvsc-has-line-highlighting > .grvsc-code > .grvsc-line::before {\n    content: ' ';\n    position: absolute;\n    width: 100%;\n  }\n  \n  .grvsc-line-diff-add::before {\n    background-color: var(--grvsc-line-diff-add-background-color, rgba(0, 255, 60, 0.2));\n  }\n  \n  .grvsc-line-diff-del::before {\n    background-color: var(--grvsc-line-diff-del-background-color, rgba(255, 0, 20, 0.2));\n  }\n  \n  .grvsc-line-number {\n    padding: 0 2px;\n    text-align: right;\n    opacity: 0.7;\n  }\n  \n  .monokai {\n    background-color: #272822;\n    color: #f8f8f2;\n  }\n  .monokai .mtki { font-style: italic; }\n  .monokai .mtk3 { color: #75715E; }\n  .monokai .mtk7 { color: #F92672; }\n  .monokai .mtk1 { color: #F8F8F2; }\n  .monokai .mtk9 { color: #66D9EF; }\n  .monokai .mtk5 { color: #A6E22E; }\n  .monokai .mtk10 { color: #FD971F; }\n  .monokai .mtk4 { color: #AE81FF; }\n  .monokai .mtk6 { color: #E6DB74; }\n  .monokai .grvsc-line-highlighted::before {\n    background-color: var(--grvsc-line-highlighted-background-color, rgba(255, 255, 255, 0.1));\n    box-shadow: inset var(--grvsc-line-highlighted-border-width, 4px) 0 0 0 var(--grvsc-line-highlighted-border-color, rgba(255, 255, 255, 0.5));\n  }\n</style>","title":"Automate Tabs & Commands in iTerm2","description":"Speed up your daily workflow with iTerm2 automation."}},"staticQueryHashes":["163244226"]}